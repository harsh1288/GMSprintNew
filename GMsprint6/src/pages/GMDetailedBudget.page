<apex:page id="page" standardController="Module__c" extensions="GMDetailedBudget" showHeader="true" sidebar="false">
    <apex:stylesheet value="{!URLFOR($Resource.GoalsJs, 'assets/css/bootstrap.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.GoalsJs, 'assets/css/bootstrap-responsive.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.ColorButton, 'ColorButton/assets/css/yellowcolor.css')}"/>
    
    <style>
        .headerRowUpper{
            border:1px solid #E0E3E5 !important;
            font-weight:bold !important;         
        }
        .headerRowLower{
            border:1px solid #E0E3E5 !important;
            font-weight:bold !important;
            background-color:#0066BB !important;
            color:white !important;
            white-space: normal !important;
        }
        .totalRow{
            border-top:1px;
            font-weight:bold !important;
        }
        .TDstyle{
            border:1px solid #E0E3E5 !important;
            vertical-align: top;
        }
        input{
            width: 50px;
        }
        label {
            font-weight: bold;
            display: inherit;
        }
        .pageContent {
            color: #4A4A56; 
            font-size: 0.9em; 
            font-weight: bold; 
            padding-left: 1px;
        }
        .pageTitleIcon {
            margin-top: 5px;
            background-image: url("/img/sprites/master.png");
            background-position: 0 -1058px;
            height: 32px;
            width: 32px;
            display: inline;
            float: left;
            margin-right: 5px;
            margin-left: 10px;
        }
        .pageDescription{
            font-size: 1.8em; 
            font-weight: normal;
            line-height: 1.1em;
        }
        .sidebarMenu{
            width : 270px;
        }
        .custPopup{
            background-color: #ededed;
            border-width: 0px;
            border-radius:10px;
            border-style: solid;
            z-index: 9999;
            left: 50%;
            margin-top:-60px;
            padding:10px;
            position: absolute;
            width:300px;
            height:130px;
        }
        .popupBackground{
            background-color:black;
            opacity: 0.50;
            filter: alpha(opacity = 20);
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: 9998;
            top: 0;
            left: 0;
        }
        
        .custPopupApply{
            background-color: #ededed;
            border-width: 0px;
            border-radius:10px;
            border-style: solid;
            z-index: 9999;
            left: 50%;
            margin-top:-60px;
            padding:10px;
            position: absolute;
            width:366px;
            height:163px;
        }
        
        .popupButtonYes{
            background-color: #49C739 !important;
            background-image: none !important;
            color: white !important;
            font-size: 12.9pt !important;
            font-weight: bold !important;
            height: 30px !important;;
            width: 90px !important;;
        }
        .popupButtonCancel{
            background-color: #d82516 !important;
            background-image: none !important;
            color: white !important;
            font-size: 12.9pt !important;
            font-weight: bold !important;
            height: 30px !important;;
            width: 90px !important;;
        }
        .deletePopup{
            background-color: #EDEDED !important;
            border-top: 0px !important;
            text-align:center !important;
        }
        .deletePopupCancel{
            background-color: #EDEDED !important;
            border-top: 0px !important;
            text-align:left !important;
        }
        .TGFbtn-mini{
            margin-top:6px;
        }
        h3{
            font-size:24px;
        }
        .chatterFeedPanel{
            height: 225px !important;
        }  
        .imgclass:hover{  
            background-image: url(/img/help/helpOrbs.gif);  
            background-repeat: no-repeat;  
            width: 16px;  
            height: 15px;     
            background-position: right;  
         
        }  
        .imgclass{  
            background-image: url(/img/help/helpOrbs.gif);  
            background-repeat: no-repeat;  
            width: 16px;  
            height: 15px;  
        } 
        .h4 {
        font-size:18px;
        line-height: 1.5;
        font-weight:bold;
    }
    .linkunderline{
        color:#2E7BBB;
        text-decoration:underline;
    }
    .fieldColor{
        color: #0000FF !important;
        
    }
     .bPageHeader td.left div
    {
      width:260px;
    }
    .bPageHeader .phHeader .left .spacer, .bPageHeader .phHeader td.left {
        width: 0px !important;
    }
    .multiforce #toolbar {
        background-image: none !important;
    }
    </style>
    <div class="margin20">
    <!--<ul class="breadcrumb">
        <li>
            <a href="{!if($Profile.Name=='PR Standard Portal User','/GM','')}/apex/OpenConceptNotesH" class="link">{!strConceptNotes }</a>
            <span class="divider">/</span>
        </li>
        <li>
            <a href="{!if($Profile.Name=='PR Standard Portal User','/GM','')}/apex/openconceptnotesH?id={!Module__c.Concept_Note__r.CCM_new__r.Country__c}" class="link">{!Module__c.Concept_Note__r.CCM_new__r.Country__r.Name}</a>
            <span class="divider">/</span>
        </li>
        <li>
            {!Module__c.Implementation_Period__r.Name}                    
        </li>
    </ul>-->
    <h3>
        {!strGIPName} - Detailed Budget - {!Module__c.Name}
    </h3>
    <span class="pull-right">
         <!--  <a href="{!if(CONTAINS($Profile.Name,'PR')  || CONTAINS($Profile.Name,$label.Applicant_CM_Admin) || CONTAINS($Profile.Name,$label.Applicant_CM_Read_Write) || CONTAINS($Profile.Name,$label.Applicant_CM_Read_Only) || CONTAINS($Profile.Name,$label.LFA_GM_Admin_Portal_User),'/GM','')}/apex/GrantMakingGuidance?Id={!strImpGuidanceId}" target="_blank" class="link help" >{!$Label.See_Help}</a> -->
          <img src="/img/func_icons/util/info16.png" style="padding-bottom:5px"/>
          <a href="{!if((blnExternalPro),'/GM','')}/apex/GrantMakingGuidance?Id={!strImpGuidanceId}" target="_blank" class="linkunderline h4" >{!$Label.See_Help}</a>
    </span>
    <!-- TCS 21/10/2014: Spring 4 US on detailed budget -->
     <br/><br/>  
   <div id="Infopanel" class="alert alert-info stretch">                   
                <button type="button" class="close" data-dismiss="alert" onclick="closePanel();">
                    Ã—
                </button>
                <b>
                {!$Label.Detail_Budget_Narrative}
                            </b>
        </div> 
   <!-- <ul class="breadcrumb">
                <li>
                    <a href="{!if(blnExternalPro==true,'/GM','')}/apex/grantmakinghome" class="link">Grant-Making </a>
                    <span class="divider">/</span>
                </li>
                <li>
                    <a href="{!if(blnExternalPro==true,'/GM','')}/apex/grantmakingHome?id={!Module__c.Implementation_Period__r.Grant__r.Country__c}" class="link">{!Module__c.Implementation_Period__r.Grant__r.Country__r.Name}</a>
                    <span class="divider">/</span>
                </li>
                <li>
                    <a href="{!if(blnExternalPro==true,'/GM','')}/apex/grantmakingoverview?id={!Module__c.Implementation_Period__r.Id}" class="link">{!Module__c.Implementation_Period__r.Name}</a>
                </li>
            </ul> -->
    <chatter:feedWithFollowers id="chatterFeed" entityId="{!Module__c.Id}"/>
    </div>
    
    
    
    
    <br/>
    <apex:form id="frm">
        <!--  Panel for Exchange rate (TCS) -->
        <apex:outputPanel layout="block" >
            <table width="600px" height="80px">
                <tr >
                    <td>
                       <b> <apex:outputText value="Exchange Rates:"/></b>
                    </td>
                </tr>
                <tr>    
                    <td>
                        <apex:outputText value="EUR to {!grantcurrency}: " style="margin-left:4px"  rendered="{!If(lstModuleTemp[0].Implementation_Period__r.Currency_of_Grant_Agreement__c = 'USD',true,false)}"/>
                        <!-- <apex:outputField value="{!imp.Grant__r.Country__r.X200DEMA_Exch_Rate_in_EUR__c}"/> -->
                        <apex:outputText value="USD to {!grantcurrency}: " style="margin-left:4px"  rendered="{!If(lstModuleTemp[0].Implementation_Period__r.Currency_of_Grant_Agreement__c = 'EUR',true,false)}"/>
                        <apex:outputText value="{0,number,###0.000000}" >
                           <!-- <apex:param value="{!changerate}"/>-->
                          <apex:param value="{!excRateCountry}"/>
                       </apex:outputText>
                    </td>   
                </tr>
                <tr>    
                    <td>
                        <apex:outputText value="{!lstModuleTemp[0].Implementation_Period__r.Local_Currency__c} to {!grantcurrency}:  " style="margin-left:4px"/>
                    
                      <!--  <apex:outputText value="{0,number,###0.0000}" rendered="{!If(lstModuleTemp[0].Implementation_Period__r.Currency_of_Grant_Agreement__c = 'EUR',true,false)}" >
                            <apex:param value="{!lstModuleTemp[0].Implementation_Period__r.Grant__r.Country__r.X200DEMA_Exch_Rate_in_EUR__c}" /> 
                       </apex:outputText>
                       <apex:outputText value="{0,number,###0.0000}"  rendered="{!If(lstModuleTemp[0].Implementation_Period__r.Currency_of_Grant_Agreement__c = 'USD',true,false)}" >
                            <apex:param value="{!lstModuleTemp[0].Implementation_Period__r.Grant__r.Country__r.X200DEMA_Exch_Rate_in_USD__c}" /> 
                       </apex:outputText>-->
                       <apex:outputText value="{0,number,###0.000000}" >
                           <!-- <apex:param value="{!changerate}"/>-->
                          <apex:param value="{!grntCurrencyExcRate}"/>
                       </apex:outputText>
                    </td>   
                </tr> 
                <td>&nbsp;</td>
                 <tr>
                    <td >  
                        <b> <apex:outputText value="{!$Label.Total_Approved_Budget} ({!grantcurrency}): " style=" margin-top: 25px"/></b> 
                        <apex:outputField value="{!lstModuleTemp[0].Implementation_Period__r.High_level_budget_GAC_1_USD__c}" style="font-weight:bold;margin-top: 25px;" rendered="{!If(grantcurrency = 'USD',true,false)}"/>
                        <apex:outputField value="{!lstModuleTemp[0].Implementation_Period__r.High_level_budget_GAC_1_EUR__c}" style="font-weight:bold;margin-top: 25px;" rendered="{!If(grantcurrency = 'EUR',true,false)}" />
                    </td>
                </tr>
                <tr>
                <td>&nbsp;</td>
                </tr>
                <tr>
                    <td >  
                        <b> <apex:outputText value="{!$Label.Total_HPC_Amount} ({!grantcurrency}): " style=" margin-top: 25px;"/></b> 
                        <apex:outputtext value="{0,number,##,###,###,###}" style="margin-top: 25px;">
                            <apex:param value="{!ipde.HPC_Amount__c}" />
                          </apex:outputText>  
                        <!-- <apex:outputtext value="{!ipde.Total_HPC_Amount_EUR__c}" style="margin-top: 25px;" rendered="{!If(grantcurrency = 'EUR',true,false)}"/> -->
                    </td>
                </tr>
               
                <tr>
                <td >
                    <b> <apex:outputText value="{!$Label.Total_Budgeted_Amount} ({!grantcurrency}): " style="fmargin-top: 25px" /></b> 
                    <apex:outputText value="{0,number,##,###,###,###}" style="margin-top: 25px;">
                         <apex:param value="{!TotalBudgetAmount}" />
                    </apex:outputText>
                </td>
                </tr>
                <td>&nbsp;</td>
                <tr>
                <td>
                   <b>  <apex:outputText value="{!$Label.Remaining_Amount} ({!grantcurrency}): " style="margin-top: 25px" /></b> 
                    <apex:outputtext value="{0,number,##,###,###,###}" style="margin-top: 25px;" >
                        <apex:param value="{!RemainingBudgetAmount}" />
                    </apex:outputText>
                </td>
            </tr>
            </table>
        </apex:outputPanel>
    
    
      <!-- *******************************Panel For Budget Calculation(TCS)*******************************  -->
       
<!-- <apex:outputPanel layout="block" >    
        <table width="90%" height="40px"> 
            <tr height="20px">
                <td >  
                    <apex:outputText value="{!$Label.Total_Approved_Budget} ({!grantcurrency}): " style="font-size:130%; margin-top: 25px"/>
                    <apex:outputField value="{!ipde.High_level_budget_GAC_1_USD__c}" style="font-size:130%;font-weight:bold;margin-top: 25px;" rendered="{!If(grantcurrency = 'USD',true,false)}"/>
                     <apex:outputField value="{!ipde.High_level_budget_GAC_1_EUR__c}" style="font-size:130%;font-weight:bold;margin-top: 25px;" rendered="{!If(grantcurrency = 'EUR',true,false)}" />
                </td>
                <td >
                    <apex:outputText value="{!$Label.Total_Budgeted_Amount} ({!grantcurrency}): " style="font-size:130%;margin-top: 25px" />
                    <apex:outputField value="{!ipde.Total_Budgeted_Amount__c}" style="font-size:130%;font-weight:bold;margin-top: 25px;" />
                </td>
                <td>
                    <apex:outputText value="{!$Label.Remaining_Amount} ({!grantcurrency}): " style="font-size:130%;margin-top: 25px" />
                    <apex:outputField value="{!RemainingAmount}" style="font-size:130%;font-weight:bold;margin-top: 25px" />
                </td>
            </tr>
            
        </table>
    </apex:outputPanel> -->
    
    
       
    
        <!--<apex:inputHidden value="{!intIndex}" id="hdnIndex"/>-->
        <apex:inputHidden value="{!strLocalCurrencyRate}" id="hdnstrLocalCurrencyRate"/>
        <apex:inputHidden value="{!strGrantCurrencyRate}" id="hdnstrGrantCurrencyRate"/>
        <apex:inputHidden value="{!strOtherCurrencyRate}" id="hdnstrOtherCurrencyRate"/>
        <div class="containerTGF">
            <br/>
            <!--<apex:commandLink id="cmdLinkSaveGoal" styleClass="TGFbtn TGFbtn-mini TGFbtn-success" action="{!if(blnExternalPro,'/GM','')}/apex/grantmakingoverview?id={!strImplementationPeriodId}">
               <strong><apex:outputLabel value="{!$Label.Back_to_Grant_Making_Overview}"/></strong>             -->
            <apex:commandLink id="cmdLinkSaveGoal" styleClass="TGFbtn TGFbtn-mini TGFbtn-success" action="{!if(blnExternalPro,'/GM','')}/apex/DetailPageLink?Id={!BudStatus}">
                <strong><apex:outputLabel value="{!$Label.Back_To_Modules}"/></strong>                                            
            </apex:commandLink>
         <!--    <apex:commandlink styleClass="TGFbtn TGFbtn-mini TGFbtn-primary" style="margin-left:50px" action="{!if(blnExternalPro,'/GM','')}{!$Label.Overall_Budget_Report_Label}{!strGIPName}&pv1={!ipde.Name}" target="_blank">
                <apex:outputLabel value="{!$Label.View_Overall_Budget_Report}"/>
             </apex:commandlink>    -->
            <table width="100%">
            <tr>
            <td>
              <!--Pagination-->
              <br/>
                <apex:outputPanel style="float:left;font-size: medium;" id="Navigation2">
                    
                     <apex:outputText >
                         <apex:commandLink action="{!previousPage}" value="Previous Page " styleClass="btn" style="color:#0088cc !important;" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rerender="frm" rendered="{!if(offset>0 && TotalCountofRecords>10,true,false)}"/>
                     </apex:outputText>
                     <apex:outputText value="|" rendered="{!if(offset>0 && TotalCountofRecords>10 && offset+10<TotalCountofRecords,true,false)}"/>
                     <apex:outputText ><!-- rendered="{!paginater.showNext}"> -->
                         <apex:commandLink action="{!nextPage}" styleClass="btn" value=" Next Page "  style="color:#0088cc !important;" rerender="frm" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rendered="{!if(offset+10<TotalCountofRecords,true,false)}"/>
                    </apex:outputText>  <br/><br/>
                    
                <apex:outputText rendered="{!if(TotalCountofRecords>0,true,false)}">Page {!FLOOR(offset/10)+1} of {!FLOOR(TotalCountofRecords/10)+IF(((TotalCountofRecords/10)-FLOOR(TotalCountofRecords/10))>0,1,0)}</apex:outputText><br/>    
                 </apex:outputPanel>
                 </td>
                 <td>
                 <br/>
                 <apex:outputPanel style="float:right;font-size: medium;" >
                     
                     <apex:outputText >
                         <apex:commandLink styleClass="btn" action="{!previousPage}" value="Previous Page " style="color:#0088cc !important;" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rerender="frm" rendered="{!if(offset>0 && TotalCountofRecords>10,true,false)}"/>
                     </apex:outputText>                     
                     <apex:outputText value="|" style="color:#0088cc !important;" rendered="{!if(offset>0 && TotalCountofRecords>10 && offset+10<TotalCountofRecords,true,false)}"/>
                     <apex:outputText ><!-- rendered="{!paginater.showNext}"> -->
                         <apex:commandLink styleClass="btn" action="{!nextPage}" value=" Next Page " style="color:#0088cc !important;" rerender="frm" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rendered="{!if(offset+10<TotalCountofRecords,true,false)}"/>
                     </apex:outputText> <br/><br/> 
                   <apex:outputText rendered="{!if(TotalCountofRecords>0,true,false)}">Page {!FLOOR(offset/10)+1} of {!FLOOR(TotalCountofRecords/10)+1}</apex:outputText><br/> 
                 </apex:outputPanel>
             <!--Pagination-->
                </td>
             </tr>
             </table>
            <table width="100%">
                
                <tr>
                    <td valign="top" align="left">
                     </td>
                    <td valign="top" align="left" class="indicatorSide">   
                        <apex:inputHidden value="{!strSelectedYear}" id="hdnSelectedYear"/>
                        <table width="100%" cellspacing="0" cellsspacing="0" border="0" class="list">
                            <thead class="rich-table-thead">
                                <tr class="headerRow">
                                    <th width="50%"></th>
                                    <th class="headerRowUpper" id="MainThYear1" style="color:{!if(strSelectedYear == 'Year1','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYear == 'Year1','#434445','#DFEFF0')};" onclick="displayYearToggle('MainThYear1','{!$Component.hdnSelectedYear}','Year1','Year1th','Year1td');">
                                        <apex:outputlabel value="{!YEAR(GIPstartdate)}" styleclass="link"/>
                                    </th>                
                                    <th class="headerRowUpper" id="MainThYear2" style="color:{!if(strSelectedYear == 'Year2','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYear == 'Year2','#434445','#E7F2D5')};" onclick="displayYearToggle('MainThYear2','{!$Component.hdnSelectedYear}','Year2','Year2th','Year2td');">
                                        <apex:outputlabel value="{!YEAR(GIPstartdate)+1}" styleclass="link"/>
                                    </th>                
                                    <th class="headerRowUpper" id="MainThYear3" style="color:{!if(strSelectedYear == 'Year3','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYear == 'Year3','#434445','#FAF3CA')};" onclick="displayYearToggle('MainThYear3','{!$Component.hdnSelectedYear}','Year3','Year3th','Year3td');">
                                        <apex:outputlabel value="{!YEAR(GIPstartdate)+2}" styleclass="link"/>
                                    </th>               
                                    <th class="headerRowUpper" id="MainThYear4" style="color:{!if(strSelectedYear == 'Year4','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYear == 'Year4','#434445','#F0E1E2')};display:{!if(YEAR(GIPstartdate)+3 <= YEAR(GIPenddate),'','none')}" onclick="displayYearToggle('MainThYear4','{!$Component.hdnSelectedYear}','Year4','Year4th','Year4td');">
                                        <apex:outputlabel value="{!YEAR(GIPstartdate)+3}" styleclass="link"/>
                                   </th>
                                </tr>
                            </thead>
                         </table>
                         <table class="table table-striped">
                             <thead>
                                <tr class="headerRow">
                                     <th class="headerRowLower" width="5%" style="display:{!if(blnLFAFlag == true,'','none')};">
                                        <apex:outputlabel value="{!$Label.LFA_Flag}"/>
                                    </th>
                                    <th class="headerRowLower" width="2%">
                                        <apex:outputlabel value="#"/>
                                    </th>  
                                    <th class="headerRowLower" width="2%">
                                        <apex:outputlabel value="Ref. #"/>
                                    </th>              
                                    <th class="headerRowLower" width="10%">
                                        <apex:outputlabel value="{!$Label.Intervention}"/>
                                    </th>                
                                    <th class="headerRowLower" width="15%">
                                        <apex:outputlabel value="{!$Label.Activity_Description}"/>
                                    </th>
                                    <th class="headerRowLower" width="15%">
                                        <apex:outputlabel value="{!$Label.Cost_Grouping}"/>
                                    </th>                
                                    <th class="headerRowLower" width="10%">
                                        <apex:outputlabel value="{!$Label.Cost_Input}"/>
                                    </th>
                                    <th class="headerRowLower" width="8%">
                                        <apex:outputlabel value="{!$Label.Recipient}"/>
                                    </th>                
                                    <th class="headerRowLower" width="12%">
                                        <apex:outputlabel value="{!$Label.Unit_of_Measure}"/>
                                    </th>                
                                    <th class="headerRowLower" width="5%">
                                        <apex:outputlabel value="{!$Label.Currency}"/>
                                    </th>  
                                                  
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputlabel value="{!$Label.Unit_Cost_Y1}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year1th" style="background-color:white !important;display:{!if(strSelectedYear == 'Year1','','none')};"></th>
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputlabel value="{!$Label.Q1}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputlabel value="{!$Label.Q2}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputlabel value="{!$Label.Q3}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputlabel value="{!$Label.Q4}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputlabel value="{!$Label.Total_Y1}"/>
                                    </th>
                                    
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputlabel value="{!$Label.Unit_Cost_Y2}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};background-color:white !important;"></th>
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputlabel value="{!$Label.Q5}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputlabel value="{!$Label.Q6}"/>
                                    </th>                
                                    <th  class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputlabel value="{!$Label.Q7}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                       <apex:outputlabel value="{!$Label.Q8}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputlabel value="{!$Label.Total_Y2}"/>
                                    </th>
                                    
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputlabel value="{!$Label.Unit_Cost_Y3}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};background-color:white !important;"></th>
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputlabel value="{!$Label.Q9}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputlabel value="{!$Label.Q10}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputlabel value="{!$Label.Q11}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputlabel value="{!$Label.Q12}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputlabel value="{!$Label.Total_Y3}"/>
                                    </th>
                                    
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputlabel value="{!$Label.Unit_Cost_Y4}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};background-color:white !important;"></th>
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputlabel value="{!$Label.Q13}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputlabel value="{!$Label.Q14}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputlabel value="{!$Label.Q15}"/>
                                    </th>                
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputlabel value="{!$Label.Q16}"/>
                                    </th>
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputlabel value="{!$Label.Total_Y4}"/>
                                    </th>
                                    <th class="headerRowLower">
                                        <apex:outputlabel value="{!$Label.Grand_Total}"/>
                                    </th>
                                </tr>
                                
                   <!------------------------ Row for showing the total ------------------------>
                                
                                <tr class="headerRow">
                                    <th class="headerRowLower" width="2%" style="display:{!if(blnLFAFlag==true,'','none')}">
                                        
                                    </th>
                                    <th class="headerRowLower" width="2%">
                                        <apex:outputlabel value="Total"/>    
                                    </th> 
                                    <th class="headerRowLower" width="2%">
                                        
                                    </th>               
                                    <th class="headerRowLower" width="10%">
                                        
                                    </th>                
                                    <th class="headerRowLower" width="15%">
                                        
                                    </th>
                                    <th class="headerRowLower" width="15%">
                                        
                                    </th>                
                                    <th class="headerRowLower" width="10%">
                                        
                                    </th>
                                    <th class="headerRowLower" width="8%">
                                        
                                    </th>                
                                    <th class="headerRowLower" width="12%">
                                        
                                    </th>                
                                    <th class="headerRowLower" width="5%">
                                      {!grantcurrency }   
                                    </th>  
                                                  
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        
                                    </th>
                                    <th class="headerRowLower" id="Year1th" style="background-color:white !important;display:{!if(strSelectedYear == 'Year1','','none')};"></th>
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr1}"/>
                                        </apex:outputText>
                                    </th>                
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr2}"/>
                                        </apex:outputText>
                                        <!--<apex:outputlabel value="{!AmountQtr2}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr3}"/>
                                        </apex:outputText>
                                        <!--<apex:outputlabel value="{!AmountQtr3}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr4}"/>
                                        </apex:outputText>
                                        <!-- <apex:outputlabel value="{!AmountQtr4}"/> -->
                                    </th>
                                    <th class="headerRowLower" id="Year1th" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                         <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!TotalQtr1}"/>
                                         </apex:outputText>
                                        <!--  <apex:outputlabel value="{!TotalQtr1}"/>-->
                                    </th>
                                    
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                      <!--  <apex:outputlabel value="Unit Cost Y2"/>  -->
                                    </th>
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};background-color:white !important;"></th>
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr5}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr5}"/> -->
                                    </th>                
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr6}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr6}"/>-->
                                    </th>                
                                    <th  class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr7}"/>
                                         </apex:outputText>
                                        <!-- <apex:outputlabel value="{!AmountQtr7}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                       <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr8}"/>
                                         </apex:outputText>
                                         <!--<apex:outputlabel value="{!AmountQtr8}"/>-->
                                    </th>
                                    <th class="headerRowLower" id="Year2th" style="display:{!if(strSelectedYear == 'Year2','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!TotalQtr2}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!TotalQtr2}"/>-->
                                    </th>
                                    
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                      <!--  <apex:outputlabel value="Unit Cost Y3"/> -->
                                    </th>
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};background-color:white !important;"></th>
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr9}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr9}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr10}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr10}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr11}"/>
                                         </apex:outputText>
                                         <!--<apex:outputlabel value="{!AmountQtr11}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr12}"/>
                                         </apex:outputText>
                                        <!-- <apex:outputlabel value="{!AmountQtr12}"/>-->
                                    </th>
                                    <th class="headerRowLower" id="Year3th" style="display:{!if(strSelectedYear == 'Year3','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!TotalQtr3}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!TotalQtr3}"/>-->
                                    </th>
                                    
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                      <!--  <apex:outputlabel value="Unit Cost Y4"/>-->
                                    </th>
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};background-color:white !important;"></th>
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr13}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr13}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr14}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr14}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr15}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr15}"/>-->
                                    </th>                
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!AmountQtr16}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!AmountQtr16}"/>-->
                                    </th>
                                    <th class="headerRowLower" id="Year4th" style="display:{!if(strSelectedYear == 'Year4','','none')};">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!totalQtr4}"/>
                                         </apex:outputText>
                                         <!-- <apex:outputlabel value="{!totalQtr4}"/>-->
                                    </th>
                                    <th class="headerRowLower">
                                        <apex:outputText value="{0,number,##,###,###,###}">
                                            <apex:param value="{!GrantTotal}"/>
                                         </apex:outputText>
                                        <!-- <apex:outputlabel value="{!GrantTotal}"/> -->
                                    </th>
                                </tr>
                               <!-- -------------------------------- Completed --------------------------->
                            </thead>
                            <!-- <apex:actionFunction action="{!ChangeColor}" reRender="frm" status="Processing" name="actChageColorForVS" >
                                <apex:param value="" name="SaveIndex" id="SaveIndex"/>
                            </apex:actionFunction>-->
                            <apex:actionFunction action="{!SaveBudgetLines}" reRender="frm,tstpopup1" status="Processing" name="actSaveBudgetLines" >
                                <apex:param value="" name="SaveIndex" id="SaveIndex"/>
                            </apex:actionFunction>
                           <!--  <apex:actionFunction action="{!SelectUnitMeasure}" reRender="frm" status="Processing" name="actSelectUnitMeasure">
                                <apex:param value="" name="SelectIndex" id="SelectIndex"/>
                            </apex:actionFunction> -->
                            <apex:actionFunction name="actSaveAssumption" action="{!SaveAssumption}" status="Processing" rerender="frm" >
                                <apex:param value="" name="saveClose" id="AssCloseCode"/>
                                <apex:param value="" name="CheckNewLine" id="CheckNewLine"/>
                            </apex:actionFunction>
                            <apex:actionFunction name="actChangeCurrencyRateFromCode" action="{!ChangeCurrencyRateFromCode}" status="Processing" rerender="frm"  oncomplete="showRows(false);">
                                <apex:param value="" name="Code" id="Code"/>
                                <apex:param value="" name="ChangeIndex" id="ChangeIndex"/>
                                <apex:param value="" name="isNew" id="isNew"/>
                            </apex:actionFunction>
                            <apex:actionFunction name="actChangeCurrencyRateFromCodeNew" action="{!ChangeCurrencyRateFromCode}" status="Processing" rerender="frm"  oncomplete="showRows(true);">
                                <apex:param value="" name="Code" id="Codenew"/>
                                <apex:param value="" name="ChangeIndex" id="ChangeIndexnew"/>
                                <apex:param value="" name="isNew" id="isNewRecord"/>
                            </apex:actionFunction>
                            <apex:actionFunction name="actPopulateCostInput" action="{!PopulateCostInput}" reRender="frm" status="Processing">
                               <apex:param value="" name="CstInpEditIndex" id="CstInpEditIndex1"/>
                            </apex:actionFunction>
                            <apex:actionFunction name="actPopulateCostGrouping" action="{!PopulateCostGrouping}" reRender="frm" status="Processing">
                               <apex:param value="" name="CstGrpEditIndex" id="CstGrpEditIndex1"/>
                            </apex:actionFunction>
                            <apex:actionFunction action="{!CancelBLAssumptionNoRecords}" name="CancelDialogeBox" status="Processing" reRender="frm"> 
                                <apex:param value="" name="CancelBLIndex" id="CancelBLIndex"/>         
                            </apex:actionFunction>
                            <apex:variable value="{!1}" var="Count"/>
                          <!--   <apex:repeat id="rptBudgetLine" value="{!lstBudgetLines}" var="objBL"> -->
                            <apex:repeat id="rptBudgetLine" value="{!lstBudgetLines}" var="objBL">
                                <tr>
                                    <!-- TCS 27/10/2014: Added the td section for US CT Edits Field -->
                                    
                                    <td rowspan="2" class="dataCell TDstyle" id="ValueSuggestedOut{!Count}" style="background-Color:{!if(objBL.blnSetColor == true,'#FFFFaa','#f9f9f9')};display:{!if(blnLFAFlag == true,'','none')};">
                                        
                                    </td>
                                    <!-- TCS 27/10/2014: Code Ends -->
                                    <td rowspan="2" class="dataCell TDstyle" >
                                        <apex:outputText value="{!objBL.wrapCount}"/>
                                    </td>
                                    <td rowspan="2" class="dataCell TDstyle" >
                                        <apex:inputText id="refNum" value="{!objBL.refNumberVal}" onchange="return validateRefNum(this);" maxlength="6" rendered="{!!objBL.blnIsEditable && blnEditIntervention}"/>
                                        <apex:outputField id="refNumOut" value="{!objBL.objBudgetLine.Reference_Number__c}" rendered="{!objBL.blnIsEditable || !blnEditIntervention}"/>
                                    </td>
                                    <td rowspan="2" class="dataCell TDstyle" >
                                        <apex:selectList id="lstGI" value="{!objBL.objBudgetLine.Grant_Intervention__c}" size="1" style="width:150px;" rendered="{!!objBL.blnIsEditable && blnEditIntervention}">
                                            <apex:selectOptions value="{!GrantInterventionOptions}"></apex:selectOptions>
                                        </apex:selectList>
                                        <apex:outputText value="{!objBL.strGIName}" rendered="{!objBL.blnIsEditable || !blnEditIntervention}"/>
                                    </td>
                                    <td rowspan="2" class="dataCell TDstyle" >
                                        <apex:inputField value="{!objBL.objBudgetLine.Activity__c}" style="width:160px" rendered="{!!objBL.blnIsEditable && blnEditActivity}"/>
                                        <apex:outputText value="{!objBL.actShortDesc}" title="{!objBL.objBudgetLine.Activity__c}"  rendered="{!objBL.blnIsEditable || !blnEditActivity}"/><!-- onhover="showActDesc(this,'{!objBL.objBudgetLine.Activity__c}');" -->
                                    </td>
                                    
                                    <td rowspan="2" class="dataCell TDstyle" >
                                      <apex:outputpanel >
                                        <!-- <apex:inputField value="{!objBL.inputCost.Cost_Grouping__c}" style="width:160px" rendered="{!!objBL.blnIsEditable}"/> -->
                                     
                                         <!-- Show this on edit mode when PR Input is False  -->
                                        <apex:selectList id="lstNewCostgrp"  value="{!objBL.objBudgetLine.Cost_Grouping__c}" size="1" style="width:150px;" onchange="return OpenDeletePopupAss('{!$Component.tstpopupDelAss}','{!Count-1}','{!objBL.lstAssumptions.size}','{!lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level'}');" rendered="{!blnCGLevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level' ,true,false)}">
                                            <apex:selectOptions value="{!AllCostGrpOptions}"></apex:selectOptions>
                                          <!--   <apex:actionSupport event="onchange" action="{!PopulateCostInput}" reRender="frm" status="Processing">
                                                <apex:param value="{!Count-1}" name="CstInpEditIndex" id="CstInpEditIndex"/>
                                            </apex:actionSupport> -->
                                        </apex:selectList> 
                                         
                                        <!-- popup for deleteAssumption on change of Cost Grouping -->
                                    <apex:outputPanel id="tstpopupDelAss" style="display:none;">
                                            <apex:outputPanel id="popupBackgroundDelAss" styleClass="popupBackground"/>
                                            <apex:outputPanel id="custPopupDelAss" styleClass="custPopup">
                                                <table width="100%" cellspacing="0" cellpadding="0" border="0" >
                                                    <tr>
                                                        <td colspan="3" class="deletePopup">
                                                            <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="Changing the cost grouping will delete the assumptions for this budget line."/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="3" class="deletePopup">
                                                            <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="Would you like to proceed?"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td width="47%" class="deletePopup">
                                                            <apex:commandButton styleClass="popupButtonYes" value="Yes" action="{!PopulateCostInput}" reRender="frm" status="Processing">
                                                                <apex:param value="{!Count-1}" name="CstInpEditIndex" />
                                                            </apex:commandButton>
                                                        </td>
                                                        <td width="6%" class="deletePopup"></td>
                                                        <td width="47%" align="left" class="deletePopupCancel">
                                                            <apex:commandButton styleClass="popupButtonCancel" value="Cancel" onclick="return ClosePopupDelAss('{!$Component.tstpopupDelAss}','{!$Component.lstNewCostgrp}','{!lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level'}');"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <!-- Show this in edit mode when  PR Input is true -->
                                    <!--    <apex:outputtext value="{!objBL.strCostGrp}" id="CostGrp1" rendered="{!if($User.PR_Input__c=true,true,false)}"/>  -->
                                         
                                         <!-- Show this on save mode of the page -->
                                       <apex:outputText value="{!objBL.objBudgetLine.Cost_Grouping__c}" id="CostGrp1chsys" rendered="{!blnCGLevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c = 'Budget at cost input level',true,false)}"/>
                                       <apex:outputText value="{!objBL.objBudgetLine.Cost_Grouping__c}" id="CostGrp1ch" rendered="{!!blnCGLevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c = 'Budget at cost input level',true,false)}"/>
                                       <apex:outputText value="{!objBL.objBudgetLine.Cost_Grouping__c}" id="CostGrp2ch" rendered="{!!blnCGLevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c = 'Budget at cost grouping level',true,false)}"/> 
                                       <apex:outputText value="{!objBL.objBudgetLine.Cost_Grouping__c}" id="CostGrp1" rendered="{!objBL.blnIsEditable}"/>  
                                       <!--  <apex:outputText value="{!objBL.objBudgetLine.Cost_Grouping__c}" id="CostGrp1" rendered="{!objBL.blnIsEditable}"/> -->
                                       </apex:outputpanel>
                                       <!-- <apex:outputText value="{!objBL.objBudgetLine.Cost_Grouping__c}" rendered="{!objBL.blnIsEditable}"/> -->
                                    </td>
                                    
                                    <td rowspan="2" class="dataCell TDstyle" >
                                       <apex:outputpanel >
                                         <!-- Show this field when PR Input is true -->
                                        <apex:selectList id="Blevelvalue" value="{!objBL.objBudgetLine.Cost_Input__c}" size="1" style="width:150px;" onchange="return OpenDeletePopupAss('{!$Component.tstpopupDelAss1}','{!Count-1}','{!objBL.lstAssumptions.size}','{!lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level'}');" rendered="{!blnCILevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost input level',true,false)}"><!--  onchange="SelectUnitOfmeasure(this,'{!Count-1}','{!$Component.txtUnitMeasure}');"> -->
                                            <apex:selectOptions value="{!CostInputOptions}"></apex:selectOptions>
                                          <!--   <apex:actionSupport event="onchange" action="{!PopulateCostGrouping}" reRender="frm" status="Processing">
                                                <apex:param value="{!Count-1}" name="CstGrpEditIndex" id="CstGrpEditIndex"/>
                                            </apex:actionSupport> -->
                                        </apex:selectList> 
                                        <!-- popup for deleteAssumption on change of Cost Grouping -->
                                        <apex:outputPanel id="tstpopupDelAss1" style="display:none;">
                                            <apex:outputPanel id="popupBackgroundDelAss1" styleClass="popupBackground"/>
                                            <apex:outputPanel id="custPopupDelAss1" styleClass="custPopup">
                                                <table width="100%" cellspacing="0" cellpadding="0" border="0" >
                                                    <tr>
                                                        <td colspan="3" class="deletePopup">
                                                            <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="Changing cost Input will update Cost grouping and delete the assumptions for this budget line."/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="3" class="deletePopup">
                                                            <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="Would you like to proceed?"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td width="47%" class="deletePopup">
                                                            <apex:commandButton styleClass="popupButtonYes" value="Yes" action="{!PopulateCostGrouping}" reRender="frm" status="Processing">
                                                                <apex:param value="{!Count-1}" name="CstGrpEditIndex" />
                                                            </apex:commandButton>
                                                        </td>
                                                        <td width="6%" class="deletePopup"></td>
                                                        <td width="47%" align="left" class="deletePopupCancel">
                                                            <apex:commandButton styleClass="popupButtonCancel" value="Cancel" onclick="return ClosePopupDelAss('{!$Component.tstpopupDelAss1}','{!$Component.Blevelvalue}','{!lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level'}');"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <!-- Show this field when PR Input is false -->
                                        <apex:outputtext value="{!objBL.strCostInputName}" id="CIsys" rendered="{!blnCILevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level',true,false)}"/>
                                        <apex:outputtext value="{!objBL.strCostInputName}" id="CI" rendered="{!!blnCILevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level',true,false)}"/>
                                        <apex:outputtext value="{!objBL.strCostInputName}" id="CI2" rendered="{!!blnCILevel && !objBL.blnIsEditable && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost input level',true,false)}"/>  <!-- other profile when CI -->
                                        <!-- Show this field on save mode of the page -->
                                    <!--     <apex:outputText value="{!objBL.strCostInputName}" rendered="{!!objBL.blnIsEditable && objBL.objBudgetLine.Cost_Input__r.name = 'All' && if(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost input level',true,false)}"/>  Show this when CI name is All -->
                                        
                                        <apex:outputText value="{!objBL.strCostInputName}" rendered="{!objBL.blnIsEditable}"/>
                                        
                                       <!-- <apex:outputPanel rendered="{!objBL.blnIsEditable && If(objBL.objBudgetLine.Cost_Input__r.Is_Inactive__c=true,true,false)}">                                                          
                                          
                                            <apex:image url="{!$Resource.Alert_Icon}" title="Cost input is inactive"/>
                                        </apex:outputPanel> -->
                                        </apex:outputpanel>
                                      <!--<apex:outputText value="{!objBL.strCostInputName}" rendered="{!objBL.blnIsEditable}"/> -->
                                    </td>
                                    
                                    
                                    
                                    
                                    <td rowspan="2" class="dataCell TDstyle" >
                                         <apex:selectList id="Payee" value="{!objBL.objBudgetLine.Payee__c}" size="1" style="width:100px;" rendered="{!!objBL.blnIsEditable && blnEditRecipient}">
                                            <apex:selectOptions value="{!ImplementersOptions}"></apex:selectOptions>
                                        </apex:selectList>
                                        <apex:outputText value="{!objBL.strPayeeName}" rendered="{!objBL.blnIsEditable || !blnEditRecipient}" />
                                    </td>
                                    <td rowspan="2" class="dataCell TDstyle" >
                                        <apex:outputText id="txtUnitMeasure" value="{!objBL.strUnitCostMeasure}"/>
                                        <br/>
                                        <apex:commandLink styleClass="{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,'TGFbtn TGFbtn-mini TGFbtn-success','TGFbtn TGFbtn-mini TGFbtn-warning')}" style="border-right:1px solid #E0E3E5 !important;" action="{!EditAssumptionRecords}" status="Processing" rerender="frm" rendered="{!(objBL.blnIsEditable && !blnAddAssumption && objBL.lstAssumptions != null && objBL.lstAssumptions.size >0) || (objBL.blnIsEditable && blnAddAssumption)}">
                                            <strong><apex:outputlabel value="{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,$Label.View_Assumptions,$Label.Add_Assumptions)}"/></strong>
                                            <apex:param value="{!Count-1}" name="EditIndex" id="EditIndex"/>
                                        </apex:commandLink>
<!--ASSUMPTIONS POP-UP STARTS HERE-->                            
                                        <apex:outputPanel id="tstpopup1" >
                                            <apex:outputPanel id="popupBackground1" styleClass="popupAssumptionBackground" rendered="{!objBL.blnHasChild}"/>
                                            <apex:outputPanel id="custPopup1" styleClass="custAssumptionPopup" rendered="{!objBL.blnHasChild}">
                                                <apex:inputHidden value="{!strSelectedYearAssumption}" id="hdnSelectedYearA"/>
                                                <table width="100%">
                                                    <tr>
                                                        <td colspan="4">
                                                            <h3>
                                                                <apex:outputtext value="{!objBL.actShortDesc}" title="{!objBL.objBudgetLine.Activity__c}"/>
                                                            </h3>
                                                            <br/>
                                                            <apex:outputPanel id="ApplyAssumptionSet" rendered="{!blnApply}">
                                                            <apex:outputtext value="Use Assumption Set"/>
                                                            <apex:selectlist id="strAss" value="{!strAssumptionSet}" style="margin-left:20px" size="1" onchange="return displayApplyButton(this,'{!Count-1}');">
                                                                <apex:selectOptions value="{!AssumptionSetsOptions}"/>
                                                            </apex:selectlist>
                                                            <apex:commandLink id="btnApply" styleClass="TGFbtn TGFbtn-mini TGFbtn-primary" style="width:35px;height:20px;margin-left:6px;display:{if(strAssumptionSet != null,'','none')};" onclick="return openAssumptionApplyPopup('{!Count-1}','{!$Component.tstpopupApply}','{!$Component.strAss}');">
                                                                <i><apex:outputLabel value="{!$Label.Apply}"/></i>
                                                            </apex:commandLink>  
                                                            <apex:outputPanel id="tstpopupApply" style="display:none;">
                                                                <apex:outputPanel id="popupBackgroundApply" styleClass="popupBackground"/>
                                                                <apex:outputPanel id="custPopupApply" styleClass="custPopupApply">
                                                                    <table width="100%" cellspacing="0" cellpadding="0" border="0" >
                                                                        <tr>
                                                                            <td colspan="3" class="deletePopup">
                                                                                <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="{!$Label.Assumption_Set_Alert}"/>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td colspan="3" class="deletePopup">
                                                                                <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="{!$Label.Delete_the_assumption_and_replace}"/>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td width="47%" class="deletePopup">
                                                                                <apex:commandButton styleClass="popupButtonYes" value="Yes" action="{!RetriveAssumptionFromSet}" reRender="frm" status="Processing" oncomplete="OncompleteApplyPopup();"/>
                                                                                    
                                                                            </td>
                                                                            <td width="6%" class="deletePopup"></td>
                                                                            <td width="47%" align="left" class="deletePopupCancel">
                                                                                <apex:commandButton styleClass="popupButtonCancel" value="No" onclick="return CloseAssumptionPopup('{!$Component.tstpopupApply}');"/>
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </apex:outputPanel>
                                                            </apex:outputPanel>
                                                            </apex:outputPanel>
                                                        </td>
                                                        <th>
                                                        <!-- Commenting below line for 9 Dec release -->
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-success pull-right" style="width:175px;font-size:11px" action="/apex/AssumptionSet?id={!strImplementationPeriodId}&module={!strmoduleId}"><!--  rendered="{!blnMAset}"> -->
                                                              <strong><apex:outputLabel value="{!$Label.Manage_Assumption_Sets}"/></strong>
                                                            </apex:commandLink> 
                                                        </th> 
                                                  <!--      <th colspan="4" style="text-align:right;display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)','','none')}">
                                                            <div id="NumPersonY1" style="display:if(strSelectedYearAssumption == 'Year1','',none};">
                                                            <apex:outputText value="{!$Label.Y1_Number_of_Persons}"/>
                                                            <apex:inputField id="Y1NumPerson" value="{!objBL.objBudgetLine.Y1_Number_of_Persons__c}" onchange="OnChangeNumPerson('{!$Component.txtTotalUnitCostY1}','{!$Component.txtTotalUnitCostY2}','{!$Component.txtTotalUnitCostY3}','{!$Component.txtTotalUnitCostY4}','{!$Component.txtUnitCostY1}','{!$Component.txtUnitCostY2}','{!$Component.txtUnitCostY3}','{!$Component.txtUnitCostY4}','{!$Component.Y1NumPerson}','{!$Component.Y2NumPerson}','{!$Component.Y3NumPerson}','{!$Component.Y4NumPerson}')"/>
                                                            </div>
                                                            <div id="NumPersonY2" style="display:none;">
                                                            <apex:outputText value="{!$Label.Y2_Number_of_persons}" />
                                                            <apex:inputField id="Y2NumPerson" value="{!objBL.objBudgetLine.Y2_Number_of_Persons__c}" onchange="OnChangeNumPerson('{!$Component.txtTotalUnitCostY1}','{!$Component.txtTotalUnitCostY2}','{!$Component.txtTotalUnitCostY3}','{!$Component.txtTotalUnitCostY4}','{!$Component.txtUnitCostY1}','{!$Component.txtUnitCostY2}','{!$Component.txtUnitCostY3}','{!$Component.txtUnitCostY4}','{!$Component.Y1NumPerson}','{!$Component.Y2NumPerson}','{!$Component.Y3NumPerson}','{!$Component.Y4NumPerson}')"/>
                                                            </div>
                                                            <div id="NumPersonY3" style="display:none;">
                                                            <apex:outputText value="{!$Label.Y3_Number_of_persons}" />
                                                            <apex:inputField id="Y3NumPerson" value="{!objBL.objBudgetLine.Y3_Number_of_Persons__c}" onchange="OnChangeNumPerson('{!$Component.txtTotalUnitCostY1}','{!$Component.txtTotalUnitCostY2}','{!$Component.txtTotalUnitCostY3}','{!$Component.txtTotalUnitCostY4}','{!$Component.txtUnitCostY1}','{!$Component.txtUnitCostY2}','{!$Component.txtUnitCostY3}','{!$Component.txtUnitCostY4}','{!$Component.Y1NumPerson}','{!$Component.Y2NumPerson}','{!$Component.Y3NumPerson}','{!$Component.Y4NumPerson}')"/>
                                                            </div>
                                                            <div id="NumPersonY4" style="display:none;">
                                                            <apex:outputText value="{!$Label.Y4_Number_of_persons}" />
                                                            <apex:inputField id="Y4NumPerson" value="{!objBL.objBudgetLine.Y4_Number_of_Persons__c}" onchange="OnChangeNumPerson('{!$Component.txtTotalUnitCostY1}','{!$Component.txtTotalUnitCostY2}','{!$Component.txtTotalUnitCostY3}','{!$Component.txtTotalUnitCostY4}','{!$Component.txtUnitCostY1}','{!$Component.txtUnitCostY2}','{!$Component.txtUnitCostY3}','{!$Component.txtUnitCostY4}','{!$Component.Y1NumPerson}','{!$Component.Y2NumPerson}','{!$Component.Y3NumPerson}','{!$Component.Y4NumPerson}')"/>
                                                            </div>
                                                           <!-- <apex:inputText value="{!objBL.NumberOfPersons}"/> --> 
                                                      <!--   </th> -->
                                                    </tr>
                                                </table>
                                                <table width="100%" cellspacing="0" cellsspacing="0" border="0" class="list" id="table">
                                                    <thead class="rich-table-thead">
                                                        <tr class="headerRow">
                                                            <th width="50%"></th>
                                                            <th class="headerRowUpper" id="MainThYear1A" style="color:{!if(strSelectedYearAssumption == 'Year1','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYearAssumption == 'Year1','#434445','#DFEFF0')};" onclick="displayYearToggleAssumption('MainThYear1A','{!$Component.hdnSelectedYearA}','Year1','Year1thA','Year1tdA',{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '1. Human Resources (HR)'},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'});">
                                                                <apex:outputlabel value="{!YEAR(GIPstartdate)}" styleclass="link"/>
                                                            </th>                
                                                            <th class="headerRowUpper" id="MainThYear2A" style="color:{!if(strSelectedYearAssumption == 'Year2','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYearAssumption == 'Year2','#7D9C9F','#E7F2D5')};" onclick="displayYearToggleAssumption('MainThYear2A','{!$Component.hdnSelectedYearA}','Year2','Year2thA','Year2tdA',{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '1. Human Resources (HR)'},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'});">
                                                                <apex:outputlabel value="{!YEAR(GIPstartdate)+1}" styleclass="link"/> 
                                                            </th>                
                                                            <th class="headerRowUpper" id="MainThYear3A" style="color:{!if(strSelectedYearAssumption == 'Year3','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYearAssumption == 'Year3','#7D9C9F','#FAF3CA')};" onclick="displayYearToggleAssumption('MainThYear3A','{!$Component.hdnSelectedYearA}','Year3','Year3thA','Year3tdA',{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '1. Human Resources (HR)'},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'});">
                                                                <apex:outputlabel value="{!YEAR(GIPstartdate)+2}" styleclass="link"/>
                                                            </th>               
                                                            <th class="headerRowUpper" id="MainThYear4A" style="color:{!if(strSelectedYearAssumption == 'Year4','#FFFFFF','#00688B')};text-decoration:underline;background-color:{!if(strSelectedYearAssumption == 'Year4','#7D9C9F','#F0E1E2')};display:{!if(YEAR(GIPstartdate)+3 <= YEAR(GIPenddate),'','none')}" onclick="displayYearToggleAssumption('MainThYear4A','{!$Component.hdnSelectedYearA}','Year4','Year4thA','Year4tdA',{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '1. Human Resources (HR)'},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'});">
                                                                <apex:outputlabel value="{!YEAR(GIPstartdate)+3}" styleclass="link"/>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                                <apex:outputpanel rendered="{!if(objBL.objBudgetLine.Cost_Grouping__c != '1. Human Resources (HR)',true,false)}">
                                                <table width= "100%" class="table table-striped" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c != '1. Human Resources (HR)','','none')};">
                                                     <thead>
                                                        <tr class="headerRow">
                                                            <th width="5%"></th>
                                                            
                                                            <th class="headerRowLower" width="11%">
                                                                <apex:outputlabel value="{!$Label.Item_Description}"/>
                                                            </th>                
                                                            <th class="headerRowLower" width="15%">
                                                                <apex:outputlabel value="{!$Label.Currency}"/>
                                                            </th>                
                                                            <th class="headerRowLower" width="10%">
                                                                <apex:outputlabel value="{!$Label.Unit_of_Measure}"/>
                                                            </th>  
                                                                          
                                                            <th id="Year1thA" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y1_Unit_Cost}"/>
                                                            </th>
                                                            <th id="DurationTh1" class="headerRowLower" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year1','','none')}">
                                                                <apex:outputlabel value="{!$Label.Y1_Duration}"/>
                                                            </th>
                                                            <th id="Year1thA" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y1_Quantity}"/>
                                                            </th>  
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->  
                                                            <th id="DurationTh1" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year1','','none')}" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y1_Number_of_Persons}"/>
                                                            </th>             
                                                            <th id="Year1thA" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y1_Total_Cost}"/>
                                                            </th>  
                                                            
                                                            <th id="Year2thA" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y2_Unit_Cost}"/>
                                                            </th>
                                                            <th id="DurationTh2" class="headerRowLower" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year2','','none')}" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y2_Duration_days}"/>
                                                            </th>
                                                            <th id="Year2thA" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y2_Quantity}"/>
                                                            </th>  
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->  
                                                            <th id="DurationTh2" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year2','','none')}" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y2_Number_of_persons}"/>
                                                            </th>              
                                                            <th id="Year2thA" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y2_Total_Cost}"/>
                                                            </th>
                                                            
                                                            <th id="Year3thA" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y3_Unit_Cost}"/>
                                                            </th>
                                                            <th id="DurationTh3" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year3','','none')}" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y3_Duration_days}"/>
                                                            </th>
                                                            <th id="Year3thA" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y3_Quantity}"/>
                                                            </th>
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->
                                                            <th id="DurationTh3" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year3','','none')}" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y3_Number_of_persons}"/>
                                                            </th>                
                                                            <th id="Year3thA" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y3_Total_Cost}"/>
                                                            </th>
                                                            
                                                            <th id="Year4thA" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y4_Unit_Cost}"/>
                                                            </th>
                                                            <th id="DurationTh4" class="headerRowLower" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year4','','none')}">
                                                                <apex:outputlabel value="{!$Label.Y4_Duration_days}"/>
                                                            </th>
                                                            <th id="Year4thA" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y4_Quantity}"/>
                                                            </th>     
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->   
                                                            <th id="DurationTh4" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year4','','none')}" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y4_Number_of_persons}"/>
                                                            </th> 
                                                            <th id="Year4thA" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};" class="headerRowLower" width="13%">
                                                                <apex:outputlabel value="{!$Label.Y4_Total_Cost}"/>
                                                            </th>
                                                                          
                                                            <th class="headerRowLower" width="10%">
                                                                <apex:outputlabel value="{!$Label.Assumptions_to_Support_Unit_Cost}"/>
                                                            </th>
                                                            <th class="headerRowLower" width="10%">
                                                                <apex:outputlabel value="{!$Label.Justification_Comments}"/>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <apex:variable value="{!0}" var="CountAssumption"/>
                                                    <apex:repeat id="rptBudgetLine" value="{!objBL.lstAssumptions}" var="objA">
                                                        <tr>
                                                            <td>
                                                                <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="width:30px;height:25px;margin-top:6px;" onclick="return openAssumptionDeletePopup('{!$Component.tstpopup1}');" rendered="{!blnDelAssumption}">
                                                                    <i class="icon-trash icon-white" style="margin-top:6px"></i> 
                                                                </apex:commandLink>
                                                                <apex:outputPanel id="tstpopup1" style="display:none;">
                                                                    <apex:outputPanel id="popupBackground1" styleClass="popupBackground"/>
                                                                    <apex:outputPanel id="custPopup1" styleClass="custPopup">
                                                                        <table width="100%" cellspacing="0" cellpadding="0" border="0" >
                                                                            <tr>
                                                                                <td colspan="3" class="deletePopup">
                                                                                    <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="{!$Label.Are_you_sure}"/>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td colspan="3" class="deletePopup">
                                                                                    <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="{!$Label.This_Assumption_will_be_deleted}"/>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td width="47%" class="deletePopup">
                                                                                    <apex:commandButton styleClass="popupButtonYes" value="Yes" action="{!DeleteAssumption}" reRender="frm" status="Processing" >
                                                                                        <apex:param value="{!CountAssumption}" name="DeleteIndex" />
                                                                                        
                                                                                    </apex:commandButton>
                                                                                </td>
                                                                                <td width="6%" class="deletePopup"></td>
                                                                                <td width="47%" align="left" class="deletePopupCancel">
                                                                                    <apex:commandButton styleClass="popupButtonCancel" value="Cancel" onclick="return CloseAssumptionPopup('{!$Component.tstpopup1}');"/>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                <apex:inputField value="{!objA.objAssumption.Item_Description__c}" style="height: 19px;resize:none"/>
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                <apex:selectList id="txtCurrencyUsed" value="{!objA.strCurrencyUsedAssumption}" size="1" style="width:101px" onchange="return ChangeCurrencyRate(this.value,'{!CountAssumption}','false');">
                                                                    <apex:selectOptions value="{!AllIPCurrencyOptions}"></apex:selectOptions>
                                                                </apex:selectList>
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                 <apex:outputField id="AssUoM" value="{!objA.objAssumption.Unit_of_Measure__c}" style="height: 19px;resize:none;width:130px;"/> 
                                                               <!-- < <apex:outputText value="{!objBL.strUnitCostMeasure}"/>-->
                                                               
                                                            </td>
                                                            
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:inputField id="txtY1UnitCost" value="{!objA.objAssumption.Y1_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCost('1','{!$Component.txtY1UnitCost}','{!$Component.txtY1DurationDays}','{!$Component.txtY1Quantity}','{!$Component.txtTotalCostY1}','{!$Component.txtRateY1}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY1NumofPerson}');"/>
                                                            </td>
                                                            <td id="DurationTd1" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year1','','none')}">
                                                                <apex:inputField id="txtY1DurationDays" value="{!objA.objAssumption.Y1_Duration_Days__c}" onchange="CalculateTotalCost('1','{!$Component.txtY1UnitCost}','{!$Component.txtY1DurationDays}','{!$Component.txtY1Quantity}','{!$Component.txtTotalCostY1}','{!$Component.txtRateY1}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY1NumofPerson}');"/>
                                                            </td>
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:inputField id="txtY1Quantity" value="{!objA.objAssumption.Y1_Quantity__c}" onchange="CalculateTotalCost('1','{!$Component.txtY1UnitCost}','{!$Component.txtY1DurationDays}','{!$Component.txtY1Quantity}','{!$Component.txtTotalCostY1}','{!$Component.txtRateY1}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY1NumofPerson}');"/>
                                                            </td>
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->   
                                                            <td id="DurationTd1" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:inputField id="txtY1NumofPerson" value="{!objA.objAssumption.Y1_Number_of_Persons__c}" onchange="CalculateTotalCost('1','{!$Component.txtY1UnitCost}','{!$Component.txtY1DurationDays}','{!$Component.txtY1Quantity}','{!$Component.txtTotalCostY1}','{!$Component.txtRateY1}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY1NumofPerson}');"/>
                                                            </td>
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputText id="txtTotalCostY1" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY1}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtRateY1" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objA.strAssumptionCurrency == grantCurrency, 'none','')};">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY1}"/>
                                                                </apex:outputText>                                                          
                                                            </td>
                                                            
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2UnitCost" value="{!objA.objAssumption.Y2_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCost('2','{!$Component.txtY2UnitCost}','{!$Component.txtY2DurationDays}','{!$Component.txtY2Quantity}','{!$Component.txtTotalCostY2}','{!$Component.txtRateY2}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY2NumofPerson}');"/>
                                                            </td>
                                                            <td id="DurationTd2" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year2','','none')}">
                                                                <apex:inputField id="txtY2DurationDays" value="{!objA.objAssumption.Y2_Duration_Days__c}" onchange="CalculateTotalCost('2','{!$Component.txtY2UnitCost}','{!$Component.txtY2DurationDays}','{!$Component.txtY2Quantity}','{!$Component.txtTotalCostY2}','{!$Component.txtRateY2}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY2NumofPerson}');"/>
                                                            </td>
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2Quantity" value="{!objA.objAssumption.Y2_Quantity__c}" onchange="CalculateTotalCost('2','{!$Component.txtY2UnitCost}','{!$Component.txtY2DurationDays}','{!$Component.txtY2Quantity}','{!$Component.txtTotalCostY2}','{!$Component.txtRateY2}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY2NumofPerson}');"/>
                                                            </td>
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->  
                                                            <td id="DurationTd2" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2NumofPerson" value="{!objA.objAssumption.Y2_Number_of_Persons__c}" onchange="CalculateTotalCost('2','{!$Component.txtY2UnitCost}','{!$Component.txtY2DurationDays}','{!$Component.txtY2Quantity}','{!$Component.txtTotalCostY2}','{!$Component.txtRateY2}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY2NumofPerson}');"/>
                                                            </td>
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputText id="txtTotalCostY2" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY2}"/>
                                                                </apex:outputText>
                                                                <br/><apex:outputText id="txtRateY2" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY2}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3UnitCost" value="{!objA.objAssumption.Y3_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCost('3','{!$Component.txtY3UnitCost}','{!$Component.txtY3DurationDays}','{!$Component.txtY3Quantity}','{!$Component.txtTotalCostY3}','{!$Component.txtRateY3}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY3NumofPerson}');"/>
                                                            </td>
                                                            <td id="DurationTd3" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year3','','none')}">
                                                                <apex:inputField id="txtY3DurationDays" value="{!objA.objAssumption.Y3_Duration_Days__c}" onchange="CalculateTotalCost('3','{!$Component.txtY3UnitCost}','{!$Component.txtY3DurationDays}','{!$Component.txtY3Quantity}','{!$Component.txtTotalCostY3}','{!$Component.txtRateY3}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY3NumofPerson}');"/>
                                                            </td>
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3Quantity" value="{!objA.objAssumption.Y3_Quantity__c}" onchange="CalculateTotalCost('3','{!$Component.txtY3UnitCost}','{!$Component.txtY3DurationDays}','{!$Component.txtY3Quantity}','{!$Component.txtTotalCostY3}','{!$Component.txtRateY3}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY3NumofPerson}');"/>
                                                            </td>
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 --> 
                                                            <td id="DurationTd3" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3NumofPerson" value="{!objA.objAssumption.Y3_Number_of_Persons__c}" onchange="CalculateTotalCost('3','{!$Component.txtY3UnitCost}','{!$Component.txtY3DurationDays}','{!$Component.txtY3Quantity}','{!$Component.txtTotalCostY3}','{!$Component.txtRateY3}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY3NumofPerson}');"/>
                                                            </td> 
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputText id="txtTotalCostY3" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY3}"/>
                                                                </apex:outputText>
                                                                <br/><apex:outputText id="txtRateY3" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY3}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4UnitCost" value="{!objA.objAssumption.Y4_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCost('4','{!$Component.txtY4UnitCost}','{!$Component.txtY4DurationDays}','{!$Component.txtY4Quantity}','{!$Component.txtTotalCostY4}','{!$Component.txtRateY4}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY4NumofPerson}');"/>
                                                            </td>
                                                            <td id="DurationTd4" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year4','','none')}">
                                                                <apex:inputField id="txtY4DurationDays" value="{!objA.objAssumption.Y4_Duration_Days__c}" onchange="CalculateTotalCost('4','{!$Component.txtY4UnitCost}','{!$Component.txtY4DurationDays}','{!$Component.txtY4Quantity}','{!$Component.txtTotalCostY4}','{!$Component.txtRateY4}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY4NumofPerson}');"/>
                                                            </td>
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4Quantity" value="{!objA.objAssumption.Y4_Quantity__c}" onchange="CalculateTotalCost('4','{!$Component.txtY4UnitCost}','{!$Component.txtY4DurationDays}','{!$Component.txtY4Quantity}','{!$Component.txtTotalCostY4}','{!$Component.txtRateY4}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY4NumofPerson}');"/>
                                                            </td>
                                                            <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->
                                                            <td id="DurationTd4" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4NumofPerson" value="{!objA.objAssumption.Y4_Number_of_Persons__c}" onchange="CalculateTotalCost('4','{!$Component.txtY4UnitCost}','{!$Component.txtY4DurationDays}','{!$Component.txtY4Quantity}','{!$Component.txtTotalCostY4}','{!$Component.txtRateY4}','{!$Component.txtCurrencyUsed}','{!Count-1}',{!objBL.lstAssumptions.size},{!objBL.objBudgetLine.Cost_Input__r.Cost_Grouping__c == '2. Travel related costs (TRC)'},'{!$Component.txtY4NumofPerson}');"/>
                                                            </td> 
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputText id="txtTotalCostY4" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY4}"/>
                                                                </apex:outputText>
                                                                <br/><apex:outputText id="txtRateY4" value="{0,number,##,###,##0.00({!grantCurrency})}" style="top-margin:10px">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY4}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            
                                                            <td class="dataCell TDstyle">
                                                                <apex:inputField value="{!objA.objAssumption.Assumptions_to_Support_Unit_Cost__c}" style="width:180px;"/>
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                <apex:inputField value="{!objA.objAssumption.Justifications_Comments__c}" style="height: 19px;resize:none;width:130px;"/>
                                                            </td>
                                                        </tr>
                                                        <apex:variable value="{!CountAssumption+1}" var="CountAssumption"/>
                                                    </apex:repeat>
                                                    
                                                    <tr id="NewAssumptionTR{!Count}" style="display:none;">
                                                        <td>
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="width:30px;height:25px;margin-top:6px;" onclick="return CancelAssumption('NewAssumptionTR{!Count}','AddButtonTD{!Count}','AddButtonTDHide{!Count}','{!Count-1}','{!objBL.lstAssumptions.size}');"  rerender="tstpopup1">
                                                                <i class="icon-trash icon-white" style="margin-top:6px"></i> 
                                                            </apex:commandLink>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                            <apex:inputField id="idItemDecNew" value="{!objNewAssumption.objAssumption.Item_Description__c}" style="height: 19px;resize:none"/>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                            <apex:selectList id="txtCurrencyUsedNew" value="{!objNewAssumption.strCurrencyUsedAssumption}" size="1" style="width:101px" onchange="ChangeCurrencyRate(this.value,'{!CountAssumption+1}','true');">
                                                                <apex:selectOptions value="{!AllIPCurrencyOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                             <apex:outputField id="idUnitMeasureNew" value="{!objNewAssumption.objAssumption.Unit_of_Measure__c}" style="height: 19px;resize:none;width:130px;"/> 
                                                            <!-- <apex:outputText id="txtUnitMeasureAss1" value="{!objBL.strUnitCostMeasure}"/> -->
                                                        </td>
                                                        <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1UnitCostNew"  value="{!objNewAssumption.objAssumption.Y1_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCostNew('1','{!$Component.txtY1UnitCostNew}','{!$Component.txtY1DurationDaysNew}','{!$Component.txtY1QuantityNew}','{!$Component.txtTotalCostY1New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY1New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY1NumOfPersonsNew}');"/>
                                                        </td>                                                        
                                                        <td id="DurationTd1" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year1','','none')}">
                                                            <apex:inputField id="txtY1DurationDaysNew" value="{!objNewAssumption.objAssumption.Y1_Duration_Days__c}" onchange="CalculateTotalCostNew('1','{!$Component.txtY1UnitCostNew}','{!$Component.txtY1DurationDaysNew}','{!$Component.txtY1QuantityNew}','{!$Component.txtTotalCostY1New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY1New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY1NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1QuantityNew"  value="{!objNewAssumption.objAssumption.Y1_Quantity__c}" onchange="CalculateTotalCostNew('1','{!$Component.txtY1UnitCostNew}','{!$Component.txtY1DurationDaysNew}','{!$Component.txtY1QuantityNew}','{!$Component.txtTotalCostY1New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY1New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY1NumOfPersonsNew}');"/>
                                                        </td>
                                                        <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->
                                                        <td id="DurationTd1" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1NumOfPersonsNew"  value="{!objNewAssumption.objAssumption.Y1_Number_of_Persons__c}" onchange="CalculateTotalCostNew('1','{!$Component.txtY1UnitCostNew}','{!$Component.txtY1DurationDaysNew}','{!$Component.txtY1QuantityNew}','{!$Component.txtTotalCostY1New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY1New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY1NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td  id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:outputText id="txtTotalCostY1New" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY1}" />
                                                            </apex:outputText>
                                                            <br/><apex:outputText id="txtRateY1New" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY1}"/>
                                                            </apex:outputText>
                                                        </td>  
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};" >
                                                            <apex:inputField id="txtY2UnitCostNew" value="{!objNewAssumption.objAssumption.Y2_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCostNew('2','{!$Component.txtY2UnitCostNew}','{!$Component.txtY2DurationDaysNew}','{!$Component.txtY2QuantityNew}','{!$Component.txtTotalCostY2New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY2New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY2NumOfPersonsNew}');"/>
                                                        </td>                                                        
                                                        <td id="DurationTd2" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year2','','none')}">
                                                            <apex:inputField id="txtY2DurationDaysNew" value="{!objNewAssumption.objAssumption.Y2_Duration_Days__c}" onchange="CalculateTotalCostNew('2','{!$Component.txtY2UnitCostNew}','{!$Component.txtY2DurationDaysNew}','{!$Component.txtY2QuantityNew}','{!$Component.txtTotalCostY2New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY2New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY2NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:inputField id="txtY2QuantityNew" value="{!objNewAssumption.objAssumption.Y2_Quantity__c}" onchange="CalculateTotalCostNew('2','{!$Component.txtY2UnitCostNew}','{!$Component.txtY2DurationDaysNew}','{!$Component.txtY2QuantityNew}','{!$Component.txtTotalCostY2New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY2New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY2NumOfPersonsNew}');"/>
                                                        </td>
                                                        <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->
                                                        <td id="DurationTd2" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:inputField id="txtY2NumOfPersonsNew" value="{!objNewAssumption.objAssumption.Y2_Number_of_Persons__c}" onchange="CalculateTotalCostNew('2','{!$Component.txtY2UnitCostNew}','{!$Component.txtY2DurationDaysNew}','{!$Component.txtY2QuantityNew}','{!$Component.txtTotalCostY2New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY2New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY2NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:outputText id="txtTotalCostY2New" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY2}" />
                                                            </apex:outputText>
                                                            <br/><apex:outputText id="txtRateY2New" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY2}"/>
                                                            </apex:outputText>
                                                        </td>    
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:inputField id="txtY3UnitCostNew" value="{!objNewAssumption.objAssumption.Y3_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCostNew('3','{!$Component.txtY3UnitCostNew}','{!$Component.txtY3DurationDaysNew}','{!$Component.txtY3QuantityNew}','{!$Component.txtTotalCostY3New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY3New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY3NumOfPersonsNew}');"/>
                                                        </td>                                                        
                                                        <td id="DurationTd3" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year3','','none')}">
                                                            <apex:inputField id="txtY3DurationDaysNew" value="{!objNewAssumption.objAssumption.Y3_Duration_Days__c}" onchange="CalculateTotalCostNew('3','{!$Component.txtY3UnitCostNew}','{!$Component.txtY3DurationDaysNew}','{!$Component.txtY3QuantityNew}','{!$Component.txtTotalCostY3New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY3New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY3NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:inputField id="txtY3QuantityNew" value="{!objNewAssumption.objAssumption.Y3_Quantity__c}" onchange="CalculateTotalCostNew('3','{!$Component.txtY3UnitCostNew}','{!$Component.txtY3DurationDaysNew}','{!$Component.txtY3QuantityNew}','{!$Component.txtTotalCostY3New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY3New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY3NumOfPersonsNew}');"/>
                                                        </td>
                                                        <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->
                                                        <td id="DurationTd3" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:inputField id="txtY3NumOfPersonsNew" value="{!objNewAssumption.objAssumption.Y3_Number_of_Persons__c}" onchange="CalculateTotalCostNew('3','{!$Component.txtY3UnitCostNew}','{!$Component.txtY3DurationDaysNew}','{!$Component.txtY3QuantityNew}','{!$Component.txtTotalCostY3New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY3New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY3NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:outputText id="txtTotalCostY3New" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY3}" />
                                                            </apex:outputText>
                                                            <br/><apex:outputText id="txtRateY3New" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY3}"/>
                                                            </apex:outputText>
                                                        </td>    
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4UnitCostNew" value="{!objNewAssumption.objAssumption.Y4_Unit_Cost_Payment_Currency__c}" onchange="CalculateTotalCostNew('4','{!$Component.txtY4UnitCostNew}','{!$Component.txtY4DurationDaysNew}','{!$Component.txtY4QuantityNew}','{!$Component.txtTotalCostY4New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY4New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY4NumOfPersonsNew}');"/>
                                                        </td>                                                        
                                                        <td id="DurationTd4" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year4','','none')}">
                                                            <apex:inputField id="txtY4DurationDaysNew" value="{!objNewAssumption.objAssumption.Y4_Duration_Days__c}" onchange="CalculateTotalCostNew('4','{!$Component.txtY4UnitCostNew}','{!$Component.txtY4DurationDaysNew}','{!$Component.txtY4QuantityNew}','{!$Component.txtTotalCostY4New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY4New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY4NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4QuantityNew" value="{!objNewAssumption.objAssumption.Y4_Quantity__c}" onchange="CalculateTotalCostNew('4','{!$Component.txtY4UnitCostNew}','{!$Component.txtY4DurationDaysNew}','{!$Component.txtY4QuantityNew}','{!$Component.txtTotalCostY4New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY4New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY4NumOfPersonsNew}');"/>
                                                        </td>
                                                        <!--PP:15/4/2015: Adding Number of Persons fields as a change in Sprint 16 -->
                                                        <td id="DurationTd4" class="dataCell TDstyle" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)' && strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4NumOfPersonsNew" value="{!objNewAssumption.objAssumption.Y4_Number_of_Persons__c}" onchange="CalculateTotalCostNew('4','{!$Component.txtY4UnitCostNew}','{!$Component.txtY4DurationDaysNew}','{!$Component.txtY4QuantityNew}','{!$Component.txtTotalCostY4New}','{!$Component.txtCurrencyUsedNew}','{!$Component.txtRateY4New}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'{!$Component.txtY4NumOfPersonsNew}');"/>
                                                        </td>
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:outputText id="txtTotalCostY4New" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY4}" />
                                                            </apex:outputText>
                                                            <br/><apex:outputText id="txtRateY4New" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY4}"/>
                                                            </apex:outputText>
                                                        </td>    
                                                                                                               
                                                        <td class="dataCell TDstyle">
                                                            <apex:inputField id="idSupportNew" value="{!objNewAssumption.objAssumption.Assumptions_to_Support_Unit_Cost__c}" style="width:180px;"/>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                            <apex:inputField id="idJustificationNew" value="{!objNewAssumption.objAssumption.Justifications_Comments__c}" style="height: 19px;resize:none;width:130px;"/>
                                                        </td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td id="AddButtonTD{!Count}" colspan="2" style="text-align:center;">
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" onclick="return AddNewAssumption('NewAssumptionTR{!Count}','AddButtonTD{!Count}','AddButtonTDHide{!Count}','{!Count-1}','{!objBL.strUnitCostMeasure}','{!$Component.idUnitMeasureNew}','{!$Component.txtCurrencyUsedNew}');" rendered="{!blnAddAssumption}">
                                                                <i class="icon-plus-sign icon-white"></i>
                                                                <strong><apex:outputlabel value="{!$Label.Add}"/></strong>
                                                            </apex:commandLink>
                                                        </td>
                                                        <td colspan="2" id="AddButtonTDHide{!Count}" style="display:none;"></td>
                                                        <td class="dataCell TDstyle"></td>
                                                        <td style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)','','none')}"></td>
                                                        <td style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)','','none')}"></td>
                                                        <td class="dataCell TDstyle"></td>
                                                        <th colspan="2">
                                                            {!$Label.Total_Cost} ({!grantcurrency})<br/>
                                                            {!$Label.Average_Unit_Cost} ({!grantcurrency})
                                                        </th>
                                                        <td class="dataCell TDstyle">
                                                            <apex:outputText id="txtTotalUnitCostY1" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY1Cost}" />
                                                            </apex:outputText>
                                                            <apex:outputText id="txtTotalUnitCostY2" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY2Cost}" />
                                                            </apex:outputText>
                                                            <apex:outputText id="txtTotalUnitCostY3" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY3Cost}" />
                                                            </apex:outputText>
                                                            <apex:outputText id="txtTotalUnitCostY4" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY4Cost}" />
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtUnitCostY1" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY1}" />
                                                            </apex:outputText>
                                                            <apex:outputText id="txtUnitCostY2" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY2}" />
                                                            </apex:outputText>
                                                            <apex:outputText id="txtUnitCostY3" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY3}" />
                                                            </apex:outputText>
                                                            <apex:outputText id="txtUnitCostY4" value="{0,number,##,###,##0.00}"  style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY4}" />
                                                            </apex:outputText>
                                                        </td>
                                                        <td class="dataCell TDstyle"></td>
                                                        <td class="dataCell TDstyle"></td>
                                                        
                                                        
                                                    </tr>
                                                    <tr>
                                                        <td class="dataCell TDstyle" colspan="{!if(objBL.objBudgetLine.Cost_Grouping__c == '2. Travel related costs (TRC)',10,9)}" style="text-align:center;">                                                            
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" style="width:37px;align:right;" onclick="return SaveAssumptionRecords('NewAssumptionTR{!Count}','False');" rendered="{!blnSaveAssumption}">
                                                                <strong>{!$Label.Save}</strong>
                                                            </apex:commandLink>
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" style="width:85px;align:right;" onclick="return SaveAssumptionRecords('NewAssumptionTR{!Count}','True');" status="Processing" rendered="{!blnSaveAssumption}">
                                                                
                                                               
                                                                <strong>{!$Label.Save_and_Close}</strong>
                                                            </apex:commandLink>
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="align:left;" action="{!CancelAssumptionRecords}" status="Processing" rerender="tstpopup1" > 
                                                                <apex:param value="{!Count-1}" name="CancelIndex" id="CancelIndex"/>
                                                                <strong>{!$Label.Cancel}</strong>
                                                            </apex:commandLink>
                                                        </td>
                                                    </tr>
                                                </table>
                                                </apex:outputPanel>
                                                <apex:outputPanel rendered="{!if(objBL.objBudgetLine.Cost_Grouping__c == '1. Human Resources (HR)',true,false)}">
                                                <table width="90%" class="table table-striped" style="display:{!if(objBL.objBudgetLine.Cost_Grouping__c == '1. Human Resources (HR)','','none')};">
                                                    <thead>
                                                        <tr class="headerRow">
                                                            <th width="3%"></th>
                                                            <th class="headerRowLower" width="8%">
                                                                <apex:outputlabel value="{!$Label.Role_Description}"/>
                                                            </th> 
                                                            <th class="headerRowLower" width="6%">
                                                                <apex:outputlabel value="{!$Label.Unit_of_Measure}"/>
                                                            </th>           
                                                            <th class="headerRowLower" width="8%">
                                                                <apex:outputlabel value="{!$Label.Currency}"/>
                                                            </th>      
                                                                      
                                                            <th id="Year1thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y1_Net_Salary}"/>
                                                            </th>           
                                                            <th id="Year1thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y1_Social_Security_Other_Obligatory_Charges}"/>
                                                            </th>
                                                            <th id="Year1thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y1_Total_Salary}"/>
                                                            </th>                
                                                            <th id="Year1thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y1_Level_of_Effort}"/>
                                                            </th>  
                                                            <th id="Year1thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y1_Number_of_Persons}"/>
                                                            </th>                                                            
                                                            <th id="Year1thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y1_Total_Cost}"/>
                                                            </th>    
                                                            
                                                            <th id="Year2thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y2_Net_Salary}"/>
                                                            </th>           
                                                            <th id="Year2thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y2_Social_Security_Other_Obligatory_Charges}"/>
                                                            </th>
                                                            <th id="Year2thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y2_Total_Salary}"/>
                                                            </th>                
                                                            <th id="Year2thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y2_Level_of_Effort}"/>
                                                            </th>  
                                                            <th id="Year2thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y2_Number_of_persons}"/>
                                                            </th>                                                            
                                                            <th id="Year2thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y2_Total_Cost}"/>
                                                            </th> 
                                                            
                                                            <th id="Year3thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y3_Net_Salary}"/>
                                                            </th>           
                                                            <th id="Year3thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y3_Social_Security_Other_Obligatory_Charges}"/>
                                                            </th>
                                                            <th id="Year3thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y3_Total_Salary}"/>
                                                            </th>                
                                                            <th id="Year3thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y3_Level_of_Effort}"/>
                                                            </th>  
                                                            <th id="Year3thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y3_Number_of_persons}"/>
                                                            </th>                                                            
                                                            <th id="Year3thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y3_Total_Cost}"/>
                                                            </th> 
                                                            
                                                            <th id="Year4thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y4_Net_Salary}"/>
                                                            </th>           
                                                            <th id="Year4thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y4_Social_Security_Other_Obligatory_Charges}"/>
                                                            </th>
                                                            <th id="Year4thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y4_Total_Salary}"/>
                                                            </th>                
                                                            <th id="Year4thA" class="headerRowLower" width="8%" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y4_Level_of_Effort}"/>
                                                            </th>  
                                                            <th id="Year4thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y4_Number_of_persons}"/>
                                                            </th>                                                            
                                                            <th id="Year4thA" class="headerRowLower" width="9%" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputlabel value="{!$Label.Y4_Total_Cost}"/>
                                                            </th> 
                                                                   
                                                            <th class="headerRowLower" width="9%">
                                                                <apex:outputlabel value="{!$Label.Assumptions_to_Support_Unit_Cost}"/>
                                                            </th>
                                                            <th class="headerRowLower" width="9%">
                                                                <apex:outputlabel value="{!$Label.Justification_Comments}"/>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <apex:variable value="{!0}" var="CountAssumption"/>
                                                    <apex:repeat id="rptBudgetLineFirst" value="{!objBL.lstAssumptions}" var="objA">
                                                        <tr>
                                                            <td>
                                                                <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="width:30px;height:25px;margin-top:6px;" onclick="return openAssumptionDeletePopup('{!$Component.tstpopupFirst}');" rendered="{!blnDelAssumption}" rerender="tstpopup1">
                                                                    <i class="icon-trash icon-white" style="margin-top:6px"></i> 
                                                                </apex:commandLink>
                                                                <apex:outputPanel id="tstpopupFirst" style="display:none;">
                                                                    <apex:outputPanel id="popupBackgroundFirst" styleClass="popupBackground"/>
                                                                    <apex:outputPanel id="custPopupFirst" styleClass="custPopup">
                                                                        <table width="100%" cellspacing="0" cellpadding="0" border="0">
                                                                            <tr>
                                                                                <td colspan="3" class="deletePopup">
                                                                                    <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="Are you sure?"/>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td colspan="3" class="deletePopup">
                                                                                    <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="This Assumption will be deleted."/>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td width="47%" class="deletePopup">
                                                                                    <apex:commandButton styleClass="popupButtonYes" value="Yes" action="{!DeleteAssumption}" reRender="frm" status="Processing">
                                                                                        <apex:param value="{!CountAssumption}" name="DeleteIndex" />
                                                                                        
                                                                                    </apex:commandButton>
                                                                                </td>
                                                                                <td width="6%" class="deletePopup"></td>
                                                                                <td width="47%" align="left" class="deletePopupCancel">
                                                                                    <apex:commandButton styleClass="popupButtonCancel" value="Cancel" onclick="return CloseAssumptionPopup('{!$Component.tstpopupFirst}');"/>
                                                                                </td>
                                                                            </tr>
                                                                        </table>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                            </td>
                                                            <!-- TCS 28/10/2014: Changes for Sprint 4 US -->
                                                           <!--  <td rowspan="2" class="dataCell TDstyle" id="ValueSuggested" style="display:{!if(objBL.blnSetColor == false,'','none')}">
                                                                  <apex:inputField value="{!objBL.objBudgetLine.LFA_Flag__c}" style="width:160px" rendered="{!!objBL.blnIsEditable && blnLFAFlag}"/>
                                                                    <apex:outputText value="{!objBL.objBudgetLine.LFA_Flag__c}" rendered="{!objBL.blnIsEditable || blnLFAFlag}"/> 
                                                                    {!objBL.blnSetColor}
                                                            </td>
                                                            <td rowspan="2" class="dataCell TDstyle" id="ValueSuggested" style="display:{!if(objBL.blnSetColor == true,'','none')};backgroundColor:#FFFFaa;">
                                                                {!objBL.blnSetColor} 
                                                            </td>
                                                            <td rowspan="2" class="dataCell TDstyle" id="ValueSuggestedOut1{!Count}" style="background-Color:{!if(objBL.blnSetColor == true,'#FFFFaa','#f9f9f9')};display:{!if(blnLFAFlag == true,'','none')};">
                                        
                                                             </td> -->
                                                             <!-- TCS 28/10/2014: Changes Ended-->
                                                            <td class="dataCell TDstyle">
                                                                <apex:inputField value="{!objA.objAssumption.Item_Description__c}" style="height: 19px;resize:none;width:150px;"/>
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                 <apex:outputField id="AssUnitMeas" value="{!objA.objAssumption.Unit_of_Measure__c}" style="height: 19px;resize:none;width:100px;"/>
                                                               <!--  <apex:outputText id="txtUnitMeasureAss2" value="{!objBL.strUnitCostMeasure}"/> -->
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                <apex:selectList id="txtCurrencyUsedFirst" value="{!objA.strCurrencyUsedAssumption}" size="1" style="width:101px" onchange="ChangeCurrencyRate(this.value,'{!CountAssumption}','false');">
                                                                    <apex:selectOptions value="{!AllIPCurrencyOptions}"></apex:selectOptions>
                                                                </apex:selectList>
                                                            </td>
                                                            
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:inputField id="txtY1UnitCostFirst" value="{!objA.objAssumption.Y1_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY1UnitCostFirst}','{!$Component.txtY1ChargesFirst}','{!$Component.txtTotalSalaryY1First}','{!$Component.txtY1LevelFirst}','{!$Component.txtY1NumberFirst}','{!$Component.txtTotalCostY1First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY1First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year1','{!$Component.txtTotalSalaryY1FirstRate}');"/>
                                                            </td>
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:inputField id="txtY1ChargesFirst" value="{!objA.objAssumption.Y1_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY1UnitCostFirst}','{!$Component.txtY1ChargesFirst}','{!$Component.txtTotalSalaryY1First}','{!$Component.txtY1LevelFirst}','{!$Component.txtY1NumberFirst}','{!$Component.txtTotalCostY1First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY1First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year1','{!$Component.txtTotalSalaryY1FirstRate}');"/>
                                                            </td>
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                
                                                                <apex:outputText id="txtTotalSalaryY1First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY1}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtTotalSalaryY1FirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY1GrntCurrency}"/>
                                                                </apex:outputText>
                                                            </td> 
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};"> 
                                                                <apex:inputField id="txtY1LevelFirst" value="{!objA.objAssumption.Y1_Level_of_Effort__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY1UnitCostFirst}','{!$Component.txtY1ChargesFirst}','{!$Component.txtTotalSalaryY1First}','{!$Component.txtY1LevelFirst}','{!$Component.txtY1NumberFirst}','{!$Component.txtTotalCostY1First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY1First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year1','{!$Component.txtTotalSalaryY1FirstRate}');"/>
                                                            </td>
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:inputField id="txtY1NumberFirst" value="{!objA.objAssumption.Y1_Number_of_Persons__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY1UnitCostFirst}','{!$Component.txtY1ChargesFirst}','{!$Component.txtTotalSalaryY1First}','{!$Component.txtY1LevelFirst}','{!$Component.txtY1NumberFirst}','{!$Component.txtTotalCostY1First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY1First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year1','{!$Component.txtTotalSalaryY1FirstRate}');"/>
                                                            </td>               
                                                            <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:outputText id="txtTotalCostY1First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY1}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtRateY1First" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY1}"/>
                                                                </apex:outputText>
                                                            </td>
                                                           
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2UnitCostFirst" value="{!objA.objAssumption.Y2_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY2UnitCostFirst}','{!$Component.txtY2ChargesFirst}','{!$Component.txtTotalSalaryY2First}','{!$Component.txtY2LevelFirst}','{!$Component.txtY2NumberFirst}','{!$Component.txtTotalCostY2First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY2First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year2','{!$Component.txtTotalSalaryY2FirstRate}');"/>
                                                            </td>
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2ChargesFirst" value="{!objA.objAssumption.Y2_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY2UnitCostFirst}','{!$Component.txtY2ChargesFirst}','{!$Component.txtTotalSalaryY2First}','{!$Component.txtY2LevelFirst}','{!$Component.txtY2NumberFirst}','{!$Component.txtTotalCostY2First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY2First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year2','{!$Component.txtTotalSalaryY2FirstRate}');"/>
                                                            </td>
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputText id="txtTotalSalaryY2First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY2}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtTotalSalaryY2FirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY2GrntCurrency}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2LevelFirst" value="{!objA.objAssumption.Y2_Level_of_Effort__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY2UnitCostFirst}','{!$Component.txtY2ChargesFirst}','{!$Component.txtTotalSalaryY2First}','{!$Component.txtY2LevelFirst}','{!$Component.txtY2NumberFirst}','{!$Component.txtTotalCostY2First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY2First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year2','{!$Component.txtTotalSalaryY2FirstRate}');"/>
                                                            </td>
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:inputField id="txtY2NumberFirst" value="{!objA.objAssumption.Y2_Number_of_Persons__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY2UnitCostFirst}','{!$Component.txtY2ChargesFirst}','{!$Component.txtTotalSalaryY2First}','{!$Component.txtY2LevelFirst}','{!$Component.txtY2NumberFirst}','{!$Component.txtTotalCostY2First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY2First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year2','{!$Component.txtTotalSalaryY2FirstRate}');"/>
                                                            </td>               
                                                            <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:outputText id="txtTotalCostY2First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY2}"/>
                                                                </apex:outputText>
                                                                <br/><apex:outputText id="txtRateY2First"  value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY2}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3UnitCostFirst" value="{!objA.objAssumption.Y3_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY3UnitCostFirst}','{!$Component.txtY3ChargesFirst}','{!$Component.txtTotalSalaryY3First}','{!$Component.txtY3LevelFirst}','{!$Component.txtY3NumberFirst}','{!$Component.txtTotalCostY3First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY3First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year3','{!$Component.txtTotalSalaryY3FirstRate}');"/>
                                                            </td>
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3ChargesFirst" value="{!objA.objAssumption.Y3_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY3UnitCostFirst}','{!$Component.txtY3ChargesFirst}','{!$Component.txtTotalSalaryY3First}','{!$Component.txtY3LevelFirst}','{!$Component.txtY3NumberFirst}','{!$Component.txtTotalCostY3First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY3First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year3','{!$Component.txtTotalSalaryY3FirstRate}');"/>
                                                            </td> 
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputText id="txtTotalSalaryY3First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY3}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtTotalSalaryY3FirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY3GrntCurrency}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3LevelFirst" value="{!objA.objAssumption.Y3_Level_of_Effort__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY3UnitCostFirst}','{!$Component.txtY3ChargesFirst}','{!$Component.txtTotalSalaryY3First}','{!$Component.txtY3LevelFirst}','{!$Component.txtY3NumberFirst}','{!$Component.txtTotalCostY3First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY3First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year3','{!$Component.txtTotalSalaryY3FirstRate}');"/>
                                                            </td>
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:inputField id="txtY3NumberFirst" value="{!objA.objAssumption.Y3_Number_of_Persons__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY3UnitCostFirst}','{!$Component.txtY3ChargesFirst}','{!$Component.txtTotalSalaryY3First}','{!$Component.txtY3LevelFirst}','{!$Component.txtY3NumberFirst}','{!$Component.txtTotalCostY3First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY3First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year3','{!$Component.txtTotalSalaryY3FirstRate}');"/>
                                                            </td>               
                                                            <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:outputText id="txtTotalCostY3First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY3}"/>
                                                                </apex:outputText>
                                                                <br/><apex:outputText id="txtRateY3First" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY3}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4UnitCostFirst" value="{!objA.objAssumption.Y4_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY4UnitCostFirst}','{!$Component.txtY4ChargesFirst}','{!$Component.txtTotalSalaryY4First}','{!$Component.txtY4LevelFirst}','{!$Component.txtY4NumberFirst}','{!$Component.txtTotalCostY4First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY4First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year4','{!$Component.txtTotalSalaryY4FirstRate}');"/>
                                                            </td>
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4ChargesFirst" value="{!objA.objAssumption.Y4_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY4UnitCostFirst}','{!$Component.txtY4ChargesFirst}','{!$Component.txtTotalSalaryY4First}','{!$Component.txtY4LevelFirst}','{!$Component.txtY4NumberFirst}','{!$Component.txtTotalCostY4First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY4First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year4','{!$Component.txtTotalSalaryY4FirstRate}');"/>
                                                            </td>
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputText id="txtTotalSalaryY4First"  value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY4}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtTotalSalaryY4FirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.TotalSalaryY4GrntCurrency}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4LevelFirst" value="{!objA.objAssumption.Y4_Level_of_Effort__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY4UnitCostFirst}','{!$Component.txtY4ChargesFirst}','{!$Component.txtTotalSalaryY4First}','{!$Component.txtY4LevelFirst}','{!$Component.txtY4NumberFirst}','{!$Component.txtTotalCostY4First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY4First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year4','{!$Component.txtTotalSalaryY4FirstRate}');"/>
                                                            </td>
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:inputField id="txtY4NumberFirst" value="{!objA.objAssumption.Y4_Number_of_Persons__c}" onchange="CalculateTotalCostFirst('{!$Component.txtY4UnitCostFirst}','{!$Component.txtY4ChargesFirst}','{!$Component.txtTotalSalaryY4First}','{!$Component.txtY4LevelFirst}','{!$Component.txtY4NumberFirst}','{!$Component.txtTotalCostY4First}','{!$Component.txtCurrencyUsedFirst}','{!$Component.txtRateY4First}','{!Count-1}',{!objBL.lstAssumptions.size},'Year4','{!$Component.txtTotalSalaryY4FirstRate}');"/>
                                                            </td>               
                                                            <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:outputText id="txtTotalCostY4First" value="{0,number,##,###,##0.00({!objA.strAssumptionCurrency})}">
                                                                    <apex:param value="{!objA.TotalCostY4}"/>
                                                                </apex:outputText>
                                                                <br/>
                                                                <apex:outputText id="txtRateY4First" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                    <apex:param value="{!objA.CurrencyRateInUSDY4}"/>
                                                                </apex:outputText>
                                                            </td>
                                                            
                                                            <td class="dataCell TDstyle">
                                                                <apex:inputField value="{!objA.objAssumption.Assumptions_to_Support_Unit_Cost__c}" style="width:160px;"/>
                                                            </td>
                                                            <td class="dataCell TDstyle">
                                                                <apex:inputField value="{!objA.objAssumption.Justifications_Comments__c}" style="height: 19px;resize:none;width:130px;"/>
                                                            </td>
                                                        </tr>
                                                        <apex:variable value="{!CountAssumption+1}" var="CountAssumption"/>
                                                    </apex:repeat>
                                                    
                                                    <tr id="NewAssumptionTRFirst{!Count}" style="display:none;">
                                                        <td>
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="width:30px;height:25px;margin-top:6px;" onclick="return CancelAssumption1('NewAssumptionTRFirst{!Count}','AddButtonTDFirst{!Count}','AddButtonTDHideFirst{!Count}','{!Count-1}','{!objBL.lstAssumptions.size}','{!$Component.txtCurrencyUsedFirst}');" >
                                                                <i class="icon-trash icon-white" style="margin-top:6px"></i> 
                                                            </apex:commandLink>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                            <apex:inputField id="idItDecNewFirst" value="{!objNewAssumption.objAssumption.Item_Description__c}" style="height: 19px;resize:none;width:150px;"/>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                             <apex:outputField id="idUMNewFirst" value="{!objNewAssumption.objAssumption.Unit_of_Measure__c}" style="height: 19px;resize:none;width:100px;"/> 
                                                            <!-- <apex:outputText id="txtUnitMeasureAss3" value="{!objBL.strUnitCostMeasure}"/> -->
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                            <apex:selectList id="txtCurrencyUsedFirstNew" value="{!objNewAssumption.strCurrencyUsedAssumption}" size="1" style="width:101px" onchange="ChangeCurrencyRate(this.value,'{!CountAssumption+1}','true');">
                                                                <apex:selectOptions value="{!AllIPCurrencyOptions}"></apex:selectOptions>
                                                            </apex:selectList>
                                                        </td>
                                                        
                                                        <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1UnitCostNewFirst" value="{!objNewAssumption.objAssumption.Y1_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY1UnitCostNewFirst}','{!$Component.txtY1ChargesNewFirst}','{!$Component.txtTotalSalaryY1NewFirst}','{!$Component.txtY1LevelNewFirst}','{!$Component.txtY1NumberNewFirst}','{!$Component.txtTotalCostY1NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY1NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year1','{!$Component.txtTotalSalaryY1NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year1tdA" class="dataCell TDstyle"  style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1ChargesNewFirst" value="{!objNewAssumption.objAssumption.Y1_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY1UnitCostNewFirst}','{!$Component.txtY1ChargesNewFirst}','{!$Component.txtTotalSalaryY1NewFirst}','{!$Component.txtY1LevelNewFirst}','{!$Component.txtY1NumberNewFirst}','{!$Component.txtTotalCostY1NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY1NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year1','{!$Component.txtTotalSalaryY1NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year1tdA" class="dataCell TDstyle " style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:outputText id="txtTotalSalaryY1NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY1}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtTotalSalaryY1NewFirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY1GrntCurrency}"/>
                                                            </apex:outputText>
                                                        </td>
                                                        <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1LevelNewFirst" value="{!objNewAssumption.objAssumption.Y1_Level_of_Effort__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY1UnitCostNewFirst}','{!$Component.txtY1ChargesNewFirst}','{!$Component.txtTotalSalaryY1NewFirst}','{!$Component.txtY1LevelNewFirst}','{!$Component.txtY1NumberNewFirst}','{!$Component.txtTotalCostY1NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY1NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year1','{!$Component.txtTotalSalaryY1NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:inputField id="txtY1NumberNewFirst" value="{!objNewAssumption.objAssumption.Y1_Number_of_Persons__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY1UnitCostNewFirst}','{!$Component.txtY1ChargesNewFirst}','{!$Component.txtTotalSalaryY1NewFirst}','{!$Component.txtY1LevelNewFirst}','{!$Component.txtY1NumberNewFirst}','{!$Component.txtTotalCostY1NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY1NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year1','{!$Component.txtTotalSalaryY1NewFirstRate}');"/>
                                                        </td>               
                                                        <td id="Year1tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                            <apex:outputText id="txtTotalCostY1NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY1}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtRateY1NewFirst" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY1}"/>
                                                            </apex:outputText>
                                                        </td>
                                                           
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:inputField id="txtY2UnitCostNewFirst" value="{!objNewAssumption.objAssumption.Y2_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY2UnitCostNewFirst}','{!$Component.txtY2ChargesNewFirst}','{!$Component.txtTotalSalaryY2NewFirst}','{!$Component.txtY2LevelNewFirst}','{!$Component.txtY2NumberNewFirst}','{!$Component.txtTotalCostY2NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY2NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year2','{!$Component.txtTotalSalaryY2NewFirstRate}');"/>
                                                        </td>
                                                        <td  id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:inputField id="txtY2ChargesNewFirst" value="{!objNewAssumption.objAssumption.Y2_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY2UnitCostNewFirst}','{!$Component.txtY2ChargesNewFirst}','{!$Component.txtTotalSalaryY2NewFirst}','{!$Component.txtY2LevelNewFirst}','{!$Component.txtY2NumberNewFirst}','{!$Component.txtTotalCostY2NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY2NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year2','{!$Component.txtTotalSalaryY2NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:outputText id="txtTotalSalaryY2NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY2}"/>                                                             
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtTotalSalaryY2NewFirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY2GrntCurrency}"/>
                                                            </apex:outputText>
                                                        </td>
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:inputField id="txtY2LevelNewFirst" value="{!objNewAssumption.objAssumption.Y2_Level_of_Effort__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY2UnitCostNewFirst}','{!$Component.txtY2ChargesNewFirst}','{!$Component.txtTotalSalaryY2NewFirst}','{!$Component.txtY2LevelNewFirst}','{!$Component.txtY2NumberNewFirst}','{!$Component.txtTotalCostY2NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY2NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year2','{!$Component.txtTotalSalaryY2NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:inputField id="txtY2NumberNewFirst" value="{!objNewAssumption.objAssumption.Y2_Number_of_Persons__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY2UnitCostNewFirst}','{!$Component.txtY2ChargesNewFirst}','{!$Component.txtTotalSalaryY2NewFirst}','{!$Component.txtY2LevelNewFirst}','{!$Component.txtY2NumberNewFirst}','{!$Component.txtTotalCostY2NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY2NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year2','{!$Component.txtTotalSalaryY2NewFirstRate}');"/>
                                                        </td>               
                                                        <td id="Year2tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                            <apex:outputText id="txtTotalCostY2NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY2}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtRateY2NewFirst" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY2}"/>
                                                            </apex:outputText>  
                                                        </td>
                                                        
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:inputField id="txtY3UnitCostNewFirst" value="{!objNewAssumption.objAssumption.Y3_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY3UnitCostNewFirst}','{!$Component.txtY3ChargesNewFirst}','{!$Component.txtTotalSalaryY3NewFirst}','{!$Component.txtY3LevelNewFirst}','{!$Component.txtY3NumberNewFirst}','{!$Component.txtTotalCostY3NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY3NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year3','{!$Component.txtTotalSalaryY3NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};" >
                                                            <apex:inputField id="txtY3ChargesNewFirst" value="{!objNewAssumption.objAssumption.Y3_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY3UnitCostNewFirst}','{!$Component.txtY3ChargesNewFirst}','{!$Component.txtTotalSalaryY3NewFirst}','{!$Component.txtY3LevelNewFirst}','{!$Component.txtY3NumberNewFirst}','{!$Component.txtTotalCostY3NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY3NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year3','{!$Component.txtTotalSalaryY3NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:outputText id="txtTotalSalaryY3NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY3}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtTotalSalaryY3NewFirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY3GrntCurrency}"/>
                                                            </apex:outputText>
                                                        </td>
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:inputField id="txtY3LevelNewFirst" value="{!objNewAssumption.objAssumption.Y3_Level_of_Effort__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY3UnitCostNewFirst}','{!$Component.txtY3ChargesNewFirst}','{!$Component.txtTotalSalaryY3NewFirst}','{!$Component.txtY3LevelNewFirst}','{!$Component.txtY3NumberNewFirst}','{!$Component.txtTotalCostY3NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY3NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year3','{!$Component.txtTotalSalaryY3NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:inputField id="txtY3NumberNewFirst" value="{!objNewAssumption.objAssumption.Y3_Number_of_Persons__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY3UnitCostNewFirst}','{!$Component.txtY3ChargesNewFirst}','{!$Component.txtTotalSalaryY3NewFirst}','{!$Component.txtY3LevelNewFirst}','{!$Component.txtY3NumberNewFirst}','{!$Component.txtTotalCostY3NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY3NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year3','{!$Component.txtTotalSalaryY3NewFirstRate}');"/>
                                                        </td>               
                                                        <td id="Year3tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                            <apex:outputText id="txtTotalCostY3NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY3}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtRateY3NewFirst" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY3}"/>
                                                            </apex:outputText>
                                                        </td>
                                                        
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4UnitCostNewFirst" value="{!objNewAssumption.objAssumption.Y4_Net_Salary_Payment_Currency__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY4UnitCostNewFirst}','{!$Component.txtY4ChargesNewFirst}','{!$Component.txtTotalSalaryY4NewFirst}','{!$Component.txtY4LevelNewFirst}','{!$Component.txtY4NumberNewFirst}','{!$Component.txtTotalCostY4NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY4NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year4','{!$Component.txtTotalSalaryY4NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year4tdA" class="dataCell TDstyle"  style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4ChargesNewFirst" value="{!objNewAssumption.objAssumption.Y4_Social_Security_Obligatory_Charges__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY4UnitCostNewFirst}','{!$Component.txtY4ChargesNewFirst}','{!$Component.txtTotalSalaryY4NewFirst}','{!$Component.txtY4LevelNewFirst}','{!$Component.txtY4NumberNewFirst}','{!$Component.txtTotalCostY4NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY4NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year4','{!$Component.txtTotalSalaryY4NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:outputText id="txtTotalSalaryY4NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY4}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            
                                                            <apex:outputText id="txtTotalSalaryY4NewFirstRate" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalSalaryY4GrntCurrency}"/>
                                                            </apex:outputText>
                                                        </td>
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4LevelNewFirst" value="{!objNewAssumption.objAssumption.Y4_Level_of_Effort__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY4UnitCostNewFirst}','{!$Component.txtY4ChargesNewFirst}','{!$Component.txtTotalSalaryY4NewFirst}','{!$Component.txtY4LevelNewFirst}','{!$Component.txtY4NumberNewFirst}','{!$Component.txtTotalCostY4NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY4NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year4','{!$Component.txtTotalSalaryY4NewFirstRate}');"/>
                                                        </td>
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:inputField id="txtY4NumberNewFirst" value="{!objNewAssumption.objAssumption.Y4_Number_of_Persons__c}" onchange="CalculateTotalCostFirstNew('{!$Component.txtY4UnitCostNewFirst}','{!$Component.txtY4ChargesNewFirst}','{!$Component.txtTotalSalaryY4NewFirst}','{!$Component.txtY4LevelNewFirst}','{!$Component.txtY4NumberNewFirst}','{!$Component.txtTotalCostY4NewFirst}','{!$Component.txtCurrencyUsedFirstNew}','{!$Component.txtRateY4NewFirst}','{!Count-1}',{!if(objBL.lstAssumptions != null && objBL.lstAssumptions.size > 0,objBL.lstAssumptions.size,0)},'Year4','{!$Component.txtTotalSalaryY4NewFirstRate}');"/>
                                                        </td>               
                                                        <td id="Year4tdA" class="dataCell TDstyle" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                            <apex:outputText id="txtTotalCostY4NewFirst" value="{0,number,##,###,##0.00({!objNewAssumption.strAssumptionCurrency})}">
                                                                <apex:param value="{!objNewAssumption.TotalCostY4}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtRateY4NewFirst" value="{0,number,##,###,##0.00({!grantCurrency})}">
                                                                <apex:param value="{!objNewAssumption.CurrencyRateInUSDY4}"/>
                                                            </apex:outputText>
                                                                
                                                        </td>
                                                           
                                                        <td class="dataCell TDstyle">
                                                            <apex:inputField id="idSuppoetFirstNew" value="{!objNewAssumption.objAssumption.Assumptions_to_Support_Unit_Cost__c}" style="width:160px;"/>
                                                        </td>
                                                        <td class="dataCell TDstyle">
                                                            <apex:inputField id="idJCFirstNew" value="{!objNewAssumption.objAssumption.Justifications_Comments__c}" style="height: 19px;resize:none;width:130px;"/>
                                                        </td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td class="dataCell TDstyle" id="AddButtonTDFirst{!Count}" colspan="2" style="text-align:center;">
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" onclick="return AddNewAssumption('NewAssumptionTRFirst{!Count}','AddButtonTDFirst{!Count}','AddButtonTDHideFirst{!Count}','{!Count-1}','{!objBL.strUnitCostMeasure}','{!$Component.idUMNewFirst}','{!$Component.txtCurrencyUsedFirstNew}');" rendered="{!blnAddAssumption}">
                                                                <i class="icon-plus-sign icon-white"></i>
                                                                <strong>{!$Label.Add}</strong>
                                                            </apex:commandLink>
                                                        </td>
                                                        <td class="dataCell TDstyle" colspan="2" id="AddButtonTDHideFirst{!Count}" style="display:none;"></td>
                                                        <td class="dataCell TDstyle" colspan="5"></td>       
                                                        <th class="dataCell TDstyle"  colspan="2">
                                                            {!$Label.Total_Cost} ({!grantCurrency})<br/>
                                                            {!$Label.Average_Unit_Cost} ({!grantCurrency})
                                                        </th>
                                                        <td class="dataCell TDstyle">
                                                            <apex:outputText id="txtTotalUnitCostY1First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY1Cost}"/>
                                                            </apex:outputText>
                                                            <apex:outputText id="txtTotalUnitCostY2First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY2Cost}"/>
                                                            </apex:outputText>
                                                            <apex:outputText id="txtTotalUnitCostY3First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY3Cost}"/>
                                                            </apex:outputText>
                                                            <apex:outputText id="txtTotalUnitCostY4First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:param value="{!objBL.TotalOfAllY4Cost}"/>
                                                            </apex:outputText>
                                                            <br/>
                                                            <apex:outputText id="txtUnitCostY1First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year1','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY1}"/>
                                                            </apex:outputText>
                                                            <apex:outputText id="txtUnitCostY2First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year2','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY2}"/>
                                                            </apex:outputText>
                                                            <apex:outputText id="txtUnitCostY3First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year3','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY3}"/>
                                                            </apex:outputText>
                                                            <apex:outputText id="txtUnitCostY4First" value="{0,number,##,###,##0.00}" style="display:{!if(strSelectedYearAssumption == 'Year4','','none')};">
                                                                <apex:param value="{!objBL.UnitCostY4}"/>
                                                            </apex:outputText>
                                                        </td>
                                                        <td class="dataCell TDstyle" ></td>
                                                        <td class="dataCell TDstyle"></td>
                                                        
                                                    </tr>
                                                    <tr>
                                                        <td class="dataCell TDstyle" colspan="12" style="text-align:center;">
                                                            
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" style="width:37px;align:right;" onclick="return SaveAssumptionRecords('NewAssumptionTRFirst{!Count}','False');" rendered="{!blnSaveAssumption}">
                                                                <strong>{!$Label.Save}</strong>
                                                            </apex:commandLink>
                                                             <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" style="width:85px;align:right;" onclick="return SaveAssumptionRecords('NewAssumptionTRFirst{!Count}','True');" status="Processing" rendered="{!blnSaveAssumption}">
                                                                <strong>{!$Label.Save_and_Close}</strong>
                                                            </apex:commandLink>
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="align:left;" oncomplete="location.reload();" action="{!CancelAssumptionRecords}" status="Processing" rerender="tstpopup1" > 
                                                                <apex:param value="{!Count-1}" name="CancelIndex" id="CancelIndex1"/>
                                                                <strong>{!$Label.Cancel}</strong>
                                                            </apex:commandLink>
                                                        </td>
                                                    </tr>
                                                </table>
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                    </td>
     <!--CONTINUE BUDGET LINE TABLE-->
                                  
                                   <td rowspan="2" class="dataCell TDstyle" >
                                        <!--<apex:inputField style="width:140px;" value="{!objBL.objBudgetLine.Currency_Used__c}" rendered="{!!objBL.blnIsEditable}"/>-->
                                         <apex:selectList id="txtCurrencyUsedBL" value="{!objBL.strCurrencyUsed}" size="1" rendered="{!!objBL.blnIsEditable && blnEditCurrency}" style="width:80px">
                                            <apex:actionSupport event="onchange" action="{!ChangeBudgetLineOutFlowsValues}" reRender="frm" status="Processing"/>
                                            <apex:selectOptions value="{!AllCurrencyOptions}"></apex:selectOptions>
                                        </apex:selectList>
                                        <apex:outputText value="{!objBL.strCurrencyUsed}" rendered="{!objBL.blnIsEditable || !blnEditCurrency}"/>
                                    </td>                                    
                                    <td id="Year1td" rowspan="2" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:inputText id="txtY1Amount" value="{!objBL.objBudgetLine.Unit_Cost_Y1__c}" onchange="CalculateTotalYear1('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY1}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY1}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY1GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText id="txtY1AmountOut" value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Unit_Cost_Y1__c}"/>
                                        </apex:outputText>
                                         <br/>
                                        <apex:outputtext value="LFA: " rendered="{!if(strBudgetStatus != 'Draft' && (blnSeeLFAFields || blnEditLFAFields),true,false)}"/>
                                        <apex:inputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y1__c}" rendered="{!if((objBL.blnIsEditable=false && blnEditLFAFields),if(strBudgetStatus != 'Draft',true,false),false)}"/>                                                                                
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y1__c}" rendered="{!(blnSeeLFAComments && !!objBL.blnIsEditable)}"/>   
                                         <br/>
                                         <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!if(strBudgetStatus != 'Draft' && (blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferUCYR1),true,false)}"/>
                                        <!-- <apex:inputfield id="txtFOY1Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y1__c}" rendered="{!if((objBL.blnIsEditable=false && blnEditFOFields),if(strBudgetStatus != 'Draft',true,false),false)}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/> -->                                                                                
                                        <apex:inputfield id="txtFOY1Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y1__c}" styleclass="fieldColor" rendered="{!if((objBL.blnIsEditable=false && blnEditFOFields),if(strBudgetStatus != 'Draft',true,false),false)}"/><!--  onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtY1AmountOut}','{!$Component.txtFOY1Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','ValueSuggestedOut{!Count}');"/> -->
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Unit_Cost_Y1__c}" rendered="{!(blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferUCYR1)) && (objBL.blnIsEditable || !blnEditFOFields)}"/> 
                                         </div>
                                     </td>                
                                    <td id="Year1td" class="dataCell TDstyle" style="font-weight:bold;display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText value="Qty"/>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:inputField id="txtQ1Quantity" value="{!objBL.objBudgetLine.Q1_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY1}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY1}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY1GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}" >
                                            <apex:param value="{!objBL.objBudgetLine.Q1_Quantity__c}"/>
                                        </apex:outputText>
                                       <!--   <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ1Quantity" value="{!objBL.objBudgetLine.FO_Q1_Quantity__c}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>3,'none','')}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ1Quantity}','{!$Component.txtFOQ2Quantity}','{!$Component.txtFOQ3Quantity}','{!$Component.txtFOQ4Quantity}','{!$Component.txtTotalFOQtyY1}')" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q1_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>6,'none','')}"/>  -->
                                      </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:inputField id="txtQ2Quantity" value="{!objBL.objBudgetLine.Q2_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY1}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY1}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY1GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}" >
                                            <apex:param value="{!objBL.objBudgetLine.Q2_Quantity__c}"/>
                                        </apex:outputText>
                                       <!-- <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ2Quantity" value="{!objBL.objBudgetLine.FO_Q2_Quantity__c}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>6,'none','')}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ1Quantity}','{!$Component.txtFOQ2Quantity}','{!$Component.txtFOQ3Quantity}','{!$Component.txtFOQ4Quantity}','{!$Component.txtTotalFOQtyY1}')" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q2_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>6,'none','')}"/> 
                                         -->
                                     </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};"> 
                                        <apex:inputField id="txtQ3Quantity" value="{!objBL.objBudgetLine.Q3_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY1}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY1}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY1GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}" >
                                            <apex:param value="{!objBL.objBudgetLine.Q3_Quantity__c}"/>
                                        </apex:outputText>  
                                        <!--  <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ3Quantity" value="{!objBL.objBudgetLine.FO_Q3_Quantity__c}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>9,'none','')}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ1Quantity}','{!$Component.txtFOQ2Quantity}','{!$Component.txtFOQ3Quantity}','{!$Component.txtFOQ4Quantity}','{!$Component.txtTotalFOQtyY1}')" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q3_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>9,'none','')}"/> --> 
                                     </td>
                                     <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:inputField id="txtQ4Quantity" value="{!objBL.objBudgetLine.Q4_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY1}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY1}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY1GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q4_Quantity__c}"/>
                                        </apex:outputText>
                                       <!--   <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ4Quantity" value="{!objBL.objBudgetLine.FO_Q4_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ1Quantity}','{!$Component.txtFOQ2Quantity}','{!$Component.txtFOQ3Quantity}','{!$Component.txtFOQ4Quantity}','{!$Component.txtTotalFOQtyY1}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q4_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/> --> 
                                    </td>  
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtTotalQtyY1" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.TotalQuantityYear1}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnSeeLFAFields || blnEditLFAFields}"/>
                                        <apex:inputfield value="{!objBL.objBudgetLine.LFA_Y1_Amount__c}" rendered="{!!objBL.blnIsEditable && blnEditLFAFields}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Y1_Amount__c}" rendered="{!blnSeeLFAFields || objBL.blnIsEditable}"/>
                                        <br/>
                                        <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferYR1))}"/><!-- <apex:outputText id="txtTotalFOQtyY1" value="{!objBL.TotalFOQuantityYear1}" rendered="{!(blnEditFOFields || blnSeeFOFields)}"/> -->
                                        <!-- <apex:inputfield id="txtTotalFOQtyY1" value="{!objBL.objBudgetLine.FO_Y1_Amount__c}" rendered="{!blnEditFOFields && !objBL.blnIsEditable}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/>-->
                                        <apex:inputfield id="txtTotalFOQtyY1" value="{!objBL.objBudgetLine.FO_Y1_Amount__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!-- onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','ValueSuggestedOut{!Count}');"/> --> 
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Y1_Amount__c}" rendered="{!(blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferYR1)) && (objBL.blnIsEditable || !blnEditFOFields)}"/>
                                        </div>
                                    </td> 
                                    
                                    <td id="Year2td" rowspan="2" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtY2Amount" value="{!objBL.objBudgetLine.Unit_Cost_Y2__c}" onchange="CalculateTotalYear2('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY2}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY2}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY2GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText id="txtY2AmountOut" value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Unit_Cost_Y2__c}"/>
                                        </apex:outputText>
                                         <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnEditLFAFields || blnSeeLFAFields}"/><apex:inputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y2__c}" rendered="{!if(objBL.blnIsEditable=false && blnEditLFAFields,if(strBudgetStatus != 'Draft',true,false),false)}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y2__c}" rendered="{!blnSeeLFAFields || !objBL.blnIsEditable}" style="margin-top:6px"/> 
                                         <br/>
                                         <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferUCYR2))}"/>
                                        <!-- <apex:inputfield id="txtFOY2Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y2__c}" rendered="{!if(objBL.blnIsEditable=false && blnEditFOFields,if(strBudgetStatus != 'Draft',true,false),false)}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/> -->
                                        <apex:inputfield id="txtFOY2Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y2__c}" styleclass="fieldColor" rendered="{!if(objBL.blnIsEditable=false && blnEditFOFields,if(strBudgetStatus != 'Draft',true,false),false)}" /><!-- onchange="colorCodeForValueSugg('{!$Component.txtY2Amount}','{!$Component.txtY2AmountOut}','{!$Component.txtFOY2Amount}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','ValueSuggestedOut{!Count}');"/> -->
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Unit_Cost_Y2__c}" rendered="{!(blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferUCYR2)) && (objBL.blnIsEditable || !blnEditFOFields)}" style="margin-top:6px"/>
                                        </div>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Qty"/>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle"> 
                                        <apex:inputField id="txtQ5Quantity" value="{!objBL.objBudgetLine.Q5_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY2}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY2}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY2GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                           <apex:param value="{!objBL.objBudgetLine.Q5_Quantity__c}"/>
                                        </apex:outputText>
                                       <!-- <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ5Quantity" value="{!objBL.objBudgetLine.FO_Q5_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ5Quantity}','{!$Component.txtFOQ6Quantity}','{!$Component.txtFOQ7Quantity}','{!$Component.txtFOQ8Quantity}','{!$Component.txtTotalFOQtyY2}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q5_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ6Quantity" value="{!objBL.objBudgetLine.Q6_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY2}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY2}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY2GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                          <apex:param value="{!objBL.objBudgetLine.Q6_Quantity__c}"/>
                                        </apex:outputText>
                                       <!--  <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ6Quantity" value="{!objBL.objBudgetLine.FO_Q6_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ5Quantity}','{!$Component.txtFOQ6Quantity}','{!$Component.txtFOQ7Quantity}','{!$Component.txtFOQ8Quantity}','{!$Component.txtTotalFOQtyY2}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q6_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle"> 
                                        <apex:inputField id="txtQ7Quantity" value="{!objBL.objBudgetLine.Q7_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY2}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY2}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY2GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                         <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                           <apex:param value="{!objBL.objBudgetLine.Q7_Quantity__c}"/>
                                        </apex:outputText>
                                       <!--  <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ7Quantity" value="{!objBL.objBudgetLine.FO_Q7_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ5Quantity}','{!$Component.txtFOQ6Quantity}','{!$Component.txtFOQ7Quantity}','{!$Component.txtFOQ8Quantity}','{!$Component.txtTotalFOQtyY2}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                         <apex:outputField value="{!objBL.objBudgetLine.FO_Q7_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ8Quantity" value="{!objBL.objBudgetLine.Q8_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY2}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY2}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY2GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                           <apex:param value="{!objBL.objBudgetLine.Q8_Quantity__c}"/>
                                        </apex:outputText>
                                        <!-- <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ8Quantity" value="{!objBL.objBudgetLine.FO_Q8_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ5Quantity}','{!$Component.txtFOQ6Quantity}','{!$Component.txtFOQ7Quantity}','{!$Component.txtFOQ8Quantity}','{!$Component.txtTotalFOQtyY2}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q8_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalQtyY2" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.TotalQuantityYear2}"/>
                                        </apex:outputText>
                                         <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnEditLFAFields || blnSeeLFAFields}"/>
                                        <apex:inputfield value="{!objBL.objBudgetLine.LFA_Y2_Amount__c}" rendered="{!blnEditLFAFields && !objBL.blnIsEditable}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Y2_Amount__c}" rendered="{!blnSeeLFAFields || objBL.blnIsEditable}"/>                                        
                                        <br/>
                                        <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferYR2))}"/> <!-- <apex:outputText id="txtTotalFOQtyY2" value="{!objBL.TotalFOQuantityYear2}" rendered="{!(blnEditFOFields || blnSeeFOFields)}"/> -->                                       
                                        <!-- <apex:inputfield id="txtFOTotalQtyY2" value="{!objBL.objBudgetLine.FO_Y2_Amount__c}" rendered="{!blnEditFOFields && !objBL.blnIsEditable}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/>-->
                                        <apex:inputfield id="txtFOTotalQtyY2" value="{!objBL.objBudgetLine.FO_Y2_Amount__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!-- onchange="colorCodeForValueSugg('{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','ValueSuggestedOut{!Count}');"/> --> 
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Y2_Amount__c}" rendered="{!(objBL.blnIsEditable || !blnEditFOFields) && (blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferYR2))}"/> 
                                        </div>
                                    </td>
                                    
                                    <td id="Year3td" rowspan="2" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtY3Amount" value="{!objBL.objBudgetLine.Unit_Cost_Y3__c}" onchange="CalculateTotalYear3('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY3}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY3}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY3GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                         <apex:outputText id="txtY3AmountOut"  value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Unit_Cost_Y3__c}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnEditLFAFields || blnSeeLFAFields}"/><apex:inputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y3__c}" rendered="{!blnEditLFAFields && !objBL.blnIsEditable}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y3__c}" rendered="{!blnSeeLFAFields || objBL.blnIsEditable}" style="margin-top:6px"/>
                                        <br/>
                                        <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferUCYR3))}"/>
                                        <!-- <apex:inputfield id="txtFOY3Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y3__c}" rendered="{!blnEditFOFields && !objBL.blnIsEditable}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/>-->
                                        <apex:inputfield id="txtFOY3Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y3__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!--  onchange="colorCodeForValueSugg('{!$Component.txtY3Amount}','{!$Component.txtY3AmountOut}','{!$Component.txtFOY3Amount}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','ValueSuggestedOut{!Count}');"/> -->
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Unit_Cost_Y3__c}" rendered="{!(objBL.blnIsEditable || !blnEditFOFields) && (blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferUCYR3))}" style="margin-top:6px"/>
                                        </div>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Qty"/>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ9Quantity" value="{!objBL.objBudgetLine.Q9_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY3}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY3}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY3GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q9_Quantity__c}"/>
                                        </apex:outputText>
                                      <!--   <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ9Quantity" value="{!objBL.objBudgetLine.FO_Q9_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ9Quantity}','{!$Component.txtFOQ10Quantity}','{!$Component.txtFOQ11Quantity}','{!$Component.txtFOQ12Quantity}','{!$Component.txtTotalFOQtyY3}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q9_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ10Quantity" value="{!objBL.objBudgetLine.Q10_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY3}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY3}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY3GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q10_Quantity__c}"/>
                                        </apex:outputText>
                                       <!--   <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ10Quantity" value="{!objBL.objBudgetLine.FO_Q10_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ9Quantity}','{!$Component.txtFOQ10Quantity}','{!$Component.txtFOQ11Quantity}','{!$Component.txtFOQ12Quantity}','{!$Component.txtTotalFOQtyY3}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q10_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ11Quantity" value="{!objBL.objBudgetLine.Q11_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY3}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY3}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY3GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q11_Quantity__c}"/>
                                        </apex:outputText><!--  <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ11Quantity" value="{!objBL.objBudgetLine.FO_Q11_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ9Quantity}','{!$Component.txtFOQ10Quantity}','{!$Component.txtFOQ11Quantity}','{!$Component.txtFOQ12Quantity}','{!$Component.txtTotalFOQtyY3}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q11_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ12Quantity" value="{!objBL.objBudgetLine.Q12_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY3}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY3}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY3GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q12_Quantity__c}"/>
                                        </apex:outputText><!--  <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ12Quantity" value="{!objBL.objBudgetLine.FO_Q12_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ9Quantity}','{!$Component.txtFOQ10Quantity}','{!$Component.txtFOQ11Quantity}','{!$Component.txtFOQ12Quantity}','{!$Component.txtTotalFOQtyY3}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q12_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalQtyY3" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.TotalQuantityYear3}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnEditLFAFields || blnSeeLFAFields}"/>
                                        <apex:inputfield value="{!objBL.objBudgetLine.LFA_Y3_Amount__c}" rendered="{!blnEditLFAFields && !objBL.blnIsEditable}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Y3_Amount__c}" rendered="{!objBL.blnIsEditable || blnSeeLFAFields}"/> 
                                        <br/>
                                        <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferYR3))}"/>
                                       <!-- <apex:outputText id="txtTotalFOQtyY3" value="{!objBL.TotalFOQuantityYear3}" rendered="{!(blnEditFOFields || blnSeeFOFields)}"/>-->
                                       <!-- <apex:inputfield id="txtTotalFOQtyY3" value="{!objBL.objBudgetLine.FO_Y3_Amount__c}" rendered="{!blnEditFOFields && !objBL.blnIsEditable}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/>-->
                                       <apex:inputfield id="txtTotalFOQtyY3" value="{!objBL.objBudgetLine.FO_Y3_Amount__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!-- onchange="colorCodeForValueSugg('{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','ValueSuggestedOut{!Count}')"/> --> 
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Y3_Amount__c}" rendered="{!(blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferYR3)) && (objBL.blnIsEditable || !blnEditFOFields)}"/>
                                        </div>
                                    </td>
                                    
                                    <td id="Year4td" rowspan="2" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtY4Amount" value="{!objBL.objBudgetLine.Unit_Cost_Y4__c}" onchange="CalculateTotalYear4('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY4}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY4}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY4GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText id="txtY4AmountOut" value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                                <apex:param value="{!objBL.objBudgetLine.Unit_Cost_Y4__c}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnEditLFAFields || blnSeeLFAFields}"/>
                                        <apex:inputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y4__c}" rendered="{!blnEditLFAFields && !objBL.blnIsEditable}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Unit_Cost_Y4__c}" rendered="{!blnSeeLFAFields || objBL.blnIsEditable}" style="margin-top:6px"/>
                                        <br/>
                                        <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferUCYR4))}"/>
                                        <!-- <apex:inputfield id="txtFOY4Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y4__c}" rendered="{!blnEditFOFields && !objBL.blnIsEditable}" onchange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/>-->
                                        <apex:inputfield id="txtFOY4Amount" value="{!objBL.objBudgetLine.FO_Unit_Cost_Y4__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!-- onchange="colorCodeForValueSugg('{!$Component.txtY4Amount}','{!$Component.txtY4AmountOut}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','ValueSuggestedOut{!Count}');"/> --> 
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Unit_Cost_Y4__c}" rendered="{!(blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferUCYR4)) && (objBL.blnIsEditable || !blnEditFOFields)}" style="margin-top:6px"/>
                                        </div>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Qty"/>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ13Quantity" value="{!objBL.objBudgetLine.Q13_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY4}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY4}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY4GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q13_Quantity__c}"/>
                                        </apex:outputText>
                                        <!-- <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ13Quantity" value="{!objBL.objBudgetLine.FO_Q13_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ13Quantity}','{!$Component.txtFOQ14Quantity}','{!$Component.txtFOQ15Quantity}','{!$Component.txtFOQ16Quantity}','{!$Component.txtTotalFOQtyY4}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q13_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ14Quantity" value="{!objBL.objBudgetLine.Q14_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY4}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY4}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY4GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q14_Quantity__c}"/>
                                        </apex:outputText>
                                        <!--  <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ14Quantity" value="{!objBL.objBudgetLine.FO_Q14_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ13Quantity}','{!$Component.txtFOQ14Quantity}','{!$Component.txtFOQ15Quantity}','{!$Component.txtFOQ16Quantity}','{!$Component.txtTotalFOQtyY4}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q14_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ15Quantity" value="{!objBL.objBudgetLine.Q15_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY4}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY4}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY4GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                       <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q15_Quantity__c}"/>
                                        </apex:outputText>
                                        <!-- <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ15Quantity" value="{!objBL.objBudgetLine.FO_Q15_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ13Quantity}','{!$Component.txtFOQ14Quantity}','{!$Component.txtFOQ15Quantity}','{!$Component.txtFOQ16Quantity}','{!$Component.txtTotalFOQtyY4}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q15_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:inputField id="txtQ16Quantity" value="{!objBL.objBudgetLine.Q16_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtCurrencyUsedBL}','{!$Component.txtQ1Quantity}','{!$Component.txtQ2Quantity}','{!$Component.txtQ3Quantity}','{!$Component.txtQ4Quantity}','{!$Component.txtQ5Quantity}','{!$Component.txtQ6Quantity}','{!$Component.txtQ7Quantity}','{!$Component.txtQ8Quantity}','{!$Component.txtQ9Quantity}','{!$Component.txtQ10Quantity}','{!$Component.txtQ11Quantity}','{!$Component.txtQ12Quantity}','{!$Component.txtQ13Quantity}','{!$Component.txtQ14Quantity}','{!$Component.txtQ15Quantity}','{!$Component.txtQ16Quantity}','{!$Component.txtTotalQtyY4}','{!$Component.txtQ1Case}','{!$Component.txtQ2Case}','{!$Component.txtQ3Case}','{!$Component.txtQ4Case}','{!$Component.txtQ5Case}','{!$Component.txtQ6Case}','{!$Component.txtQ7Case}','{!$Component.txtQ8Case}','{!$Component.txtQ9Case}','{!$Component.txtQ10Case}','{!$Component.txtQ11Case}','{!$Component.txtQ12Case}','{!$Component.txtQ13Case}','{!$Component.txtQ14Case}','{!$Component.txtQ15Case}','{!$Component.txtQ16Case}','{!$Component.txtTotalCaseY4}','{!$Component.GrantTotalAmount}','{!$Component.GrantTotalQty}','{!$Component.txtQ1CaseGrntCurrency}','{!$Component.txtQ2CaseGrntCurrency}','{!$Component.txtQ3CaseGrntCurrency}','{!$Component.txtQ4CaseGrntCurrency}','{!$Component.txtQ5CaseGrntCurrency}','{!$Component.txtQ6CaseGrntCurrency}','{!$Component.txtQ7CaseGrntCurrency}','{!$Component.txtQ8CaseGrntCurrency}','{!$Component.txtQ9CaseGrntCurrency}','{!$Component.txtQ10CaseGrntCurrency}','{!$Component.txtQ11CaseGrntCurrency}','{!$Component.txtQ12CaseGrntCurrency}','{!$Component.txtQ13CaseGrntCurrency}','{!$Component.txtQ14CaseGrntCurrency}','{!$Component.txtQ15CaseGrntCurrency}','{!$Component.txtQ16CaseGrntCurrency}','{!$Component.txtTotalCaseY4GrntCurrency}','{!$Component.GrantTotalAmountGrntCurrency}')" rendered="{!!objBL.blnIsEditable && blnEditPRFields}"/>
                                        <apex:outputText value="{0,number,##,###,##0.00}" rendered="{!objBL.blnIsEditable || !blnEditPRFields}">
                                            <apex:param value="{!objBL.objBudgetLine.Q16_Quantity__c}"/>
                                        </apex:outputText>
                                        <!-- <br/>
                                        <apex:outputtext value="FO: " rendered="{!(blnEditFOFields || blnSeeFOFields)}"/><apex:inputField id="txtFOQ16Quantity" value="{!objBL.objBudgetLine.FO_Q16_Quantity__c}" onchange="CalculateFOTotalQuantity('{!$Component.txtFOQ13Quantity}','{!$Component.txtFOQ14Quantity}','{!$Component.txtFOQ15Quantity}','{!$Component.txtFOQ16Quantity}','{!$Component.txtTotalFOQtyY4}');" rendered="{!!objBL.blnIsEditable && blnEditFOFields}"/>
                                        <apex:outputField value="{!objBL.objBudgetLine.FO_Q16_Quantity__c}" rendered="{!objBL.blnIsEditable && blnSeeFOFields}"/>-->
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalQtyY4" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.TotalQuantityYear4}"/>
                                        </apex:outputText>
                                         <br/>
                                        <apex:outputtext value="LFA: " rendered="{!blnEditLFAFields || blnSeeLFAFields}"/>
                                        <apex:inputfield value="{!objBL.objBudgetLine.LFA_Y4_Amount__c}" rendered="{!!objBL.blnIsEditable && blnEditLFAFields}"/>
                                        <apex:outputfield value="{!objBL.objBudgetLine.LFA_Y4_Amount__c}" rendered="{!objBL.blnIsEditable || blnSeeLFAFields}"/>  
                                          <br/>
                                        <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferYR4))}"/>
                                        <!-- <apex:outputText id="txtTotalFOQtyY4" value="{!objBL.TotalFOQuantityYear4}" rendered="{!(blnEditFOFields || blnSeeFOFields)}"/> -->                                                         
                                        <!--  <apex:inputfield id="txtTotalFOQtyY4" value="{!objBL.objBudgetLine.FO_Y4_Amount__c}" rendered="{!blnEditFOFields && objBL.blnIsEditable}" onChange="colorCodeForValueSugg('{!$Component.txtY1Amount}','{!$Component.txtFOY1Amount}','{!$Component.txtY2Amount}','{!$Component.txtFOY2Amount}','{!$Component.txtY3Amount}','{!$Component.txtFOY3Amount}','{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY1}','{!$Component.txtTotalFOQtyY1}','{!$Component.txtTotalQtyY2}','{!$Component.txtTotalFOQtyY2}','{!$Component.txtTotalQtyY3}','{!$Component.txtTotalFOQtyY3}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut');"/>-->
                                         <apex:inputfield id="txtTotalFOQtyY4" value="{!objBL.objBudgetLine.FO_Y4_Amount__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!-- onChange="colorCodeForValueSugg('{!$Component.txtY4Amount}','{!$Component.txtFOY4Amount}','{!$Component.txtTotalQtyY4}','{!$Component.txtTotalFOQtyY4}','ValueSuggestedOut{!Count}');"/> --> 
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Y4_Amount__c}" rendered="{!(objBL.blnIsEditable || !blnEditFOFields) && (blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferYR4))}"/>
                                        </div>
                                    </td>
                                    <td id="GrantTotalQtytd" class="dataCell TDstyle">
                                        <apex:outputText id="GrantTotalQty" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.GrantTotalQuantity}"/>
                                        </apex:outputText>
                                         <br/>
                                         <div class="fieldColor">
                                        <apex:outputtext value="FO: " rendered="{!((blnEditFOFields || blnSeeFOFields) || (blnFOdiffersPR && objBL.blnDifferGrantTotal))}"/>
                                        <!-- <apex:outputText id="txtTotalFOQtyY4" value="{!objBL.TotalFOQuantityYear4}" rendered="{!(blnEditFOFields || blnSeeFOFields)}"/> -->                                                         
                                        <apex:inputfield id="FOGrantTotalQty" value="{!objBL.objBudgetLine.FO_Total_Grant_Quantity_Amount__c}" styleclass="fieldColor" rendered="{!blnEditFOFields && !objBL.blnIsEditable}"/><!--  onchange="colorCodeForValueSuggGrntTotal('{!$Component.GrantTotalQty}','{!$Component.FOGrantTotalQty}','ValueSuggestedOut{!Count}');"/> -->
                                        <apex:outputfield value="{!objBL.objBudgetLine.FO_Total_Grant_Quantity_Amount__c}" rendered="{!(objBL.blnIsEditable || !blnEditFOFields) && (blnSeeFOFields || (blnFOdiffersPR && objBL.blnDifferGrantTotal))}"/>
                                        </div>
                                    </td>                                    
                                    <td class="dataCell TDstyle" rowspan="2" style="border: 1px solid #E0E3E5 !important;" width="35px">
                                        <apex:commandLink id="cmdLinkEditGoal" action="{!EditBudgetLine}" reRender="frm" Status="Processing" styleClass="TGFbtn TGFbtn-mini TGFbtn-primary" style="display:{!if(objBL.blnIsEditable != true,'none','')};width:30px;height:25px;" rendered="{!blnEdit}">
                                            <i class="icon-edit icon-white" style="margin-top:6px"></i>
                                            <apex:param value="{!Count-1}" name="EditIndex"/>
                                        </apex:commandLink>
                                        <apex:commandLink id="cmdLinkSaveGoal" styleClass="TGFbtn TGFbtn-mini TGFbtn-success" onclick="return ValidateSave('{!$Component.lstGI}','{!$Component.Payee}','{!Count-1}','{!lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c}','{!$Component.Blevelvalue}');" style="display:{!if(objBL.blnIsEditable == true,'none','')};width:40px;" Rerender="Navigation,frm">
                                            <strong>{!$Label.Save}</strong>                                            
                                        </apex:commandLink>
                                        
                                        <!-- <apex:commandLink action="{!OpenAssumptionNoRecords}" status="Processing" rerender="frm" rendered="{!if(objBL.blnIsEditable == false,'false','true')}">
                                            <strong>Dialogue</strong>
                                        </apex:commandLink> -->      
                                                                
                                       <!-- <apex:commandLink style="width:85px;" styleClass="{!IF(isblank(objBL.objBudgetLine.PR_Comments__c),'TGFbtn TGFbtn-mini TGFbtn-warning','TGFbtn TGFbtn-mini TGFbtn-success')}" action="{!OpenAssumptionNoRecords}" status="Processing" rerender="frm" rendered="{!if(objBL.blnIsEditable == false,'false','true')}">
                                            <apex:param name="OpenBLIndex" value="{!Count-1}"/>
                                            <strong><apex:outputLabel value="{!$Label.Dialoge_Header}"/></strong>
                                            <i class="icon-search icon-white" style="display:{!if(isblank(objBL.objBudgetLine.LFA_Comments__c),'none','')}"></i>
                                            <i class="icon-certificate icon-white" style="display:{!if(isblank(objBL.objBudgetLine.TGF_Comments__c),'none','')}"></i>
                                        </apex:commandLink>-->
                                      
                                        <!-- TCS - 08102014 - Updated to reflect color schema of dialog button per Profile per Comments -->
                                         <apex:commandLink style="width:85px;" styleClass="{!IF(isblank(objBL.objBudgetLine.PR_Comments__c) && isblank(objBL.objBudgetLine.TGF_Comments__c) && isblank(objBL.objBudgetLine.LFA_Comments__c),'TGFbtn TGFbtn-mini TGFbtn-success', IF(NOT(isblank(objBL.objBudgetLine.PR_Comments__c)) && isblank(objBL.objBudgetLine.LFA_Comments__c)  && isblank(objBL.objBudgetLine.TGF_Comments__c),'TGFbtn TGFbtn-mini TGFbtn-warning','TGFbtn TGFbtn-mini TGFbtn-narrate')) }" action="{!OpenAssumptionNoRecords}" status="Processing" rerender="frm" rendered="{!If(objBL.blnIsEditable && blnDialoguePR,true, false)}">
                                            <apex:param name="OpenBLIndex" value="{!Count-1}"/>
                                            <strong><apex:outputLabel value="{!$Label.BtnComments}"/></strong>
                                         </apex:commandLink>
                                       
                                        
                                        <apex:commandLink style="width:85px;" styleClass="{!IF(isblank(objBL.objBudgetLine.PR_Comments__c) && isblank(objBL.objBudgetLine.TGF_Comments__c) && isblank(objBL.objBudgetLine.LFA_Comments__c),'TGFbtn TGFbtn-mini TGFbtn-success', IF(NOT(isblank(objBL.objBudgetLine.PR_Comments__c)) && isblank(objBL.objBudgetLine.LFA_Comments__c)  && isblank(objBL.objBudgetLine.TGF_Comments__c),'TGFbtn TGFbtn-mini TGFbtn-warning',IF(isblank(objBL.objBudgetLine.PR_Comments__c) && isblank(objBL.objBudgetLine.LFA_Comments__c)  && Not(isblank(objBL.objBudgetLine.TGF_Comments__c)),'TGFbtn TGFbtn-mini TGFbtn-narrate',IF(Not(isblank(objBL.objBudgetLine.PR_Comments__c)) && isblank(objBL.objBudgetLine.LFA_Comments__c)  && Not(isblank(objBL.objBudgetLine.TGF_Comments__c)),'TGFbtn TGFbtn-mini TGFbtn-narrate','TGFbtn TGFbtn-mini TGFbtn-danger')))) }" action="{!OpenAssumptionNoRecords}" status="Processing" rerender="frm" rendered="{!If(objBL.blnIsEditable && (blnDialogueLFA || blnDialogueTGF),true, false)}">
                                            <apex:param name="OpenBLIndex" value="{!Count-1}"/>
                                            <strong><apex:outputLabel value="{!$Label.BtnComments}"/></strong>
                                        </apex:commandLink>
                                       
                                        <apex:commandLink style="width:85px;" styleClass="TGFbtn TGFbtn-mini TGFbtn-narrate" action="{!OpenAssumptionNoRecords}" status="Processing" rerender="frm" rendered="{!If((!blnDialoguePR && !blnDialogueLFA && !blnDialogueTGF && objBL.blnIsEditable),true, false)}">
                                            <apex:param name="OpenBLIndex" value="{!Count-1}"/>
                                            <strong><apex:outputLabel value="{!$Label.BtnComments}"/></strong>
                                        </apex:commandLink>
                                       
                                        <apex:outputPanel id="dialogPouup">
                                            <apex:outputPanel styleClass="popupDialogBackground" rendered="{!objBL.blnHasNoChild}"/>
                                            <apex:outputPanel styleClass="custDialogPopup" rendered="{!objBL.blnHasNoChild}" style="left: 31% !important;" >
                                                <table width="100%">
                                                    <tr>
                                                        <td width="20%">
                                                            <b><apex:outputLabel value="{!$Label.Dialoge_PR_Comment}"/></b><br/>
                                                            <apex:outputtext value="Last update : " rendered="{!if(isblank(objBL.objBudgetLine.Latest_PR_Comment__c)==false,true,false)}"/><br/>
                                                            <apex:outputfield value="{!objBL.objBudgetLine.Latest_PR_Comment__c}"/>
                                                        </td>
                                                        <td>
                                                            <apex:inputField id="PRComments" style="height: 50px;resize: none;width: 90%;" value="{!objBL.objBudgetLine.PR_Comments__c}" rendered="{!blnPRComment}"/>
                                                            <apex:outputField style="height: 50px;resize: none;width: 90%; border:2px solid #CCCCCC;" value="{!objBL.objBudgetLine.PR_Comments__c}" rendered="{!!blnPRComment}"/>
                                                        </td>
                                                    </tr>
                                                    <tr style="display:{!if((blnSeeLFAComments || blnLFAComment),'','none')}">
                                                        <td width="20%">
                                                            <b><apex:outputLabel value="{!$Label.Dialoge_LFA_Comment}" rendered="{!blnSeeLFAComments || blnLFAComment}"/></b><br/>
                                                            <apex:outputtext value="Last update : " rendered="{!if(isblank(objBL.objBudgetLine.Latest_LFA_Comment__c)==false && blnSeeLFAComments,true,false)}"/><br/>
                                                            <apex:outputfield value="{!objBL.objBudgetLine.Latest_LFA_Comment__c}" rendered="{!blnSeeLFAComments}"/>
                                                        </td>
                                                        <td>
                                                            <apex:inputField id="LFAComments" style="height: 50px;resize: none;width: 90%;" value="{!objBL.objBudgetLine.LFA_Comments__c}" rendered="{!blnLFAComment}"/>
                                                            <apex:outputField style="height: 50px;resize: none;width: 90%;border:2px solid #CCCCCC;" value="{!objBL.objBudgetLine.LFA_Comments__c}" rendered="{!blnSeeLFAComments}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td width="25%">
                                                            <b><apex:outputLabel value="{!$Label.Dialoge_TGF_Comment}"/></b><br/>
                                                            <apex:outputtext value="Last update : " rendered="{!if(isblank(objBL.objBudgetLine.Latest_TGF_Comment__c)==false,true,false)}"/><br/>
                                                            <apex:outputfield value="{!objBL.objBudgetLine.Latest_TGF_Comment__c}"/> 
                                                        </td>
                                                        <td >
                                                            <apex:inputField id="TGFComments" style="height: 50px;resize: none;width: 90%;" value="{!objBL.objBudgetLine.TGF_Comments__c}" rendered="{!blnTGFComment}"/>                                                            
                                                            <apex:outputField style="height: 50px;resize: none;width: 90%;border:2px solid #CCCCCC;" value="{!objBL.objBudgetLine.TGF_Comments__c}" rendered="{!!blnTGFComment}"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="dataCell TDstyle" colspan="2" style="text-align:center;">
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" style="width:37px;align:right;" action="{!SaveBLAssumptionNoRecords}" status="Processing" rerender="frm" rendered="{!blnSaveBLAss}">
                                                                <apex:param value="{!Count-1}" name="SaveBLIndex"/>
                                                                <strong><apex:outputLabel value="{!$Label.Save}"/></strong>
                                                            </apex:commandLink>
                                                            <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="align:left;" onclick="return CommentPopUp('{!$Component.PRComments}','{!$Component.TGFComments}','{!Count-1}');" status="Processing" rerender="frm"> 
                                                                <apex:param name="CancelBLIndex" value="{!Count-1}"/>
                                                                <strong><apex:outputLabel value="{!$Label.Cancel}"/></strong>
                                                            </apex:commandLink>
                                                        </td>
                                                    </tr>
                                                 
                                                </table>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        
                                        <apex:commandLink id="cmdLinkCancelGoal" styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" action="{!CancelBudgetLine}" reRender="frm" Status="Processing" style="display:{!if(objBL.blnIsEditable == true,'none','')};width:55px;">
                                            <strong><apex:outputLabel value="{!$Label.Cancel}"/></strong>
                                            <apex:param value="{!Count-1}" name="CancelIndex" />
                                        </apex:commandLink>
                                        <apex:commandLink id="cmdLinkDeleteGoal" styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" style="width:30px;height:25px;margin-top:6px;display:{!if(objBL.blnIsEditable != true,'none','')};" onclick="return OpenDeletePopup('{!$Component.tstpopup}')" rendered="{!blnDelete}">
                                            <i class="icon-trash icon-white" style="margin-top:6px"></i> 
                                        </apex:commandLink>
                                        <apex:outputPanel id="tstpopup" style="display:none;">
                                            <apex:outputPanel id="popupBackground" styleClass="popupBackground"/>
                                            <apex:outputPanel id="custPopup" styleClass="custPopup">
                                                <table width="100%" cellspacing="0" cellpadding="0" border="0" >
                                                    <tr>
                                                        <td colspan="3" class="deletePopup">
                                                            <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="Are you sure?"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="3" class="deletePopup">
                                                            <apex:outputtext style="color:#6590c4; font-size: 13.9pt;font-weight: bold;" value="This Budget line will be deleted."/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td width="47%" class="deletePopup">
                                                            <apex:commandButton styleClass="popupButtonYes" value="Yes" action="{!DeleteBudgetLine}" reRender="frm" status="Processing">
                                                                <apex:param value="{!Count-1}" name="DeleteIndex" />
                                                            </apex:commandButton>
                                                        </td>
                                                        <td width="6%" class="deletePopup"></td>
                                                        <td width="47%" align="left" class="deletePopupCancel">
                                                            <apex:commandButton styleClass="popupButtonCancel" value="Cancel" onclick="return ClosePopup('{!$Component.tstpopup}');"/>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                    </td>
                                </tr>
                                <tr>
                                    
                                    <td id="Year1td" class="dataCell TDstyle" style="font-weight:bold;display:{!if(strSelectedYear == 'Year1','','none')};" >
                                        <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtQ1Case" value="{0,number,##,###,##0.00}" >
                                            <apex:param value="{!objBL.Q1Case}"/>
                                        </apex:outputText>
                                        
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};"> 
                                        <apex:outputText id="txtQ2Case" value="{0,number,##,###,##0.00}" >
                                            <apex:param value="{!objBL.Q2Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtQ3Case" value="{0,number,##,###,##0.00}" >
                                            <apex:param value="{!objBL.Q3Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtQ4Case" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.Q4Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtTotalCaseY1" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.TotalCaseYear1}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ5Case" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.Q5Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ6Case" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.Q6Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ7Case" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.Q7Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ8Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q8Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalCaseY2" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.TotalCaseYear2}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ9Case" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.Q9Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ10Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q10Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ11Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q11Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ12Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q12Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalCaseY3" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.TotalCaseYear3}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ13Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q13Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ14Case" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.Q14Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ15Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q15Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};border-bottom:1px solid #E0E3E5 !important;" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ16Case" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.Q16Case}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalCaseY4" value="{0,number,##,###,##0.00}"> 
                                            <apex:param value="{!objBL.TotalCaseYear4}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="GrantTotalAmounttd" class="dataCell TDstyle">
                                        <apex:outputText id="GrantTotalAmount" value="{0,number,##,###,##0.00}">
                                            <apex:param value="{!objBL.GrantTotalAmount}"/>
                                        </apex:outputText>
                                    </td>
                                    <!-- Code with OutFlow Value in Both Currencies Starts Here-->
                                  <!--  <td id="Year1td" class="dataCell TDstyle" style="font-weight:bold;display:{!if(strSelectedYear == 'Year1','','none')};" >
                                        <apex:outputText value="Outflow"/>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtQ1Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>3,'none','')}">
                                            <apex:param value="{!objBL.Q1Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ1CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if((MONTH(Module__c.Implementation_Period__r.Start_Date__c)>3) || objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q1CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};"> 
                                        <apex:outputText id="txtQ2Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>6,'none','')}">
                                            <apex:param value="{!objBL.Q2Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ2CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>6 || objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q2CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtQ3Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>9,'none','')}">
                                            <apex:param value="{!objBL.Q3Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ3CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(MONTH(Module__c.Implementation_Period__r.Start_Date__c)>9 || objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q3CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtQ4Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.Q4Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ4CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q4CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                        <apex:outputText id="txtTotalCaseY1" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.TotalCaseYear1}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtTotalCaseY1GrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.TotalCaseYear1GrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Outflow"/>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ5Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.Q5Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ5CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q5CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ6Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.Q6Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ6CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q6CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ7Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.Q7Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ7CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q7CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ8Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q8Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ8CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q8CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalCaseY2" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.TotalCaseYear2}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtTotalCaseY2GrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.TotalCaseYear2GrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Outflow"/>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ9Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.Q9Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ9CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q9CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ10Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q10Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ10CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q10CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ11Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q11Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ11CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q11CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ12Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q12Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ12CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q12CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalCaseY3" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.TotalCaseYear3}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtTotalCaseY3GrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.TotalCaseYear3GrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};font-weight:bold;" class="dataCell TDstyle">
                                        <apex:outputText value="Outflow"/>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ13Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q13Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ13CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q13CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ14Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.Q14Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ14CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q14CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ15Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q15Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ15CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q15CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};border-bottom:1px solid #E0E3E5 !important;" class="dataCell TDstyle">
                                        <apex:outputText id="txtQ16Case" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.Q16Case}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtQ16CaseGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.Q16CaseInGrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                        <apex:outputText id="txtTotalCaseY4" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}"> 
                                            <apex:param value="{!objBL.TotalCaseYear4}"/>
                                        </apex:outputText>
                                        <br/>
                                        <apex:outputText id="txtTotalCaseY4GrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.TotalCaseYear4GrntCurrency}"/>
                                        </apex:outputText>
                                    </td>
                                    <td id="GrantTotalAmounttd" class="dataCell TDstyle">
                                        <apex:outputText id="GrantTotalAmount" value="{0,number,##,###,##0.00({!objBL.strCurrencyUsed})}">
                                            <apex:param value="{!objBL.GrantTotalAmount}"/>
                                        </apex:outputText>
                                         <br/>
                                        <apex:outputText id="GrantTotalAmountGrntCurrency" value="{0,number,##,###,##0.00({!grantcurrency})}" style="display:{!if(objBL.strCurrencyUsed == grantcurrency,'none','')}">
                                            <apex:param value="{!objBL.GrantTotalAmountGrntCurrency}"/>
                                        </apex:outputText>
                                    </td> -->
                                    <!-- Code with OutFlow Value in Both Currencies Starts Here-->
                                </tr>
                                <apex:variable value="{!Count + 1}" var="Count"/>
                             </apex:repeat>
                             
                             <!---------------------------------------------------------------------->
                          <!--    <apex:actionFunction action="{!SelectUnitMeasureNew}" reRender="frm" status="Processing" name="actSelectUnitMeasureNew" oncomplete="completeOnchangeNewRow();">
                                 <apex:param value="" name="CostInputId" id="CostInputId"/>
                             </apex:actionFunction> -->
                             <tr id="newBudgetLine1" style="display:none;">
                                <td rowspan="2" class="dataCell TDstyle" style="display:{!if(blnLFAFlag==true,'','none')};">
                                   
                                </td>
                                <td rowspan="2" class="dataCell TDstyle" >
                                 <!--   <apex:outputText value="{!objBudgetLineNew.wrapCount}"/>-->
                                </td>
                                <td rowspan="2" class="dataCell TDstyle" >
                                    <apex:inputText id="NewrefNum" value="{!objBudgetLineNewRow.Reference_Number__c}" maxlength="6" onchange="return validateRefNum(this);"/>
                                </td>
                                <td rowspan="2" class="dataCell TDstyle" >
                                    <apex:selectList id="lstNewGI" value="{!objBudgetLineNewRow.Grant_Intervention__c}" size="1" style="width:150px;">
                                        <apex:selectOptions value="{!GrantInterventionOptions}"></apex:selectOptions>
                                    </apex:selectList>
                                </td>
                                <td rowspan="2" class="dataCell TDstyle" >
                                    
                                    <apex:inputField id="txtActivity" style="width:160px" value="{!objBudgetLineNewRow.Activity__c}"/> 
                                </td>
                              <!-- Add row for Cost grouping By TCS -->
                                
                                <td rowspan="2" class="dataCell TDstyle" >
                                     <apex:outputpanel >                             
                                     <apex:selectList id="costGrpingInput" value="{!objBudgetLineNew.strCostGrp}" size="1" style="width:150px;" rendered="{!IF(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level',true,false)}" >  
                                        <apex:selectOptions value="{!AllCostGrpOptions}"></apex:selectOptions>
                                        <apex:actionSupport event="onchange" action="{!PopulateCostInput}" reRender="check,txtUCD" status="Processing">
                                            <apex:param value="{!Count}" name="CstInpEditIndex" id="CstInpEditIndex"/>
                                        </apex:actionSupport>
                                     </apex:selectList>
                                      
                                      <apex:outputtext value="{!objBudgetLineNewRow.Cost_Grouping__c}" id="CostGrp" rendered="{!IF(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost input level',true,false)}"/>
                                      
                                  <!-- <apex:selectList id="lstNewCostgrp"  value="{!strCostGrp1}" size="1" style="width:150px;" >
                                        <apex:selectOptions value="{!AllCostGrpOptions}"></apex:selectOptions>
                                    </apex:selectList>  -->
                                    </apex:outputpanel>
                                </td>
                              <!-- Completed -------------------> 
                               
                                <td rowspan="2" class="dataCell TDstyle" >
                                   <apex:outputpanel > 
                                    <apex:selectList id="lstNewCostInput"  value="{!objBudgetLineNewRow.Cost_Input__c}" size="1" style="width:150px;" rendered="{!IF(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost input level',true,false)}" ><!-- onchange="SelectUnitOfmeasureNew(this,'{!objBudgetLineNewRow.Cost_Input__c}','{!$Component.txtUCD}');"  -->
                                        <apex:selectOptions value="{!CostInputOptions}"></apex:selectOptions>
                                        <apex:actionSupport event="onchange" action="{!PopulateCostGrouping}" reRender="CostGrp,txtUCD" status="Processing">
                                            <apex:param value="{!Count}" name="CstGrpEditIndex" id="CstGrpEditIndex"/>
                                        </apex:actionSupport>
                                    </apex:selectList>
                                    
                                    <apex:outputtext value="{!strCostGrpName}" id="check" rendered="{!IF(lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c ='Budget at cost grouping level',true,false)}"/>   
                                  </apex:outputpanel>
                                </td>
                                
                                <td rowspan="2" class="dataCell TDstyle" >
                                     <apex:selectList id="lstNewPayee" value="{!objBudgetLineNewRow.Payee__c}" size="1" style="width:100px;">
                                        <apex:selectOptions value="{!ImplementersOptions}"></apex:selectOptions>
                                    </apex:selectList>
                                </td>
                                <td rowspan="2" class="dataCell TDstyle" >
                                    <apex:outputText id="txtUCD" value="{!objBudgetLineNew.strUnitCostMeasure}"/>
                                </td>
                                <td rowspan="2" class="dataCell TDstyle" >
                                    <apex:selectList id="txtNewCurrency" value="{!objBudgetLineNew.strCurrencyUsed}" size="1" style="width:140px;">
                                        <apex:actionSupport event="onchange" action="{!ChangeBudgetLineOutFlowsValues}" reRender="frm" status="Processing" oncomplete="oncompleteChangeCurrencyNewBL();"/>
                                       <!-- <apex:actionSupport event="onchange" action="{!ChangeBudgetLineOutFlowsValuesNew}" reRender="frm" status="Processing" oncomplete="oncompleteChangeCurrencyNewBL();"/>-->
                                       <!-- <apex:selectOptions value="{!AllIPCurrencyOptions}"></apex:selectOptions>-->
                                         <apex:selectOptions value="{!AllCurrencyOptions}"></apex:selectOptions>
                                    </apex:selectList>                                     
                                    <!--<apex:inputField id="txtNewCurrency" value="{!objBudgetLineNewRow.Currency_Used__c}" style="width:140px;"/>-->
                                </td>
                                
                                <td id="Year1td" rowspan="2" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:inputField id="txtY1AmountNew" value="{!objBudgetLineNewRow.Unit_Cost_Y1__c}" onchange="CalculateTotalYear1('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY1New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY1New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY1NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                    
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="font-weight:bold;display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText value="Qty"/>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:inputField id="txtQ1QuantityNew" value="{!objBudgetLineNewRow.Q1_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY1New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY1New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY1NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:inputField id="txtQ2QuantityNew" value="{!objBudgetLineNewRow.Q2_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY1New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY1New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY1NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:inputField id="txtQ3QuantityNew" value="{!objBudgetLineNewRow.Q3_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY1New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY1New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY1NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:inputField id="txtQ4QuantityNew" value="{!objBudgetLineNewRow.Q4_Quantity__c}" onchange="CalculateTotalYear1('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY1New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY1New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY1NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtTotalQtyY1New" value="{!objBudgetLineNew.TotalQuantityYear1}"/>
                                </td>
                                
                                <td id="Year2td" rowspan="2" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtY2AmountNew" value="{!objBudgetLineNewRow.Unit_Cost_Y2__c}" onchange="CalculateTotalYear2('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY2New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY2New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY2NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                    
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Qty"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle"> 
                                    <apex:inputField id="txtQ5QuantityNew" value="{!objBudgetLineNewRow.Q5_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY2New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY2New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY2NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ6QuantityNew" value="{!objBudgetLineNewRow.Q6_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY2New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY2New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY2NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle"> 
                                    <apex:inputField id="txtQ7QuantityNew" value="{!objBudgetLineNewRow.Q7_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY2New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY2New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY2NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ8QuantityNew" value="{!objBudgetLineNewRow.Q8_Quantity__c}" onchange="CalculateTotalYear2('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY2New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY2New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY2NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalQtyY2New" value="{!objBudgetLineNew.TotalQuantityYear2}"/>
                                </td>
                                
                                <td id="Year3td" rowspan="2" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtY3AmountNew" value="{!objBudgetLineNewRow.Unit_Cost_Y3__c}" onchange="CalculateTotalYear3('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY3New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY3New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY3NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                    
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Qty"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ9QuantityNew" value="{!objBudgetLineNewRow.Q9_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY3New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY3New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY3NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ10QuantityNew" value="{!objBudgetLineNewRow.Q10_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY3New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY3New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY3NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ11QuantityNew" value="{!objBudgetLineNewRow.Q11_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY3New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY3New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY3NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ12QuantityNew" value="{!objBudgetLineNewRow.Q12_Quantity__c}" onchange="CalculateTotalYear3('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY3New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY3New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY3NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalQtyY3New" value="{!objBudgetLineNew.TotalQuantityYear3}"/>
                                </td>
                                
                                <td id="Year4td" rowspan="2" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtY4AmountNew" value="{!objBudgetLineNewRow.Unit_Cost_Y4__c}" onchange="CalculateTotalYear4('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY4New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY4New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY4NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                    
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Qty"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ13QuantityNew" value="{!objBudgetLineNewRow.Q13_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY4New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY4New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY4NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ14QuantityNew" value="{!objBudgetLineNewRow.Q14_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY4New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY4New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY4NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ15QuantityNew" value="{!objBudgetLineNewRow.Q15_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY4New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY4New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY4NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:inputField id="txtQ16QuantityNew" value="{!objBudgetLineNewRow.Q16_Quantity__c}" onchange="CalculateTotalYear4('{!$Component.txtY1AmountNew}','{!$Component.txtY2AmountNew}','{!$Component.txtY3AmountNew}','{!$Component.txtY4AmountNew}','{!$Component.txtNewCurrency}','{!$Component.txtQ1QuantityNew}','{!$Component.txtQ2QuantityNew}','{!$Component.txtQ3QuantityNew}','{!$Component.txtQ4QuantityNew}','{!$Component.txtQ5QuantityNew}','{!$Component.txtQ6QuantityNew}','{!$Component.txtQ7QuantityNew}','{!$Component.txtQ8QuantityNew}','{!$Component.txtQ9QuantityNew}','{!$Component.txtQ10QuantityNew}','{!$Component.txtQ11QuantityNew}','{!$Component.txtQ12QuantityNew}','{!$Component.txtQ13QuantityNew}','{!$Component.txtQ14QuantityNew}','{!$Component.txtQ15QuantityNew}','{!$Component.txtQ16QuantityNew}','{!$Component.txtTotalQtyY4New}','{!$Component.txtQ1CaseNew}','{!$Component.txtQ2CaseNew}','{!$Component.txtQ3CaseNew}','{!$Component.txtQ4CaseNew}','{!$Component.txtQ5CaseNew}','{!$Component.txtQ6CaseNew}','{!$Component.txtQ7CaseNew}','{!$Component.txtQ8CaseNew}','{!$Component.txtQ9CaseNew}','{!$Component.txtQ10CaseNew}','{!$Component.txtQ11CaseNew}','{!$Component.txtQ12CaseNew}','{!$Component.txtQ13CaseNew}','{!$Component.txtQ14CaseNew}','{!$Component.txtQ15CaseNew}','{!$Component.txtQ16CaseNew}','{!$Component.txtTotalCaseY4New}','{!$Component.txtGrantTotalCaseNew}','{!$Component.txtGrantTotalQtyNew}','{!$Component.txtQ1CaseNewGrntCurrency}','{!$Component.txtQ2CaseNewGrntCurrency}','{!$Component.txtQ3CaseNewGrntCurrency}','{!$Component.txtQ4CaseNewGrntCurrency}','{!$Component.txtQ5CaseNewGrntCurrency}','{!$Component.txtQ6CaseNewGrntCurrency}','{!$Component.txtQ7CaseNewGrntCurrency}','{!$Component.txtQ8CaseNewGrntCurrency}','{!$Component.txtQ9CaseNewGrntCurrency}','{!$Component.txtQ10CaseNewGrntCurrency}','{!$Component.txtQ11CaseNewGrntCurrency}','{!$Component.txtQ12CaseNewGrntCurrency}','{!$Component.txtQ13CaseNewGrntCurrency}','{!$Component.txtQ14CaseNewGrntCurrency}','{!$Component.txtQ15CaseNewGrntCurrency}','{!$Component.txtQ16CaseNewGrntCurrency}','{!$Component.txtTotalCaseY4NewGrntCurrency}','{!$Component.txtGrantTotalCaseNewGrntCurrency}')"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalQtyY4New" value="{!objBudgetLineNew.TotalQuantityYear4}"/>
                                </td>
                                <td id="GrantTotalQtyNewTd" class="dataCell TDstyle">
                                    <apex:outputText id="txtGrantTotalQtyNew" value="{!objBudgetLineNew.GrantTotalQuantity}"/>
                                </td>
                                <td class="dataCell TDstyle" style="padding-right: 5px;border-right:1px solid #E0E3E5 !important;" rowspan="2">
                                    <apex:actionFunction name="actSaveBudgetLines1" action="{!SaveBudgetLines}" reRender="frm" status="Processing" oncomplete="CancelNewBudgetlineRow();">
                                        <apex:param value="{!if(lstBudgetLines.size > 0,lstBudgetLines.size+1,1)}" name="SaveIndex" id="SaveIndex1"/>
                                    </apex:actionFunction>
                                    <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-success" style="width:37px;border-right:1px solid #E0E3E5 !important;" onclick="return validateSaveNew('{!$Component.lstNewGI}','{!$Component.lstNewPayee}','{!lstModuleTemp[0].Implementation_Period__r.Budgeting_Level__c}','{!$Component.lstNewCostInput}','{!$Component.NewrefNum}');">
                                        <strong>Save</strong>
                                    </apex:commandLink>

                                    <apex:commandLink styleClass="TGFbtn TGFbtn-mini TGFbtn-danger" onclick="return CancelNewBudgetlineRow();"> <!-- action="{!CancelGoal}" reRender="frm" status="Processing">-->
                                        <strong>Cancel</strong>
                                    </apex:commandLink>
                                </td>
                            </tr>
                            <tr id="newBudgetLine2" style="display:none;">
                                <td id="Year1td" class="dataCell TDstyle" style="font-weight:bold;display:{!if(strSelectedYear == 'Year1','','none')};" >
                                    <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtQ1CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q1Case}"/>
                                    </apex:outputText>
                                 </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};"> 
                                    <apex:outputText id="txtQ2CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q2Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtQ3CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q3Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtQ4CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q4Case}"/>
                                    </apex:outputText>
                                 </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtTotalCaseY1New" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear1}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ5CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q5Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ6CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q6Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ7CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q7Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ8CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q8Case}"/>
                                    </apex:outputText>
                                 </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalCaseY2New" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear2}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ9CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q9Case}"/>
                                    </apex:outputText>
                                 </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ10CaseNew" value="{0,number,###,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q10Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ11CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q11Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ12CaseNew" value="{0,number,##,###,###.00}">
                                        <apex:param value="{!objBudgetLineNew.Q12Case}"/>
                                    </apex:outputText>
                                 </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalCaseY3New" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear3}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Outflow ({!strGrantCurrency})"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ13CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q13Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ14CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q14Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ15CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q15Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ16CaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.Q16Case}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalCaseY4New" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear4}"/>
                                    </apex:outputText>
                                </td>
                                <td id="GrantTotalCase" class="dataCell TDstyle">
                                    <apex:outputText id="txtGrantTotalCaseNew" value="{0,number,##,###,##0.00}">
                                        <apex:param value="{!objBudgetLineNew.GrantTotalAmount}"/>
                                    </apex:outputText>
                                </td>
                              <!--   <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtQ1CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q1Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ1CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q1CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};"> 
                                    <apex:outputText id="txtQ2CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q2Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ2CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q2CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtQ3CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q3Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ3CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q3CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtQ4CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q4Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ4CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q4CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year1td" class="dataCell TDstyle" style="display:{!if(strSelectedYear == 'Year1','','none')};">
                                    <apex:outputText id="txtTotalCaseY1New" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear1}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtTotalCaseY1NewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear1GrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Outflow"/>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ5CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q5Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ5CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q5CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ6CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q6Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ6CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q6CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ7CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q7Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ7CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q7CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ8CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q8Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ8CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q8CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year2td" style="display:{!if(strSelectedYear == 'Year2','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalCaseY2New" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear2}"/>
                                    </apex:outputText>
                                     <br/>
                                    <apex:outputText id="txtTotalCaseY2NewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear2GrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Outflow"/>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ9CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q9Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ9CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q9CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ10CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q10Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ10CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q10CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ11CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q11Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ11CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q11CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ12CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q12Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ12CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q12CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year3td" style="display:{!if(strSelectedYear == 'Year3','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalCaseY3New" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear3}"/>
                                    </apex:outputText>
                                     <br/>
                                    <apex:outputText id="txtTotalCaseY3NewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear3GrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};font-weight:bold;" class="dataCell TDstyle">
                                    <apex:outputText value="Outflow"/>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ13CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q13Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ13CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q13CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ14CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q14Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ14CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q14CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ15CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q15Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ15CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q15CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtQ16CaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.Q16Case}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtQ16CaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.Q16CaseInGrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="Year4td" style="display:{!if(strSelectedYear == 'Year4','','none')};" class="dataCell TDstyle">
                                    <apex:outputText id="txtTotalCaseY4New" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear4}"/>
                                    </apex:outputText>
                                     <br/>
                                    <apex:outputText id="txtTotalCaseY4NewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.TotalCaseYear4GrntCurrency}"/>
                                    </apex:outputText>
                                </td>
                                <td id="GrantTotalCase" class="dataCell TDstyle">
                                    <apex:outputText id="txtGrantTotalCaseNew" value="{0,number,##,###,##0.00({!objBudgetLineNew.strCurrencyUsed})}">
                                        <apex:param value="{!objBudgetLineNew.GrantTotalAmount}"/>
                                    </apex:outputText>
                                    <br/>
                                    <apex:outputText id="txtGrantTotalCaseNewGrntCurrency" value="{0,number,##,###,##0.00({!grantCurrency})}" style="display:{!if(objBudgetLineNew.strCurrencyUsed == grantCurrency,'none','')};">
                                        <apex:param value="{!objBudgetLineNew.GrantTotalAmountGrntCurrency}"/>
                                    </apex:outputText>
                                </td> -->
                            </tr>
                            <tr>
                              <td colspan="9" style="background-color:white !important;border-top:none !important">
                                  <!--Pagination-->
                                  <br/>
                                    <apex:outputPanel style="float:left;font-size: medium;" >
                                       
                                         <apex:outputText >
                                             <apex:commandLink action="{!previousPage}" value="Previous Page " styleClass="btn" style="color:#0088cc !important;" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rerender="frm" rendered="{!if(offset>0 && TotalCountofRecords>10,true,false)}"/>
                                         </apex:outputText>
                                         <apex:outputText value="|" style="color:#0088cc !important;" rendered="{!if(offset>0 && TotalCountofRecords>10 && offset+10<TotalCountofRecords,true,false)}"/>
                                         <apex:outputText ><!-- rendered="{!paginater.showNext}"> -->
                                             <apex:commandLink action="{!nextPage}" value=" Next Page" styleClass="btn"  style="color:#0088cc !important;" rerender="frm" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rendered="{!if(offset+10<TotalCountofRecords,true,false)}"/>
                                         </apex:outputText>  
                                        <br/><br/>
                    
                                        <apex:outputText rendered="{!if(TotalCountofRecords>0,true,false)}">Page {!FLOOR(offset/10)+1} of {!FLOOR(TotalCountofRecords/10)+IF(((TotalCountofRecords/10)-FLOOR(TotalCountofRecords/10))>0,1,0)}</apex:outputText><br/>     
                                     </apex:outputPanel>
                                     </td>
                                     <td  colspan="10" style="background-color:white !important;border-top:none !important">
                                     <apex:outputPanel style="float:right;font-size: medium;" >
                                       
                                         <apex:outputText >
                                             <apex:commandLink styleClass="btn" action="{!previousPage}" value="Previous Page " style="color:#0088cc !important;" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rerender="frm" rendered="{!if(offset>0 && TotalCountofRecords>10,true,false)}"/>
                                         </apex:outputText>
                                         <apex:outputText value="|" style="color:#0088cc !important;" rendered="{!if(offset>0 && TotalCountofRecords>10 && offset+10<TotalCountofRecords,true,false)}"/>
                                         <apex:outputText ><!-- rendered="{!paginater.showNext}"> -->
                                             <apex:commandLink styleClass="btn" action="{!nextPage}" value=" Next Page" style="color:#0088cc !important;" rerender="frm" onclick="openProcessingWindow();" oncomplete="closeProcessingWindow();" rendered="{!if(offset+10 < TotalCountofRecords,true,false)}"/>
                                         </apex:outputText> <br/><br/>
                    
                                        <apex:outputText rendered="{!if(TotalCountofRecords>0,true,false)}">Page {!FLOOR(offset/10)+1} of {!FLOOR(TotalCountofRecords/10)+IF(((TotalCountofRecords/10)-FLOOR(TotalCountofRecords/10))>0,1,0)}</apex:outputText><br/>     
                                        
                                     </apex:outputPanel>
                                    <!--Pagination-->
                                    </td>
                            </tr>
                            <tr id="btnAddBudgetLine">
                                 <td colspan="2" style="border-bottom:0px !important;background-color: white;border-top: 0px !important; ">
                                     <apex:commandLink styleClass="TGFbtn TGFbtn-success pull-right" onclick="return DisplayNewBudgetlineRow();" rerender="newBudgetLine1" style="width:140px;" rendered="{!blnAddBL}">
                                        <i class="icon-plus icon-white"></i> 
                                        <strong><apex:outputlabel value="{!$Label.Add_Budget_Line}"/></strong>
                                     </apex:commandLink>
                                 </td>
                             </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
        <style>
        .ProcessingBackground
        {
            background-color: black;
            opacity: 0.50;
            filter: alpha(opacity = 50);
            width: 100%;
            height: 100%;
            position: fixed;
            z-index: 9999;
            top:0;
            left:0;
        }
        .Processing
        {
            z-index: 9999;
            left: 50%;
            top: 50%;
            text-align: center;
            position: fixed;
        }        
        </style>
        <div id="divProcessing" style="display:none;">
            <div class="ProcessingBackground"></div>
            <div class="Processing">
                <apex:image alt="Processing" url="{!$Resource.LoadingCircle}" />
            </div>
        </div>  
        <apex:actionStatus id="Processing" onstart="document.getElementById('divProcessing').style.display = '';" onstop="document.getElementById('divProcessing').style.display = 'none';">                            
        </apex:actionStatus> 
        <script type="text/javascript">
            function displayYearToggle(thisTH,SelectedYear,NewYear,NewYearth,NewYeartd){
                var AllTD = document.getElementsByTagName("td");
                var AllTH = document.getElementsByTagName("th");
                var hdnYear = document.getElementById(SelectedYear);
                var thId;
                var tdId;
                if(hdnYear.value == 'Year1'){
                    thId = 'Year1th';
                    tdId = 'Year1td';
                }else if(hdnYear.value == 'Year2'){
                    thId = 'Year2th';
                    tdId = 'Year2td';
                }else if(hdnYear.value == 'Year3'){
                    thId = 'Year3th';
                    tdId = 'Year3td';
                }else if(hdnYear.value == 'Year4'){
                    thId = 'Year4th';
                    tdId = 'Year4td';
                }
                if(hdnYear.value != NewYear){
                    for(var i=0;i<AllTD.length;i++){
                        if(AllTD[i].id == tdId){
                            AllTD[i].style.display = 'none';
                        }else if(AllTD[i].id == NewYeartd){
                            AllTD[i].style.display = '';
                        }
                    }
                    for(var i=0;i<AllTH.length;i++){
                        if(AllTH[i].id == thId){
                            AllTH[i].style.display = 'none';
                        }else if(AllTH[i].id == NewYearth){
                            AllTH[i].style.display = '';
                        }
                    }
                    
                    document.getElementById(thisTH).style.background = '#434445';
                    document.getElementById(thisTH).style.color = '#FFFFFF';
                    if(hdnYear.value == 'Year1'){
                        document.getElementById('MainThYear1').style.background = '#DFEFF0';
                        document.getElementById('MainThYear1').style.color = '#00688B';
                    }else if(hdnYear.value == 'Year2'){
                        document.getElementById('MainThYear2').style.background = '#E7F2D5';
                        document.getElementById('MainThYear2').style.color = '#00688B';
                    }else if(hdnYear.value == 'Year3'){
                        document.getElementById('MainThYear3').style.background = '#FAF3CA';
                        document.getElementById('MainThYear3').style.color = '#00688B';
                    }else if(hdnYear.value == 'Year4'){
                        document.getElementById('MainThYear4').style.background = '#F0E1E2';
                        document.getElementById('MainThYear4').style.color = '#00688B';
                    }
                    document.getElementById(SelectedYear).value = NewYear;
                }
            }
            
            function displayYearToggleAssumption(thisTH,SelectedYear,NewYear,NewYearth,NewYeartd,isHR,isTRC){
                var AllTD = document.getElementsByTagName("td");
                var AllTH = document.getElementsByTagName("th");
                
                var hdnYear = document.getElementById(SelectedYear);
                var thId;
                var tdId;
                var DthId;
                var DtdId;
                var NewYearthD;
                var NewYeartdD;
                if(hdnYear.value == 'Year1'){
                    thId = 'Year1thA';
                    tdId = 'Year1tdA';
                    DthId = 'DurationTh1';
                    DtdId = 'DurationTd1';
                    
                }else if(hdnYear.value == 'Year2'){
                    thId = 'Year2thA';
                    tdId = 'Year2tdA';
                    DthId = 'DurationTh2';
                    DtdId = 'DurationTd2';
                }else if(hdnYear.value == 'Year3'){
                    thId = 'Year3thA';
                    tdId = 'Year3tdA';
                    DthId = 'DurationTh3';
                    DtdId = 'DurationTd3';
                }else if(hdnYear.value == 'Year4'){
                    thId = 'Year4thA';
                    tdId = 'Year4tdA';
                    DthId = 'DurationTh4';
                    DtdId = 'DurationTd4';
                }
                if(NewYear == 'Year1'){
                    NewYearthD = 'DurationTh1';
                    NewYeartdD = 'DurationTd1';
                }else if(NewYear == 'Year2'){
                    NewYearthD = 'DurationTh2';
                    NewYeartdD = 'DurationTd2';
                }else if(NewYear == 'Year3'){
                    NewYearthD = 'DurationTh3';
                    NewYeartdD = 'DurationTd3';
                }else if(NewYear == 'Year4'){
                    NewYearthD = 'DurationTh4';
                    NewYeartdD = 'DurationTd4';
                }
                if(hdnYear.value != NewYear){
                    for(var i=0;i<AllTD.length;i++){
                        if(AllTD[i].id == tdId){
                            AllTD[i].style.display = 'none';
                        }else if(AllTD[i].id == NewYeartd){
                            AllTD[i].style.display = '';
                        }
                        if(isTRC == true){
                            if(AllTD[i].id == DtdId){
                                AllTD[i].style.display = 'none';
                            }else if(AllTD[i].id == NewYeartdD){
                                AllTD[i].style.display = '';
                            }
                        }
                    } 
                    for(var i=0;i<AllTH.length;i++){
                        if(AllTH[i].id == thId){
                            AllTH[i].style.display = 'none';
                        }else if(AllTH[i].id == NewYearth){
                            AllTH[i].style.display = '';
                        }
                        if(isTRC == true){
                            if(AllTH[i].id == DthId){
                                AllTH[i].style.display = 'none';
                            }else if(AllTH[i].id == NewYearthD){
                                AllTH[i].style.display = '';
                            }
                        }
                    }
                    
                    var TYCY1;
                    var TYCY2;
                    var TYCY3;
                    var TYCY4;
                    if(isHR == true){
                        TYCY1 = 'txtTotalUnitCostY1First';
                        TYCY2 = 'txtTotalUnitCostY2First';
                        TYCY3 = 'txtTotalUnitCostY3First';
                        TYCY4 = 'txtTotalUnitCostY4First';
                        
                        UCY1 = 'txtUnitCostY1First';
                        UCY2 = 'txtUnitCostY2First';
                        UCY3 = 'txtUnitCostY3First';
                        UCY4 = 'txtUnitCostY4First';
                    }else{
                        TYCY1 = 'txtTotalUnitCostY1';
                        TYCY2 = 'txtTotalUnitCostY2';
                        TYCY3 = 'txtTotalUnitCostY3';
                        TYCY4 = 'txtTotalUnitCostY4';
                        
                        UCY1 = 'txtUnitCostY1';
                        UCY2 = 'txtUnitCostY2';
                        UCY3 = 'txtUnitCostY3';
                        UCY4 = 'txtUnitCostY4';
                    }
                    
                    document.getElementById(thisTH).style.background = '#434445';
                    document.getElementById(thisTH).style.color = '#FFFFFF';
                    if(NewYear=='Year1'){
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY1));
                        TotalObj.style.display = '';                        
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY1));
                        Obj.style.display = '';
                        
                    }else if(NewYear=='Year2'){
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY2));
                        TotalObj.style.display = '';                        
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY2));
                         
                        Obj.style.display = '';
                    }else if(NewYear=='Year3'){
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY3));
                        TotalObj.style.display = '';                        
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY3));
                        Obj.style.display = '';
                        
                    }else if(NewYear=='Year4'){
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY4));
                        TotalObj.style.display = '';
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY4));
                        Obj.style.display = '';
                        
                    }
                    if(hdnYear.value == 'Year1'){
                        document.getElementById('MainThYear1A').style.background = '#DFEFF0';
                        document.getElementById('MainThYear1A').style.color = '#00688B';
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY1));
                        TotalObj.style.display = 'none';
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY1));
                        Obj.style.display = 'none';
                    }else if(hdnYear.value == 'Year2'){
                        document.getElementById('MainThYear2A').style.background = '#E7F2D5';
                        document.getElementById('MainThYear2A').style.color = '#00688B';                        
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY2));
                        TotalObj.style.display = 'none';
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY2));
                        Obj.style.display = 'none';
                    }else if(hdnYear.value == 'Year3'){
                        document.getElementById('MainThYear3A').style.background = '#FAF3CA';
                        document.getElementById('MainThYear3A').style.color = '#00688B';
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY3));
                        TotalObj.style.display = 'none';
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY3));
                        Obj.style.display = 'none';
                    }else if(hdnYear.value == 'Year4'){
                        document.getElementById('MainThYear4A').style.background = '#F0E1E2';
                        document.getElementById('MainThYear4A').style.color = '#00688B';
                        var TotalObj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",TYCY4));
                        TotalObj.style.display = 'none';
                        var Obj = document.getElementById(SelectedYear.replace("hdnSelectedYearA",UCY4));
                        Obj.style.display = 'none';
                    }
                    document.getElementById(SelectedYear).value = NewYear;
                }
            }
            
            function CalculateAmountRate(YearAmount,Quantity,Rate){
                var QuantityValue = document.getElementById(Quantity).value;
                if(QuantityValue == '' || QuantityValue == null) QuantityValue = 0;   
                QuantityValue = RemoveComma(QuantityValue);  
                QuantityValue = parseFloat(QuantityValue);
                console.log('YearAmount '+YearAmount+'    Quantity '+QuantityValue+'  Rate '+Rate);   
                var Amount = parseFloat((YearAmount * QuantityValue * Rate));
                console.log('Amount '+Amount);
                return Amount;
            }
            function CalculateAmount(YearAmount,Quantity){
                var QuantityValue = document.getElementById(Quantity).value;
                if(QuantityValue == '' || QuantityValue == null) QuantityValue = 0;  
                QuantityValue = RemoveComma(QuantityValue);         
                var Amount = parseFloat((YearAmount * QuantityValue));
                return Amount;
            }
            function CalculateQuantity(Quantity){
                var QuantityValue = document.getElementById(Quantity).value;
                if(QuantityValue == '' || QuantityValue == null) QuantityValue = 0;  
                QuantityValue = RemoveComma(QuantityValue); 
                //QuantityValue = parseFloat(QuantityValue).toFixed(2);        
                return QuantityValue;
            }
            function CalculateTotalYear1(Y1,Y2,Y3,Y4,Currency,Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q8,Q9,Q10,Q11,Q12,Q13,Q14,Q15,Q16,TotalQty,C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,TotalCase,GrantAmt,GrantQty,C1GC,C2GC,C3GC,C4GC,C5GC,C6GC,C7GC,C8GC,C9GC,C10GC,C11GC,C12GC,C13GC,C14GC,C15GC,C16GC,TotalCaseGC,GrantAmtGC){
                var Year1Amt = document.getElementById(Y1).value;   
                var Year2Amt = document.getElementById(Y2).value;
                var Year3Amt = document.getElementById(Y3).value;
                var Year4Amt = document.getElementById(Y4).value;  
                 
                Year1Amt = RemoveComma(Year1Amt);
                Year2Amt = RemoveComma(Year2Amt);
                Year3Amt = RemoveComma(Year3Amt);
                Year4Amt = RemoveComma(Year4Amt);
                
                if(Year1Amt == '' || Year1Amt == null) Year1Amt = 0;
                if(Year2Amt == '' || Year2Amt == null) Year2Amt = 0;
                if(Year3Amt == '' || Year3Amt == null) Year3Amt = 0;
                if(Year4Amt == '' || Year4Amt == null) Year4Amt = 0;
                var FinalRate = 1;
                if({!blnEditCurrency} == true){
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value);
                }
                
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value);
                } 
                } 
                console.log('FinalRate '+FinalRate );
                document.getElementById(C1).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year1Amt,Q1,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C1).innerHTML == 0) document.getElementById(C1).innerHTML = '';
                document.getElementById(C2).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year1Amt,Q2,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C2).innerHTML == 0) document.getElementById(C2).innerHTML = '';
                document.getElementById(C3).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year1Amt,Q3,FinalRate)).toFixed(2)).toString());
                console.log('document.getElementById(C1).innerHTML ' +document.getElementById(C3).innerHTML);
                if(document.getElementById(C3).innerHTML == 0) document.getElementById(C3).innerHTML = '';
                document.getElementById(C4).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year1Amt,Q4,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C4).innerHTML == 0) document.getElementById(C4).innerHTML = '';
                console.log('document.getElementById(C15).innerHTML ' +document.getElementById(C15).innerHTML);
                /* For OutFlow Values in Both Currencies 
                var selectedCurrency = '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                document.getElementById(C1).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q1,1).toString())+selectedCurrency;
                if(document.getElementById(C1).innerHTML == 0) document.getElementById(C1).innerHTML = '';
                document.getElementById(C2).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q2,1).toString())+selectedCurrency;
                if(document.getElementById(C2).innerHTML == 0) document.getElementById(C2).innerHTML = '';
                document.getElementById(C3).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q3,1).toString())+selectedCurrency;
                if(document.getElementById(C3).innerHTML == 0) document.getElementById(C3).innerHTML = '';
                document.getElementById(C4).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q4,1).toString())+selectedCurrency;
                if(document.getElementById(C4).innerHTML == 0) document.getElementById(C4).innerHTML = '';
                //Calculation of Outflow in Grant Currency
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text != '{!strGrantCurrency}'){
                    document.getElementById(C1GC).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q1,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C1GC).innerHTML == 0) document.getElementById(C1GC).innerHTML = '';
                    document.getElementById(C2GC).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q2,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C2GC).innerHTML == 0) document.getElementById(C2GC).innerHTML = '';
                    document.getElementById(C3GC).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q3,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C3GC).innerHTML == 0) document.getElementById(C3GC).innerHTML = '';
                    document.getElementById(C4GC).innerHTML = addCommas(CalculateAmountRate(Year1Amt,Q4,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C4GC).innerHTML == 0) document.getElementById(C4GC).innerHTML = '';
                    document.getElementById(TotalCaseGC).innerHTML = addCommas((parseInt(CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate))).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(TotalCaseGC).innerHTML == 0) document.getElementById(TotalCaseGC).innerHTML = '';
                    document.getElementById(GrantAmtGC).innerHTML = addCommas((CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate) + CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate) + CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmount(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate) + CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate)).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(GrantAmtGC).innerHTML == 0) document.getElementById(GrantAmtGC).innerHTML = '';
                } */
                document.getElementById(TotalQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                /*document.getElementById(TotalCase).innerHTML = addCommas((parseInt(CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4))).toString())+selectedCurrency;
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';*/
                document.getElementById(TotalCase).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate)).toFixed(2)).toString());
                console.log('document.getElementById(TotalCase).innerHTML '+document.getElementById(TotalCase).innerHTML);
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
               /* document.getElementById(GrantAmt).innerHTML = addCommas((CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16)).toString())+ selectedCurrency;
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';
                */
                document.getElementById(GrantAmt).innerHTML = addCommas((parseFloat(parseFloat(CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16)).toFixed(2))).toString());
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = ''; 
            }  
            function CalculateTotalYear2(Y1,Y2,Y3,Y4,Currency,Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q8,Q9,Q10,Q11,Q12,Q13,Q14,Q15,Q16,TotalQty,C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,TotalCase,GrantAmt,GrantQty,C1GC,C2GC,C3GC,C4GC,C5GC,C6GC,C7GC,C8GC,C9GC,C10GC,C11GC,C12GC,C13GC,C14GC,C15GC,C16GC,TotalCaseGC,GrantAmtGC){
                var Year1Amt = document.getElementById(Y1).value;   
                var Year2Amt = document.getElementById(Y2).value;
                var Year3Amt = document.getElementById(Y3).value;
                var Year4Amt = document.getElementById(Y4).value;  
                if(Year1Amt == '' || Year1Amt == null) Year1Amt = 0;
                if(Year2Amt == '' || Year2Amt == null) Year2Amt = 0;
                if(Year3Amt == '' || Year3Amt == null) Year3Amt = 0;
                if(Year4Amt == '' || Year4Amt == null) Year4Amt = 0;   
                Year1Amt = RemoveComma(Year1Amt);
                Year2Amt = RemoveComma(Year2Amt);
                Year3Amt = RemoveComma(Year3Amt);
                Year4Amt = RemoveComma(Year4Amt);
                var FinalRate = 1;
                if({!blnEditCurrency} == true){
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value);
                }
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value);
                }
                }
                document.getElementById(C5).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year2Amt,Q5,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C5).innerHTML == 0) document.getElementById(C5).innerHTML = '';
                document.getElementById(C6).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year2Amt,Q6,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C6).innerHTML == 0) document.getElementById(C6).innerHTML = '';
                document.getElementById(C7).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year2Amt,Q7,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C7).innerHTML == 0) document.getElementById(C7).innerHTML = '';
                document.getElementById(C8).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year2Amt,Q8,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C8).innerHTML == 0) document.getElementById(C8).innerHTML = '';
                /*
                 var selectedCurrency = '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                document.getElementById(C5).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q5,1).toString())+selectedCurrency;
                if(document.getElementById(C5).innerHTML == 0) document.getElementById(C5).innerHTML = '';
                document.getElementById(C6).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q6,1).toString())+selectedCurrency;
                if(document.getElementById(C6).innerHTML == 0) document.getElementById(C6).innerHTML = '';
                document.getElementById(C7).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q7,1).toString())+selectedCurrency;
                if(document.getElementById(C7).innerHTML == 0) document.getElementById(C7).innerHTML = '';
                document.getElementById(C8).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q8,1).toString())+selectedCurrency;
                if(document.getElementById(C8).innerHTML == 0) document.getElementById(C8).innerHTML = '';
                
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text != '{!strGrantCurrency}'){
                    document.getElementById(C5GC).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q5,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C5GC).innerHTML == 0) document.getElementById(C5GC).innerHTML = '';
                    document.getElementById(C6GC).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q6,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C6GC).innerHTML == 0) document.getElementById(C6GC).innerHTML = '';
                    document.getElementById(C7GC).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q7,FinalRate).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(C7GC).innerHTML == 0) document.getElementById(C7GC).innerHTML = '';
                    document.getElementById(C8GC).innerHTML = addCommas(CalculateAmountRate(Year2Amt,Q8,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C8GC).innerHTML == 0) document.getElementById(C8GC).innerHTML = '';
                    //Calculation Of Outflow in Grant Currency
                    document.getElementById(TotalCaseGC).innerHTML = addCommas((parseInt(CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate))).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(TotalCaseGC).innerHTML == 0) document.getElementById(TotalCaseGC).innerHTML = '';
                    document.getElementById(GrantAmtGC).innerHTML = addCommas((CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate) + CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate) + CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmount(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate) + CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate)).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(GrantAmtGC).innerHTML == 0) document.getElementById(GrantAmtGC).innerHTML = '';
                }
                document.getElementById(TotalQty).innerHTML = addCommas(((parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                document.getElementById(TotalCase).innerHTML = addCommas((parseInt(CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8))).toString())+selectedCurrency;
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas(((parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
                document.getElementById(GrantAmt).innerHTML = addCommas((CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16)).toString())+ selectedCurrency;
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';*/
                document.getElementById(TotalQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                document.getElementById(TotalCase).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
                document.getElementById(GrantAmt).innerHTML = addCommas((parseFloat(CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16)).toFixed(2)).toString());
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';
                
            }
            
            function CalculateTotalYear3(Y1,Y2,Y3,Y4,Currency,Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q8,Q9,Q10,Q11,Q12,Q13,Q14,Q15,Q16,TotalQty,C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,TotalCase,GrantAmt,GrantQty,C1GC,C2GC,C3GC,C4GC,C5GC,C6GC,C7GC,C8GC,C9GC,C10GC,C11GC,C12GC,C13GC,C14GC,C15GC,C16GC,TotalCaseGC,GrantAmtGC){
                var Year1Amt = document.getElementById(Y1).value;   
                var Year2Amt = document.getElementById(Y2).value;
                var Year3Amt = document.getElementById(Y3).value;
                var Year4Amt = document.getElementById(Y4).value;      
                if(Year1Amt == '' || Year1Amt == null) Year1Amt = 0;
                if(Year2Amt == '' || Year2Amt == null) Year2Amt = 0;
                if(Year3Amt == '' || Year3Amt == null) Year3Amt = 0;
                if(Year4Amt == '' || Year4Amt == null) Year4Amt = 0; 
                Year1Amt = RemoveComma(Year1Amt);
                Year2Amt = RemoveComma(Year2Amt);
                Year3Amt = RemoveComma(Year3Amt);
                Year4Amt = RemoveComma(Year4Amt);
                var FinalRate = 1;
                if({!blnEditCurrency} == true){
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value);
                }
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value);
                }
                } 
                document.getElementById(C9).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year3Amt,Q9,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C9).innerHTML == 0) document.getElementById(C9).innerHTML = '';
                document.getElementById(C10).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year3Amt,Q10,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C10).innerHTML == 0) document.getElementById(C10).innerHTML = '';
                document.getElementById(C11).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year3Amt,Q11,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C11).innerHTML == 0) document.getElementById(C11).innerHTML = '';
                document.getElementById(C12).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year3Amt,Q12,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C12).innerHTML == 0) document.getElementById(C12).innerHTML = '';
                 /*
                var selectedCurrency = '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                document.getElementById(C9).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q9,1).toString())+ selectedCurrency;
                if(document.getElementById(C9).innerHTML == 0) document.getElementById(C9).innerHTML = '';
                document.getElementById(C10).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q10,1).toString())+ selectedCurrency;
                if(document.getElementById(C10).innerHTML == 0) document.getElementById(C10).innerHTML = '';
                document.getElementById(C11).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q11,1).toString())+ selectedCurrency;
                if(document.getElementById(C11).innerHTML == 0) document.getElementById(C11).innerHTML = '';
                document.getElementById(C12).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q12,1).toString())+ selectedCurrency;
                if(document.getElementById(C12).innerHTML == 0) document.getElementById(C12).innerHTML = '';
                //Calculation Of Outflow in Grant Currency
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text != '{!strGrantCurrency}'){
                    document.getElementById(C9GC).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q9,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C9GC).innerHTML == 0) document.getElementById(C9GC).innerHTML = '';
                    document.getElementById(C10GC).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q10,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C10GC).innerHTML == 0) document.getElementById(C10GC).innerHTML = '';
                    document.getElementById(C11GC).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q11,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C11GC).innerHTML == 0) document.getElementById(C11GC).innerHTML = '';
                    document.getElementById(C12GC).innerHTML = addCommas(CalculateAmountRate(Year3Amt,Q12,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C12GC).innerHTML == 0) document.getElementById(C12GC).innerHTML = '';
                    //Calculation Of Outflow in Grant Currency
                    document.getElementById(TotalCaseGC).innerHTML = addCommas((parseInt(CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmountRate(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate))).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(TotalCaseGC).innerHTML == 0) document.getElementById(TotalCaseGC).innerHTML = '';
                    document.getElementById(GrantAmtGC).innerHTML = addCommas((CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate) + CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate) + CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmount(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate) + CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate)).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(GrantAmtGC).innerHTML == 0) document.getElementById(GrantAmtGC).innerHTML = '';
                }
                document.getElementById(TotalQty).innerHTML = addCommas(((parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                document.getElementById(TotalCase).innerHTML = addCommas((parseInt(CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12))).toString())+ selectedCurrency;
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas(((parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString())+ selectedCurrency;
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
                document.getElementById(GrantAmt).innerHTML = addCommas((CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16)).toString())+ selectedCurrency;
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';*/
                document.getElementById(TotalQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                document.getElementById(TotalCase).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmountRate(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
                document.getElementById(GrantAmt).innerHTML = addCommas((parseFloat(parseFloat(CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmountRate(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';
                
            } 
            
            function CalculateTotalYear4(Y1,Y2,Y3,Y4,Currency,Q1,Q2,Q3,Q4,Q5,Q6,Q7,Q8,Q9,Q10,Q11,Q12,Q13,Q14,Q15,Q16,TotalQty,C1,C2,C3,C4,C5,C6,C7,C8,C9,C10,C11,C12,C13,C14,C15,C16,TotalCase,GrantAmt,GrantQty,C1GC,C2GC,C3GC,C4GC,C5GC,C6GC,C7GC,C8GC,C9GC,C10GC,C11GC,C12GC,C13GC,C14GC,C15GC,C16GC,TotalCaseGC,GrantAmtGC){
                var Year1Amt = document.getElementById(Y1).value;   
                var Year2Amt = document.getElementById(Y2).value;
                var Year3Amt = document.getElementById(Y3).value;
                var Year4Amt = document.getElementById(Y4).value;  
                if(Year1Amt == '' || Year1Amt == null) Year1Amt = 0;
                if(Year2Amt == '' || Year2Amt == null) Year2Amt = 0;
                if(Year3Amt == '' || Year3Amt == null) Year3Amt = 0;
                if(Year4Amt == '' || Year4Amt == null) Year4Amt = 0;    
                Year1Amt = RemoveComma(Year1Amt);
                Year2Amt = RemoveComma(Year2Amt);
                Year3Amt = RemoveComma(Year3Amt);
                Year4Amt = RemoveComma(Year4Amt);
                var FinalRate = 1;
                if({!blnEditCurrency} == true){
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value);
                }
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                    FinalRate = parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value);
                } 
                }   
                document.getElementById(C13).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year4Amt,Q13,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C13).innerHTML == 0) document.getElementById(C13).innerHTML = '';
                document.getElementById(C14).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year4Amt,Q14,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C14).innerHTML == 0) document.getElementById(C14).innerHTML = '';
                document.getElementById(C15).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year4Amt,Q15,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C15).innerHTML == 0) document.getElementById(C15).innerHTML = '';
                document.getElementById(C16).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year4Amt,Q16,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(C16).innerHTML == 0) document.getElementById(C16).innerHTML = '';
                /*   
                var selectedCurrency = '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';    
                document.getElementById(C13).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q13,FinalRate).toString())+ selectedCurrency;
                if(document.getElementById(C13).innerHTML == 0) document.getElementById(C13).innerHTML = '';
                document.getElementById(C14).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q14,FinalRate).toString())+ selectedCurrency;
                if(document.getElementById(C14).innerHTML == 0) document.getElementById(C14).innerHTML = '';
                document.getElementById(C15).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q15,FinalRate).toString())+ selectedCurrency;
                if(document.getElementById(C15).innerHTML == 0) document.getElementById(C15).innerHTML = '';
                document.getElementById(C16).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q16,FinalRate).toString())+ selectedCurrency;
                if(document.getElementById(C16).innerHTML == 0) document.getElementById(C16).innerHTML = '';
                 //Calculation Of Outflow in Grant Currency
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text != '{!strGrantCurrency}'){
                    document.getElementById(C13GC).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q13,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C13GC).innerHTML == 0) document.getElementById(C13GC).innerHTML = '';
                    document.getElementById(C14GC).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q14,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C14GC).innerHTML == 0) document.getElementById(C14GC).innerHTML = '';
                    document.getElementById(C15GC).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q15,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C15GC).innerHTML == 0) document.getElementById(C15GC).innerHTML = '';
                    document.getElementById(C16GC).innerHTML = addCommas(CalculateAmountRate(Year4Amt,Q16,FinalRate).toString())+ '({!strGrantCurrency})';
                    if(document.getElementById(C16GC).innerHTML == 0) document.getElementById(C16GC).innerHTML = '';
                    //Calculation Of Outflow in Grant Currency
                    document.getElementById(TotalCaseGC).innerHTML = addCommas((parseInt(CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate))).toString()) + '({!strGrantCurrency})';
                    if(document.getElementById(TotalCaseGC).innerHTML == 0) document.getElementById(TotalCaseGC).innerHTML = '';
                    document.getElementById(GrantAmtGC).innerHTML = addCommas((CalculateAmountRate(Year1Amt,Q1,FinalRate) + CalculateAmountRate(Year1Amt,Q2,FinalRate) + CalculateAmountRate(Year1Amt,Q3,FinalRate) + CalculateAmountRate(Year1Amt,Q4,FinalRate) + CalculateAmountRate(Year2Amt,Q5,FinalRate) + CalculateAmountRate(Year2Amt,Q6,FinalRate) + CalculateAmountRate(Year2Amt,Q7,FinalRate) + CalculateAmountRate(Year2Amt,Q8,FinalRate) + CalculateAmountRate(Year3Amt,Q9,FinalRate) + CalculateAmount(Year3Amt,Q10,FinalRate) + CalculateAmountRate(Year3Amt,Q11,FinalRate) + CalculateAmountRate(Year3Amt,Q12,FinalRate) + CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate)).toString())+'({!strGrantCurrency})';
                    if(document.getElementById(GrantAmtGC).innerHTML == 0) document.getElementById(GrantAmtGC).innerHTML = '';
                }
                document.getElementById(TotalQty).innerHTML = addCommas(((parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q8))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                document.getElementById(TotalCase).innerHTML = addCommas((parseInt(CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16))).toString())+ selectedCurrency;
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas(((parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
                document.getElementById(GrantAmt).innerHTML = addCommas((CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmount(Year4Amt,Q13) + CalculateAmount(Year4Amt,Q14) + CalculateAmount(Year4Amt,Q15) + CalculateAmount(Year4Amt,Q16)).toString())+ selectedCurrency;
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';*/
                document.getElementById(TotalQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q8))).toFixed(2)).toString());
                if(document.getElementById(TotalQty).innerHTML == 0) document.getElementById(TotalQty).innerHTML = '';
                document.getElementById(TotalCase).innerHTML = addCommas((parseFloat(CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate)).toFixed(2)).toString());
                if(document.getElementById(TotalCase).innerHTML == 0) document.getElementById(TotalCase).innerHTML = '';
                document.getElementById(GrantQty).innerHTML = addCommas((parseFloat(parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4)) + parseFloat(CalculateQuantity(Q5)) + parseFloat(CalculateQuantity(Q6)) + parseFloat(CalculateQuantity(Q7)) + parseFloat(CalculateQuantity(Q8)) + parseFloat(CalculateQuantity(Q9)) + parseFloat(CalculateQuantity(Q10)) + parseFloat(CalculateQuantity(Q11)) + parseFloat(CalculateQuantity(Q12)) + parseFloat(CalculateQuantity(Q13)) + parseFloat(CalculateQuantity(Q14)) + parseFloat(CalculateQuantity(Q15)) + parseFloat(CalculateQuantity(Q16))).toFixed(2)).toString());
                if(document.getElementById(GrantQty).innerHTML == 0) document.getElementById(GrantQty).innerHTML = '';
                document.getElementById(GrantAmt).innerHTML = addCommas((parseFloat(parseFloat(CalculateAmount(Year1Amt,Q1) + CalculateAmount(Year1Amt,Q2) + CalculateAmount(Year1Amt,Q3) + CalculateAmount(Year1Amt,Q4) + CalculateAmount(Year2Amt,Q5) + CalculateAmount(Year2Amt,Q6) + CalculateAmount(Year2Amt,Q7) + CalculateAmount(Year2Amt,Q8) + CalculateAmount(Year3Amt,Q9) + CalculateAmount(Year3Amt,Q10) + CalculateAmount(Year3Amt,Q11) + CalculateAmount(Year3Amt,Q12) + CalculateAmountRate(Year4Amt,Q13,FinalRate) + CalculateAmountRate(Year4Amt,Q14,FinalRate) + CalculateAmountRate(Year4Amt,Q15,FinalRate) + CalculateAmountRate(Year4Amt,Q16,FinalRate))).toFixed(2)).toString());
                if(document.getElementById(GrantAmt).innerHTML == 0) document.getElementById(GrantAmt).innerHTML = '';
                
                 
            }
            var referenceNum = '';
            function DisplayNewBudgetlineRow(){
                document.getElementById('newBudgetLine1').style.display = '';
                document.getElementById('newBudgetLine2').style.display = '';
                document.getElementById('btnAddBudgetLine').style.display = 'none';
                //document.getElementById('page:frm:costGrpingInput').options = '';
                if(document.getElementById('page:frm:costGrpingInput') != null)
                    document.getElementById('page:frm:costGrpingInput').value='';
                //var strUser = e.options[e.selectedIndex].value = '--None--';
               //  document.getElementById(Currency).options.item(0).text = '{!strGrantCurrency}';
               // console.log(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text);
                //alert(strUser);
                referenceNum = document.getElementById("page:frm:NewrefNum").value;

                return false;
            } 
            function CancelNewBudgetlineRow(){
                document.getElementById('newBudgetLine1').style.display = 'none';
                document.getElementById('newBudgetLine2').style.display = 'none';
                document.getElementById('btnAddBudgetLine').style.display = '';
                if(document.getElementById('page:frm:CostGrp') != null)document.getElementById('page:frm:CostGrp').innerHTML = '';
                document.getElementById('page:frm:txtQ1QuantityNew').value = '';
                document.getElementById('page:frm:txtQ2QuantityNew').value = '';
                document.getElementById('page:frm:txtQ3QuantityNew').value = '';
                document.getElementById('page:frm:txtQ4QuantityNew').value = '';
                document.getElementById('page:frm:txtQ5QuantityNew').value = '';
                document.getElementById('page:frm:txtQ6QuantityNew').value = '';
                document.getElementById('page:frm:txtQ7QuantityNew').value = '';
                document.getElementById('page:frm:txtQ8QuantityNew').value = '';
                document.getElementById('page:frm:txtQ9QuantityNew').value = '';
                document.getElementById('page:frm:txtQ10QuantityNew').value = '';
                document.getElementById('page:frm:txtQ11QuantityNew').value = '';
                document.getElementById('page:frm:txtQ12QuantityNew').value = '';
                document.getElementById('page:frm:txtQ13QuantityNew').value = '';
                document.getElementById('page:frm:txtQ14QuantityNew').value = '';
                document.getElementById('page:frm:txtQ15QuantityNew').value = '';
                document.getElementById('page:frm:txtQ16QuantityNew').value = '';
                
                document.getElementById('page:frm:txtQ1CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ2CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ3CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ4CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ5CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ6CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ7CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ8CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ9CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ10CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ11CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ12CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ13CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ14CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ15CaseNew').innerHTML = '';
                document.getElementById('page:frm:txtQ16CaseNew').innerHTML = '';
                 
                document.getElementById('page:frm:lstNewGI').value = '';
                document.getElementById('page:frm:txtActivity').value = '';
                if(document.getElementById('page:frm:lstNewCostInput')!= null)document.getElementById('page:frm:lstNewCostInput').value = '';
                document.getElementById('page:frm:lstNewPayee').value = '';
                if(document.getElementById('page:frm:check')!= null)document.getElementById('page:frm:check').innerHTML = '';
                document.getElementById('page:frm:txtUCD').innerHTML = '';
                document.getElementById('page:frm:txtNewCurrency').selectedIndex = 0;
                document.getElementById('page:frm:txtY1AmountNew').value = '';
                document.getElementById('page:frm:txtY2AmountNew').value = '';
                document.getElementById('page:frm:txtY3AmountNew').value = '';
                document.getElementById('page:frm:txtY4AmountNew').value = '';
                
                document.getElementById('page:frm:txtTotalQtyY1New').innerHTML = '';
                document.getElementById('page:frm:txtTotalQtyY2New').innerHTML = '';
                document.getElementById('page:frm:txtTotalQtyY3New').innerHTML = '';
                document.getElementById('page:frm:txtTotalQtyY4New').innerHTML = '';
                
                document.getElementById('page:frm:txtTotalCaseY1New').innerHTML = '';
                document.getElementById('page:frm:txtTotalCaseY2New').innerHTML = '';
                document.getElementById('page:frm:txtTotalCaseY3New').innerHTML = '';
                document.getElementById('page:frm:txtTotalCaseY4New').innerHTML = '';
                
                document.getElementById('page:frm:txtGrantTotalQtyNew').innerHTML = '';
                document.getElementById('page:frm:txtGrantTotalCaseNew').innerHTML = '';  
                return false;
                
            }
            
            function ValidateSave(GIvalue,Payeevalue,SaveIndex,BLevel,BLevelValue,refNum){
              
                if(document.getElementById(GIvalue) != null ){
                    if(BLevel == '{!$Label.Budget_at_cost_input_level}'){
                        if(document.getElementById(GIvalue).value != '' && document.getElementById(Payeevalue).value != '' && document.getElementById(BLevelValue).value != ''){
                            actSaveBudgetLines(SaveIndex);
                            return false;
                        }else if(document.getElementById(GIvalue).value == '' && document.getElementById(Payeevalue).value == '' && document.getElementById(BLevelValue).value == ''){
                            ('{!$Label.Value_req_Grant_Intervention_Cost_Input_and_Recepient}');
                            return false;
                        }else if(document.getElementById(GIvalue).value == '' && document.getElementById(Payeevalue).value == ''){
                            ('{!$Label.Grant_Intervention_and_Recepient_Required}');
                            return false;
                        }
                        else if(document.getElementById(GIvalue).value == '' && document.getElementById(BLevelValue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Grant_Intervention_and_Cost_Input}');
                            return false;
                        }else if(document.getElementById(Payeevalue).value == '' && document.getElementById(BLevelValue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Recepient_and_Cost_Input}');
                            return false;
                        }
                        else if(document.getElementById(Payeevalue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Recepient}');
                            return false;
                        }else if(document.getElementById(GIvalue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Grant_Intervention}');
                            return false;
                        }else if(document.getElementById(BLevelValue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Cost_Input}');
                            return false;
                        }       
                    }
                    else{
                         if(document.getElementById(GIvalue).value != '' && document.getElementById(Payeevalue).value != ''){
                            actSaveBudgetLines(SaveIndex);
                            return false;
                        }else if(document.getElementById(GIvalue).value == '' && document.getElementById(Payeevalue).value == ''){
                            alert('{!$Label.Grant_Intervention_and_Recepient_Required}');
                            return false;
                        }else if(document.getElementById(Payeevalue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Recepient}');
                            return false;
                        }else if(document.getElementById(GIvalue).value == ''){
                            alert('{!$Label.Enter_the_value_for_Grant_Intervention}');
                            return false;
                        } 
                    } 
                      
                }
                else{
                    actSaveBudgetLines(SaveIndex);
                    return false;
                } 
            }
            
            function validateSaveNew(GIvalue,Payeevalue,BLevel,BLevelValue,refNum){    
                       
                if(BLevel == '{!$Label.Budget_at_cost_input_level}'){
                    if(document.getElementById(GIvalue).value != '' && document.getElementById(Payeevalue).value != '' && document.getElementById(BLevelValue).value != ''){
                        actSaveBudgetLines1();
                        return false;
                    }else if(document.getElementById(GIvalue).value == '' && document.getElementById(Payeevalue).value == '' && document.getElementById(BLevelValue).value == ''){
                        alert('{!$Label.Value_req_Grant_Intervention_Cost_Input_and_Recepient}');
                        return false;
                    }else if(document.getElementById(GIvalue).value == '' && document.getElementById(Payeevalue).value == ''){
                        alert('{!$Label.Grant_Intervention_and_Recepient_Required}');
                        return false;
                    }
                    else if(document.getElementById(GIvalue).value == '' && document.getElementById(BLevelValue).value == ''){
                        alert('{!$Label.Enter_the_value_for_Grant_Intervention_and_Cost_Input}');
                        return false;
                    }else if(document.getElementById(Payeevalue).value == '' && document.getElementById(BLevelValue).value == ''){
                        alert('{!$Label.Enter_the_value_for_Recepient_and_Cost_Input}');
                        return false;
                    }
                    else if(document.getElementById(Payeevalue).value == ''){
                        alert('{!$Label.Enter_the_value_for_Recepient}');
                        return false;
                    }else if(document.getElementById(GIvalue).value == ''){
                        alert('{!$Label.Enter_the_value_for_Grant_Intervention}');
                        return false;
                    }else if(document.getElementById(BLevelValue).value == ''){
                        alert('{!$Label.Enter_the_value_for_Cost_Input}');
                        return false;
                    }       
                }
                else{
                     if(document.getElementById(GIvalue).value != '' && document.getElementById(Payeevalue).value != ''){
                        actSaveBudgetLines1();
                        return false;
                    }else if(document.getElementById(GIvalue).value == '' && document.getElementById(Payeevalue).value == ''){
                        alert('{!$Label.Grant_Intervention_and_Recepient_Required}');
                        return false;
                    }else if(document.getElementById(Payeevalue).value == ''){
                    
                        alert('{!$Label.Enter_the_value_for_Recepient}');
                        return false;
                    }else if(document.getElementById(GIvalue).value == ''){
                        alert('{!$Label.Enter_the_value_for_Grant_Intervention}');
                        return false;
                    }
                }
            }
            
         /*   function SelectUnitOfmeasure(CostInputValue,SelectIndex,UnitMeasure){
            
                if(CostInputValue.value != ''){
                    actSelectUnitMeasure(SelectIndex);
                    return false;
                }else{
                    document.getElementById(UnitMeasure).innerHTML = '';
                    return false;
                }
            }
            
            function SelectUnitOfmeasureNew(CostInputValue,CostInputId,UnitMeasure){
                alert(CostInputValue.value);
                if(CostInputValue.value != ''){
                    var CostInputId = CostInputValue.value;
                    actSelectUnitMeasureNew(CostInputId);
                    return false;
                }else{
                    document.getElementById(UnitMeasure).innerHTML = '';
                    return false;
                }
            }   */         
            function completeOnchangeNewRow(){
                document.getElementById('newBudgetLine1').style.display = '';
                document.getElementById('newBudgetLine2').style.display = '';
                document.getElementById('btnAddBudgetLine').style.display = 'none';
            }
            function oncompleteChangeCurrencyNewBL(){
                document.getElementById('newBudgetLine1').style.display = '';
                document.getElementById('newBudgetLine2').style.display = '';                
                document.getElementById('btnAddBudgetLine').style.display = 'none';
            }
            
            function OpenDeletePopup(popupId){
                document.getElementById(popupId).style.display = '';
                return false;
            }
            var Index;
            function openAssumptionApplyPopup(IndexBL,popupId,strAss){
                if(document.getElementById(strAss).value != ''){
                    document.getElementById(popupId).style.display = '';
                    Index = IndexBL;
                    
                } 
                return false;
            }
            
            function OncompleteApplyPopup(){
                document.getElementById('page:frm:rptBudgetLine:'+index+':btnApply').style.display = '';
                return false;
            }
            
            function ClosePopup(popupId){
                document.getElementById(popupId).style.display = 'none';
                return false;
            }
            
            function openAssumptionDeletePopup(popupId){
                document.getElementById(popupId).style.display = '';
                return false;
            }
            function CloseAssumptionPopup(popupId){
                document.getElementById(popupId).style.display = 'none';
                return false;
            }
            function EditAssumption(EditIndex){
                document.getElementById('page:frm:hdnIndex').value = EditIndex;
            }
            var globalTR;
            var globalBtn;
            var globalhide;
            var globalIndex;
            var globalBLUnitMeasure;
            var globalAssUnitMeasure;
            
            function AddNewAssumption(trid,btnid,hide,Index,meas,UMNew,Currency){
                globalTR = trid;
                globalBtn = btnid;
                globalhide = hide;
                globalIndex = Index;
                globalAssUnitMeasure = UMNew;
                globalBLUnitMeasure = meas;
                document.getElementById(trid).style.display = '';
                document.getElementById(UMNew).innerHTML = meas;
                document.getElementById(btnid).style.display = 'none';
                document.getElementById(hide).style.display = '';
                document.getElementById(Currency).selectedIndex = 0;
                return false;
            }
            function CancelAssumption(trid,btnid,hide,index,size){
                document.getElementById(trid).style.display = 'none';
                document.getElementById(btnid).style.display = '';
                document.getElementById(hide).style.display = 'none';
                globalTR ='';
                globalBtn ='';
                globalhide = '';
                globalIndex = '';
                commonCall(index,size);
                if(size > 0){
                    var closeAss = 'False';
                    actSaveAssumption(closeAss,false);
                }else{
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY1').innerHTML = '';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY1').innerHTML ='';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY2').innerHTML = '';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY2').innerHTML ='';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY3').innerHTML = 0;
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY3').innerHTML =0;
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY4').innerHTML = 0;
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY4').innerHTML =0;
                }
                
                return false;
            }
            function commonCall(index,size){
                document.getElementById('page:frm:rptBudgetLine:'+index+':idItemDecNew').value = '';
               // document.getElementById('page:frm:rptBudgetLine:'+index+':txtCurrencyUsedNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':idUnitMeasureNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1UnitCostNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1QuantityNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY1New').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2UnitCostNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2QuantityNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY2New').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3UnitCostNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3QuantityNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY3New').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4UnitCostNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4QuantityNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY4New').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtRateY1New').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':idSupportNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':idJustificationNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1DurationDaysNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2DurationDaysNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3DurationDaysNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4DurationDaysNew').value = '';
            } 
            function CancelAssumption1(trid,btnid,hide,index,size){
                document.getElementById(trid).style.display = 'none';
                document.getElementById(btnid).style.display = '';
                document.getElementById(hide).style.display = 'none';
                globalTR ='';
                globalBtn ='';
                globalhide = '';
                globalIndex = '';
                commoncallHR(index);
                if(size > 0){
                var closeAss = 'False';
                actSaveAssumption(closeAss,false);
                }
                else{
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY1First').innerHTML = '';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY1First').innerHTML ='';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY2First').innerHTML = '';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY2First').innerHTML ='';
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY3First').innerHTML = 0;
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY3First').innerHTML =0;
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtUnitCostY4First').innerHTML = 0;
                    document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalUnitCostY4First').innerHTML =0;
                }
                return false;
                
                
            }
            function commoncallHR(index){                
                document.getElementById('page:frm:rptBudgetLine:'+index+':idItDecNewFirst').value = '';                
                document.getElementById('page:frm:rptBudgetLine:'+index+':idUMNewFirst').value = '';                
               // document.getElementById('page:frm:rptBudgetLine:'+index+':txtCurrencyUsedFirstNew').value = '{!strGrantCurrency}';
                
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1UnitCostNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1ChargesNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY1NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY1NewFirstRate').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1LevelNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY1NumberNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY1NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtRateY1NewFirst').innerHTML = '';
                
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2UnitCostNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2ChargesNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY2NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY2NewFirstRate').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2LevelNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY2NumberNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY2NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtRateY2NewFirst').innerHTML = '';
                
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3UnitCostNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3ChargesNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY3NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY3NewFirstRate').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3LevelNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY3NumberNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY3NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtRateY3NewFirst').innerHTML = '';
                
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4UnitCostNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4ChargesNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY4NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalSalaryY4NewFirstRate').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4LevelNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtY4NumberNewFirst').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtTotalCostY4NewFirst').innerHTML = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':txtRateY4NewFirst').innerHTML = '';
                
                document.getElementById('page:frm:rptBudgetLine:'+index+':idSuppoetFirstNew').value = '';
                document.getElementById('page:frm:rptBudgetLine:'+index+':idJCFirstNew').value = '';              
               }
            
            function RemoveComma(CostValue){
                CostValue += '';
                var ReComma = new RegExp("\\,","g");
                var ReQuate = new RegExp("\\'","g");
                CostValue = CostValue.replace(ReComma,"");
                CostValue = CostValue.replace(ReQuate,"");
                CostValue = CostValue.replace(",.",".");
                CostValue = CostValue.replace("'.",".");
                return CostValue;
            }
            function addCommas(nStr)
            {
                
                nStr += '';
                x = nStr.split('.');
                x1 = x[0];
                x2 = x.length > 1 ? '.' + x[1] : '';
                var rgx = /(\d+)(\d{3})/;
                while (rgx.test(x1)) {
                    x1 = x1.replace(rgx, '$1' + ',' + '$2');
                }
                return x1 + x2;
            }
            function CalculateTotalCost(YearIndex,Cost,Duration,Quantity,TotalCost,CurrencyRate,Currency,Index,size,Type,NumofPerson){
                console.log('Inside the Script');
                var txtCost = document.getElementById(Cost).value;
                var txtDuration = document.getElementById(Duration).value;
                var txtQuantity = document.getElementById(Quantity).value;               
                var txtNumofPerson = document.getElementById(NumofPerson).value;   
                var intDurationIndex=parseInt(YearIndex);
                var MaxNumberofPersons = 0;
                var MaxDuration =0;
                txtCost = RemoveComma(txtCost);
                txtDuration = RemoveComma(txtDuration);
                txtNumofPerson = RemoveComma(txtNumofPerson);
                //txtDuration = parseFloat(txtDuration);
                txtQuantity = RemoveComma(txtQuantity);
                console.log('txtDuration '+txtDuration);
                //Code for getting the highest value of Number of Person
                /*var NumPerson1;
                var NumPerson2;
                var NumPerson3;
                var NumPerson4;
                if(Type == true){
                 NumPerson1 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y1NumPerson').value;
                 NumPerson2 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y2NumPerson').value;
                 NumPerson3 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y3NumPerson').value;
                 NumPerson4 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y4NumPerson').value;
                }
                if(NumPerson1 == null) NumPerson1=0;
                else NumPerson1 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson1))));
                if(NumPerson2 == null) NumPerson2=0;
                else NumPerson2 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson2))));
                if(NumPerson3 == null) NumPerson3=0;
                else NumPerson3 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson3))));
                if(NumPerson4 == null) NumPerson4=0;
                else NumPerson4 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson4))));
                var NumPersons = [NumPerson1,NumPerson2,NumPerson3,NumPerson4];
                console.log('NumPersons '+NumPersons);
                console.log('Type '+Type);
                var count =0;
                for (var i=0;i<NumPersons.length;i++){
                    if(count < NumPersons[i]) count= NumPersons[i];
                }
                console.log('Count Value '+count);*/ 
                 if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                    for(var i=0;i<size;i++){
                    console.log('Number of Person Value ' +document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'NumofPerson').value);
                        if(parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'NumofPerson').value))>parseInt(MaxNumberofPersons))
                            MaxNumberofPersons = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'NumofPerson').value);
                        console.log('Max Number of Persons NumOfPersonsNew '+ MaxNumberofPersons);
                        if(parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'DurationDays').value))>parseInt(MaxDuration))
                            MaxDuration = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'DurationDays').value);
                    
                    }
                }
                console.log('Max Number of Person '+MaxNumberofPersons);
                //Script for highest value of Number of Person ends here
                
                if(txtCost == '' || txtCost == null) txtCost = 0;
                if(txtDuration == '' || txtDuration == null) txtDuration = 0;
                if(txtQuantity == '' || txtQuantity == null) txtQuantity = 0;
                if(txtNumofPerson == '' || txtNumofPerson == null) txtNumofPerson =0;
                
                var Total;
                
                if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                    Total = txtCost * txtDuration * txtQuantity * txtNumofPerson;
                }else{
                    Total = txtCost * txtQuantity;
                }
                
                if(Total == 0 || isNaN(Total)){
                    document.getElementById(TotalCost).innerHTML = '';
                    document.getElementById(CurrencyRate).innerHTML = '';
                }else{
                    Total = (Total).toFixed(2);
                    document.getElementById(TotalCost).innerHTML = addCommas(Total.toString())+ '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(((Total * parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value)).toFixed(2)).toString()) + '({!strGrantCurrency})';
                    }
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(((Total * parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value)).toFixed(2)).toString())+ '({!strGrantCurrency})';
                    }
                } 
                  
                
                var TotalUcost = 0;
                var TotalQuantity = 0;
                for(var i=0;i<size;i++){
                    if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'Quantity').value != ''){
                        if(Type == false){
                        TotalQuantity += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'Quantity').value));
                        }else{
                            //TotalQuantity = count;
                            TotalQuantity = MaxNumberofPersons * MaxDuration;
                        }
                    }
                    
                    if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtRateY'+YearIndex).innerHTML == '' &&
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtTotalCostY'+YearIndex).innerHTML == ''){
                            TotalUcost += 0;
                        
                    }else if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtRateY'+YearIndex).innerHTML != ''){
                        TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtRateY'+YearIndex).innerHTML));
                    }else{
                        TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtTotalCostY'+YearIndex).innerHTML));
                    }
                }
                
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'QuantityNew').value != ''){
                    if(Type == false){
                        TotalQuantity += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'QuantityNew').value));
                    }else{
                        //TotalQuantity = count;
                        if(parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'NumOfPersonsNew').value))>parseInt(MaxNumberofPersons))
                            MaxNumberofPersons = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'NumOfPersonsNew').value);
                        if(parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'DurationDaysNew').value)>MaxDuration))
                            MaxNumberofPersons = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'DurationDaysNew').value);
                        TotalQuantity = MaxNumberofPersons * MaxDuration;
                     }
                }
                
                var TotalnewCost = 0;
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtRateY'+YearIndex+'New').innerHTML != ''){
                    TotalnewCost = parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtRateY'+YearIndex+'New').innerHTML));
                }else if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalCostY'+YearIndex+'New').innerHTML != ''){
                    TotalnewCost = parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalCostY'+YearIndex+'New').innerHTML));
                }
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML != ''){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML = '';
                }
                if(TotalnewCost == ''){
                    TotalnewCost = 0;
                } 
                if(TotalnewCost != 0){
                    TotalUcost = +TotalUcost + +TotalnewCost;
                }
                if(TotalUcost == 0 || isNaN(TotalUcost)){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML = '';
                }else{
                    TotalUcost =parseFloat(TotalUcost).toFixed(2);
                    
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML = addCommas(TotalUcost.toString());
                    if(TotalQuantity == 0 || isNaN(TotalQuantity)){
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':txtUnitCostY'+YearIndex).innerHTML = ''; 
                    }
                    if(TotalQuantity != 0){
                        var TotalCostRe = 0;                        
                        TotalCostRe = parseFloat((parseFloat(TotalUcost) / parseFloat(TotalQuantity)).toFixed(2));
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':txtUnitCostY'+YearIndex).innerHTML = addCommas(TotalCostRe.toString());
                    }
                }
            }  
            
            function CalculateTotalCostNew(YearIndex,Cost,Duration,Quantity,TotalCost,Currency,CurrencyRate,Index,size,NumofPerson){
                var txtCost = document.getElementById(Cost).value;
                var txtDuration = document.getElementById(Duration).value;
                var txtQuantity = document.getElementById(Quantity).value;
                var txtNumberofPerson = document.getElementById(NumofPerson).value;
                txtCost = RemoveComma(txtCost);
                txtDuration = RemoveComma(txtDuration);
                txtDuration = parseFloat(parseFloat(txtDuration).toFixed(1));
                txtQuantity = RemoveComma(txtQuantity);
                txtNumberofPerson = RemoveComma(txtNumberofPerson);
                if(txtCost == '' || txtCost == null) txtCost = 0;
                if(txtDuration == '' || txtDuration == null) txtDuration = 0;
                if(txtQuantity == '' || txtQuantity == null) txtQuantity = 0;         
                if(txtNumberofPerson == '' || txtNumberofPerson == null) txtNumberofPerson = 0;  
                
                var intDurationIndex=parseInt(YearIndex);
                
                //Code for getting the highest value of Number of Person
                var NumPerson1;
                var NumPerson2;
                var NumPerson3;
                var NumPerson4;
               /* if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                 NumPerson1 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y1NumPerson').value;
                 NumPerson2 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y2NumPerson').value;
                 NumPerson3 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y3NumPerson').value;
                 NumPerson4 = document.getElementById('page:frm:rptBudgetLine:'+Index+':Y4NumPerson').value;
                }
                if(NumPerson1 == null) NumPerson1=0;
                else NumPerson1 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson1))));
                if(NumPerson2 == null) NumPerson2=0;
                else NumPerson2 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson2))));
                if(NumPerson3 == null) NumPerson3=0;
                else NumPerson3 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson3))));
                if(NumPerson4 == null) NumPerson4=0;
                else NumPerson4 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson4))));
                
                var NumPersons = [NumPerson1,NumPerson2,NumPerson3,NumPerson4];
                console.log('NumPersons '+NumPersons);
                var count =0;
                for (var i=0;i<NumPersons.length;i++){
                    if(count < NumPersons[i]) count= NumPersons[i];
                }
                console.log('Count Value '+count);*/
                
                //Script for highest value of Number of Person ends here
                var MaxDuration =0;
                var MaxNumberofPersons = 0;
                if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                    for(var i=0;i<size;i++){
                    console.log('Number of Person Value ' +document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'NumofPerson').value);
                        if(parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'NumofPerson').value))>parseInt(MaxNumberofPersons))
                            MaxNumberofPersons = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'NumofPerson').value);
                        console.log('Max Number of Persons NumOfPersonsNew '+ MaxNumberofPersons);
                        if(parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'DurationDays').value))>parseInt(MaxDuration))
                            MaxDuration = parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'DurationDays').value));
                    
                    } 
                }
                if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                    var Total = txtCost * txtDuration * txtQuantity * txtNumberofPerson; //For Cost Grouping == '2. Travel' 
                }else{
                    var Total = txtCost * txtQuantity; // For Other Cost Grouping 
                }
                console.log('Total '+Total);
                if(Total == 0 || isNaN(Total)){
                    document.getElementById(TotalCost).innerHTML = '';
                    document.getElementById(CurrencyRate).innerHTML = '';
                }else{
                    Total = (Total).toFixed(2);
                    document.getElementById(TotalCost).innerHTML = addCommas(Total.toString())+ '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                   if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(parseFloat(((Total * parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value)).toFixed(2))).toString())+ '({!strGrantCurrency})';
                    }
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(parseFloat(((Total * parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value)).toFixed(2))).toString())+ '({!strGrantCurrency})';
                    } 
                } 
                console.log('CurrencyRate '+document.getElementById(CurrencyRate).innerHTML);
                var FinalTotalToAdd = 0;
                if(document.getElementById(CurrencyRate).innerHTML != ''){
                    FinalTotalToAdd = parseFloat(RemoveComma(document.getElementById(CurrencyRate).innerHTML));
                }else{
                    FinalTotalToAdd = Total;
                } 
                var TotalQuantityNew = 0;
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'NumOfPersonsNew').value != ''){
                        console.log('TotalQuantityNew calculation');
                        if(document.getElementById('DurationTd'+intDurationIndex).style.display == 'none'){
                        console.log('TotalQuantityNew before calculation');
                        TotalQuantityNew = parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'QuantityNew').value));
                        }else{
                            //if(size == 0)TotalQuantityNew = count;
                            if(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'NumOfPersonsNew').value)>MaxNumberofPersons)
                            MaxNumberofPersons = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'NumOfPersonsNew').value);
                        }
                    } 
                    if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'DurationDaysNew').value != ''){
                        console.log('TotalQuantityNew calculation');
                        if(document.getElementById('DurationTd'+intDurationIndex).style.display == 'none'){
                        console.log('TotalQuantityNew before calculation');
                        TotalQuantityNew = parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'QuantityNew').value));
                        }else{
                           if(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'DurationDaysNew').value)>MaxDuration)
                            MaxDuration = RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'DurationDaysNew').value);
                        console.log('TotalQuantityNew after calculation '+MaxNumberofPersons);
                        }
                      } 
                var TotalUcost = 0; 
                var TotalQuantity = 0;
                if(size > 0){
                console.log('Size '+size);
                    for(var i=0;i<size;i++){
                        if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'Quantity').value != ''){
                            if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                                //TotalQuantity = MaxNumberofPersons*MaxDuration;
                                TotalQuantity = 0;
                            }else{
                                
                                TotalQuantity += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtY'+YearIndex+'Quantity').value));
                            }
                        } 
                        if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtRateY'+YearIndex).innerHTML == '' &&
                            document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtTotalCostY'+YearIndex).innerHTML == ''){
                                TotalUcost += 0;
                            
                        }else if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtRateY'+YearIndex).innerHTML != ''){
                            TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtRateY'+YearIndex).innerHTML));
                        }else{
                            TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtTotalCostY'+YearIndex).innerHTML));
                        }  
                    console.log('TotalUcost '+TotalUcost);
                        /*if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtTotalCostY'+YearIndex).innerHTML == ''){
                            TotalUcost += 0;
                        }else{
                            TotalUcost += parseInt(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLine:'+i+':txtTotalCostY'+YearIndex).innerHTML);
                        }*/
                    }  
                    console.log('FinalTotalToAdd '+FinalTotalToAdd);
                    TotalUcost = +TotalUcost + +FinalTotalToAdd;
                    console.log('TotalQuantity 4  else '+TotalQuantity);
                    //TotalQuantity = +TotalQuantity + +TotalQuantityNew;
                    if(document.getElementById('DurationTd'+intDurationIndex).style.display != 'none'){
                    TotalQuantity = MaxNumberofPersons*MaxDuration;
                    }else{
                        TotalQuantity = +TotalQuantity + +TotalQuantityNew;
                     }
                    console.log('TotalQuantity 5 else '+TotalQuantity);
                    console.log('TotalUcost after for loop '+TotalUcost);
                }else{
                   if(document.getElementById('DurationTd'+intDurationIndex).style.display == 'none'){
                    if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'QuantityNew').value != ''){
                        TotalQuantity = TotalQuantity + parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtY'+YearIndex+'QuantityNew').value));
                    }
                    }else{
                    console.log('TotalQuantity before else '+TotalQuantity);
                    //TotalQuantity = +TotalQuantity + +TotalQuantityNew;
                    TotalQuantity = MaxNumberofPersons*MaxDuration;
                    }
                    TotalUcost = FinalTotalToAdd;
                }
                
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML != ''){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML = '';
                }
                if(TotalUcost == 0 || isNaN(TotalUcost)){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML = '';
                }else{
                    TotalUcost = parseFloat(TotalUcost).toFixed(2);
                    console.log('TotalUcost in else '+TotalUcost);
                    console.log('TotalQuantity in else '+TotalQuantity);
                    if(TotalQuantity == 0 || isNaN(TotalQuantity)){
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':txtUnitCostY'+YearIndex).innerHTML = ''; 
                    }
                    if(TotalQuantity != 0){
                    
                        var TotalCostRe = 0;
                        TotalCostRe = parseFloat((parseFloat(TotalUcost) / parseFloat(TotalQuantity)).toFixed(2));
                        console.log('TotalCostRe '+TotalCostRe);
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':txtUnitCostY'+YearIndex).innerHTML = addCommas(parseFloat(TotalCostRe.toString()));
                    }
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':txtTotalUnitCostY'+YearIndex).innerHTML = addCommas(TotalUcost.toString());
                }
            }
            //TCS 3/12/2014 Script for calculating Unit Cost On Change of Number Of Person 
            function OnChangeNumPerson(TotalCost1,TotalCost2,TotalCost3,TotalCost4,UnitCost1,UnitCost2,UnitCost3,UnitCost4,NumPerson1,NumPerson2,NumPerson3,NumPerson4){
                var TotalCostY1 = document.getElementById(TotalCost1).innerHTML;
                var TotalCostY2 = document.getElementById(TotalCost2).innerHTML;
                var TotalCostY3 = document.getElementById(TotalCost3).innerHTML;
                var TotalCostY4 = document.getElementById(TotalCost4).innerHTML;
                var NumPersonY1 = document.getElementById(NumPerson1).value;
                var NumPersonY2 = document.getElementById(NumPerson2).value;
                var NumPersonY3 = document.getElementById(NumPerson3).value;
                var NumPersonY4 = document.getElementById(NumPerson4).value;
                
                TotalCostY1 = RemoveComma(TotalCostY1);
                TotalCostY2 = RemoveComma(TotalCostY2);
                TotalCostY3 = RemoveComma(TotalCostY3);
                TotalCostY4 = RemoveComma(TotalCostY4);
                NumPersonY1 = RemoveComma(NumPersonY1);
                NumPersonY2 = RemoveComma(NumPersonY2);
                NumPersonY3 = RemoveComma(NumPersonY3);
                NumPersonY4 = RemoveComma(NumPersonY4);
                
                console.log('TotalCost '+TotalCostY1 +' '+TotalCostY2 +' ' +TotalCostY3+ ' '+TotalCostY4);
                console.log('NumOfPerson '+NumPersonY1 +' '+NumPersonY2 +' ' +NumPersonY3+ ' '+NumPersonY4);
                /*if(TotalCostY1 == null) TotalCostY1=0;
                if(TotalCostY2 == null) TotalCostY2=0;
                if(TotalCostY3 == null) TotalCostY3=0;
                if(TotalCostY4 == null) TotalCostY4=0;*/
                if(NumPersonY1 == null) NumPersonY1=0;
                else NumPerson1 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson1))));
                if(NumPersonY2 == null) NumPersonY2=0;
                else NumPerson2 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson2))));
                if(NumPersonY3 == null) NumPersonY3=0;
                else NumPerson3 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson3))));
                if(NumPersonY4 == null) NumPersonY4=0;
                else NumPerson4 = parseFloat(Math.floor(parseFloat(RemoveComma(NumPerson4))));
                
                var NumPersons = [NumPersonY1,NumPersonY2,NumPersonY3,NumPersonY4];
                console.log('NumPersons '+NumPersons);
                var count =0;
                for (var i=0;i<NumPersons.length;i++){
                    if(count < NumPersons[i]) count= NumPersons[i];
                }
                console.log('Count Value '+count);
                if(TotalCostY1 != null)document.getElementById(UnitCost1).innerHTML = addCommas(Math.round((TotalCostY1 / count)));
                if(TotalCostY2 != null)document.getElementById(UnitCost2).innerHTML = addCommas(Math.round((TotalCostY2 / count)));
                if(TotalCostY3 != null)document.getElementById(UnitCost3).innerHTML = addCommas(Math.round((TotalCostY3 / count)));
                if(TotalCostY4 != null)document.getElementById(UnitCost4).innerHTML = addCommas(Math.round((TotalCostY4 / count)));
            } 
            //TCS 3/12/2014 Script for calculating Unit Cost On Change of Number Of Person: End Here
            function CalculateTotalCostFirst(Cost,Charges,TotalSalary,Level,Number,TotalCost,Currency,CurrencyRate,Index,size,SelectedYear,TotalSalaryRate){
                console.log('Test');
                var txtCost = document.getElementById(Cost).value;
                var txtCharges = document.getElementById(Charges).value;
                
                var txtLevel = document.getElementById(Level).value;
                var txtNumber = document.getElementById(Number).value;
                 
                txtCost = RemoveComma(txtCost);
                txtCharges = RemoveComma(txtCharges);
                txtLevel = RemoveComma(txtLevel);
                txtLevel = parseFloat(Math.floor(parseFloat(txtLevel)));
                txtNumber = RemoveComma(txtNumber);
                txtNumber = parseFloat(Math.floor(parseFloat(txtNumber)));
                    
                if(txtCost == '' || txtCost == null) txtCost = 0;
                if(txtCharges == '' || txtCharges == null) txtCharges = 0;
                if(txtLevel == '' || txtLevel == null) txtLevel = 0;
                if(txtNumber == '' || txtNumber == null) txtNumber = 0;
                    
                var txtTotalSalary = parseFloat(parseFloat(txtCost)) + parseFloat(parseFloat(txtCharges));
                if(txtTotalSalary == 0 || isNaN(txtTotalSalary)){
                    document.getElementById(TotalSalary).innerHTML = '';
                    document.getElementById(TotalSalaryRate).innerHTML = '';
                }else{                    
                    document.getElementById(TotalSalary).innerHTML = addCommas((txtTotalSalary.toFixed(2)).toString())+ '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                }
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                        document.getElementById(TotalSalaryRate).innerHTML = addCommas(((txtTotalSalary * parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                        document.getElementById(TotalSalaryRate).innerHTML = addCommas(((txtTotalSalary * parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value)).toFixed(2)).toString()) +'({!strGrantCurrency})';
                    }
                    console.log(' txtLevel '+txtLevel+' txtNumber '+txtNumber);
                var txtTotalCost = txtTotalSalary * txtLevel * txtNumber;   
                if(txtTotalCost == 0 || isNaN(txtTotalCost)){
                    document.getElementById(TotalCost).innerHTML = '';
                    document.getElementById(CurrencyRate).innerHTML = '';
                }else{
                    txtTotalCost = (txtTotalCost/100).toFixed(2);
                    document.getElementById(TotalCost).innerHTML = addCommas(txtTotalCost.toString())+ '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                   
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(((txtTotalCost * parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(((txtTotalCost * parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                } 
                     
                var TotalCostAll;
                var TotalUnitCostAll;
                var TotalRateAll;
                var TotalCostAllNew;
                var TotalRateAllNew;
                var NumberPerson;
                var NumberPersonNew;
                var levelEffort;
                var levelEffortNew;
                if(SelectedYear == 'Year1'){
                    TotalCostAll = 'txtTotalCostY1First';
                    TotalUnitCostAll = 'txtTotalUnitCostY1First';
                    TotalRateAll = 'txtRateY1First';
                    TotalCostAllNew = 'txtTotalCostY1NewFirst';
                    TotalRateAllNew = 'txtRateY1NewFirst';
                    NumberPerson = 'txtY1NumberFirst';
                    NumberPersonNew = 'txtY1NumberNewFirst';
                    UnitCost = 'txtUnitCostY1First';
                    levelEffort = 'txtY1LevelFirst';
                    levelEffortNew = 'txtY1LevelNewFirst';
                }else if(SelectedYear == 'Year2'){
                    TotalCostAll = 'txtTotalCostY2First';
                    TotalUnitCostAll = 'txtTotalUnitCostY2First';
                    TotalRateAll = 'txtRateY2First';
                    TotalCostAllNew = 'txtTotalCostY2NewFirst';
                    TotalRateAllNew = 'txtRateY2NewFirst';
                    NumberPerson = 'txtY2NumberFirst';
                    NumberPersonNew = 'txtY2NumberNewFirst';
                    UnitCost = 'txtUnitCostY2First';
                    levelEffort = 'txtY2LevelFirst';
                    levelEffortNew = 'txtY2LevelNewFirst';
                }else if(SelectedYear == 'Year3'){
                    TotalCostAll = 'txtTotalCostY3First';
                    TotalUnitCostAll = 'txtTotalUnitCostY3First';
                    TotalRateAll = 'txtRateY3First';
                    TotalCostAllNew = 'txtTotalCostY3NewFirst';
                    TotalRateAllNew = 'txtRateY3NewFirst';
                    NumberPerson = 'txtY3NumberFirst';
                    NumberPersonNew = 'txtY3NumberNewFirst';
                    UnitCost = 'txtUnitCostY3First';
                    levelEffort = 'txtY3LevelFirst';
                    levelEffortNew = 'txtY3LevelNewFirst';
                }else if(SelectedYear == 'Year4'){
                    TotalCostAll = 'txtTotalCostY4First';
                    TotalUnitCostAll = 'txtTotalUnitCostY4First';
                    TotalRateAll = 'txtRateY4First';
                    TotalCostAllNew = 'txtTotalCostY4NewFirst';
                    TotalRateAllNew = 'txtRateY4NewFirst';
                    NumberPerson = 'txtY4NumberFirst';
                    NumberPersonNew = 'txtY4NumberNewFirst';
                    UnitCost = 'txtUnitCostY4First';
                    levelEffort = 'txtY4LevelFirst';
                    levelEffortNew = 'txtY4LevelNewFirst';
                }
                var TotalUcost = 0;
                var TotalQuantity = 0;
                
                for(var i=0;i<size;i++){
                    
                    if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+NumberPerson).value != '' && document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+levelEffort).value != ''){
                        TotalQuantity += (parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+NumberPerson).value)) * parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+levelEffort).value)));
                    }
                    if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalRateAll).innerHTML == '' &&
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML == ''){
                            TotalUcost += 0;
                        
                    }else if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalRateAll).innerHTML != ''){
                        TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalRateAll).innerHTML));
                    }else{
                        TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML));
                    }
                
                
                   /* if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML == ''){
                        TotalUcost += 0;
                    }else{
                        TotalUcost += parseInt(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML);
                    }*/
                }
                
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+NumberPersonNew).value != ''  && document.getElementById('page:frm:rptBudgetLine:'+Index+':'+levelEffortNew).value != ''){
                    TotalQuantity += (parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+NumberPersonNew).value)) * parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+levelEffortNew).value)));
                }
                
                var TotalnewCost = 0;
                
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalRateAllNew).innerHTML != ''){
                    TotalnewCost = parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalRateAllNew).innerHTML));
                }else if(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalCostAllNew).innerHTML != ''){
                    TotalnewCost = parseInt(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalCostAllNew).innerHTML));
                }
                
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML != ''){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML = '';
                }
                if(TotalnewCost == ''){
                    TotalnewCost = 0;
                }
                if(TotalnewCost != 0){
                    TotalUcost = TotalUcost + TotalnewCost;
                }
                if(TotalUcost == 0  || isNaN(TotalUcost)){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML = '';
                }else{
                     if(TotalQuantity == 0 || isNaN(TotalQuantity)){
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':'+UnitCost).innerHTML = ''; 
                    }
                    if(TotalQuantity != 0){
                        var TotalCostRe = 0;
                        TotalQuantity = parseFloat(TotalQuantity)/100;
                        TotalCostRe = parseFloat((parseFloat(TotalUcost) / parseFloat(TotalQuantity)));
                        TotalCostRe = (TotalCostRe/4).toFixed(2);
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':'+UnitCost).innerHTML = addCommas(TotalCostRe.toString());
                    }
                    TotalUcost = parseFloat(TotalUcost).toFixed(2);
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML = addCommas(TotalUcost.toString());
                }
            
            }
            
            
            function CalculateTotalCostFirstNew(Cost,Charges,TotalSalary,Level,Number,TotalCost,Currency,CurrencyRate,Index,size,SelectedYear,TotalSalaryRate){
                
                var txtCost = document.getElementById(Cost).value;
                var txtCharges = document.getElementById(Charges).value;
                
                var txtLevel = document.getElementById(Level).value;
                var txtNumber = document.getElementById(Number).value;
                
                txtCost = RemoveComma(txtCost);
                txtCharges = RemoveComma(txtCharges);
                txtLevel = RemoveComma(txtLevel);
                 txtLevel = parseFloat(Math.floor(parseFloat(txtLevel)));
                txtNumber = RemoveComma(txtNumber);
                txtNumber = parseFloat(Math.floor(parseFloat(txtNumber)));
                
                if(txtCost == '' || txtCost == null) txtCost = 0;
                if(txtCharges == '' || txtCharges == null) txtCharges = 0;
                if(txtLevel == '' || txtLevel == null) txtLevel = 0;
                if(txtNumber == '' || txtNumber == null) txtNumber = 0;
                
                var txtTotalSalary = parseFloat(parseFloat(txtCost)) + parseFloat(parseFloat(txtCharges));
                
                if(txtTotalSalary == 0 || isNaN(txtTotalSalary)){
                    document.getElementById(TotalSalary).innerHTML = '';
                    document.getElementById(TotalSalaryRate).innerHTML = '';
                }else{
                    document.getElementById(TotalSalary).innerHTML = addCommas((txtTotalSalary.toFixed(2)).toString())+ '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                }
                if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                        document.getElementById(TotalSalaryRate).innerHTML = addCommas(((txtTotalSalary * parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                       document.getElementById(TotalSalaryRate).innerHTML = addCommas(((txtTotalSalary * parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                var txtTotalCost = txtTotalSalary * txtLevel * txtNumber;   
                if(txtTotalCost == 0 || isNaN(txtTotalCost)){
                    document.getElementById(TotalCost).innerHTML = '';
                }else{
                    txtTotalCost = (txtTotalCost/100).toFixed(2);
                    document.getElementById(TotalCost).innerHTML = addCommas(txtTotalCost.toString())+ '('+document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text+')';
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strLocalCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(((txtTotalCost * parseFloat(document.getElementById('page:frm:hdnstrLocalCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                    if(document.getElementById(Currency).options[document.getElementById(Currency).selectedIndex].text == '{!strOtherCurrency}'){
                        document.getElementById(CurrencyRate).innerHTML = addCommas(((txtTotalCost * parseFloat(document.getElementById('page:frm:hdnstrOtherCurrencyRate').value)).toFixed(2)).toString())+'({!strGrantCurrency})';
                    }
                }
                var txtTotalCostFinal = 0;
                if(document.getElementById(CurrencyRate).innerHTML != ''){
                    txtTotalCostFinal = parseFloat(RemoveComma(document.getElementById(CurrencyRate).innerHTML));
                }else{
                    txtTotalCostFinal = txtTotalCost;
                }
                console.log('txtTotalCost'+txtTotalCost);
                var TotalUcost = 0;
                
                var TotalCostAll;
                var TotalUnitCostAll;
                var TotalRateAll;
                var TotalCostAllNew;
                var TotalRateAllNew;
                var NumberPerson;
                var NumberPersonNew;
                var levelEffort;
                var levelEffortNew;
                if(SelectedYear == 'Year1'){
                    TotalCostAll = 'txtTotalCostY1First';
                    TotalUnitCostAll = 'txtTotalUnitCostY1First';
                    TotalRateAll = 'txtRateY1First';
                    TotalCostAllNew = 'txtTotalCostY1NewFirst';
                    TotalRateAllNew = 'txtRateY1NewFirst';
                    NumberPerson = 'txtY1NumberFirst';
                    NumberPersonNew = 'txtY1NumberNewFirst'
                    UnitCost = 'txtUnitCostY1First';
                    levelEffort = 'txtY1LevelFirst';
                    levelEffortNew = 'txtY1LevelNewFirst';
                }else if(SelectedYear == 'Year2'){
                    TotalCostAll = 'txtTotalCostY2First';
                    TotalUnitCostAll = 'txtTotalUnitCostY2First';
                    TotalRateAll = 'txtRateY2First';
                    TotalCostAllNew = 'txtTotalCostY2NewFirst';
                    TotalRateAllNew = 'txtRateY2NewFirst';
                    NumberPerson = 'txtY2NumberFirst';
                    NumberPersonNew = 'txtY2NumberNewFirst'
                    UnitCost = 'txtUnitCostY2First';
                    levelEffort = 'txtY2LevelFirst';
                    levelEffortNew = 'txtY2LevelNewFirst';
                }else if(SelectedYear == 'Year3'){
                    TotalCostAll = 'txtTotalCostY3First';
                    TotalUnitCostAll = 'txtTotalUnitCostY3First';
                    TotalRateAll = 'txtRateY3First';
                    TotalCostAllNew = 'txtTotalCostY3NewFirst';
                    TotalRateAllNew = 'txtRateY3NewFirst';
                    NumberPerson = 'txtY3NumberFirst';
                    NumberPersonNew = 'txtY3NumberNewFirst'
                    UnitCost = 'txtUnitCostY3First';
                    levelEffort = 'txtY3LevelFirst';
                    levelEffortNew = 'txtY3LevelNewFirst';
                }else if(SelectedYear == 'Year4'){
                    TotalCostAll = 'txtTotalCostY4First';
                    TotalUnitCostAll = 'txtTotalUnitCostY4First';
                    TotalRateAll = 'txtRateY4First';
                    TotalCostAllNew = 'txtTotalCostY4NewFirst';
                    TotalRateAllNew = 'txtRateY4NewFirst';
                    NumberPerson = 'txtY4NumberFirst';
                    NumberPersonNew = 'txtY4NumberNewFirst'
                    UnitCost = 'txtUnitCostY4First';
                    levelEffort = 'txtY4LevelFirst';
                    levelEffortNew = 'txtY4LevelNewFirst';
                }
                var TotalQuantity = 0;
                if(size > 0){
                    TotalUcost = 0;
                    
                    for(var i=0;i<size;i++){  
                        if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+NumberPerson).value != ''  && document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+levelEffort).value != ''){
                            TotalQuantity += (parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+NumberPerson).value)) * parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+levelEffort).value)));
                        }
                        
                        if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalRateAll).innerHTML == '' &&
                            document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML == ''){
                                TotalUcost += 0;
                        }else if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalRateAll).innerHTML != '') {
                            TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalRateAll).innerHTML));
                        }else {
                            TotalUcost += parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML));
                        }
                       /* if(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML == ''){
                        TotalUcost += 0;
                    }else{
                        TotalUcost += parseInt(document.getElementById('page:frm:rptBudgetLine:'+Index+':rptBudgetLineFirst:'+i+':'+TotalCostAll).innerHTML);
                    }*/
                    }                    
                    TotalUcost = TotalUcost + txtTotalCostFinal;
                    //TotalUcost = TotalUcost + txtTotalCost;
                }else{
                    
                    TotalUcost = txtTotalCostFinal;
                   //TotalUcost = txtTotalCost;
                }
                
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+NumberPersonNew).value != '' && document.getElementById('page:frm:rptBudgetLine:'+Index+':'+levelEffortNew).value != ''){
                    
                    TotalQuantity += (parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+NumberPersonNew).value)) * parseFloat(RemoveComma(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+levelEffortNew).value)));
                    
                }
                if(document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML != ''){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML = '';
                }
                if(TotalUcost == 0 || isNaN(TotalUcost)){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML = '';
                }else{
                console.log('TotalQuantity '+TotalQuantity);
                    TotalUcost = parseFloat(TotalUcost).toFixed(2);
                     if(TotalQuantity == 0 || isNaN(TotalQuantity)){
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':'+UnitCost).innerHTML = ''; 
                    }
                    if(TotalQuantity != 0){
                        var TotalCostRe = 0;
                        TotalQuantity = parseFloat(TotalQuantity)/100;
                        TotalCostRe = parseFloat((parseFloat(TotalUcost) / parseFloat(TotalQuantity)));
                        console.log('TotalCostRe '+TotalCostRe);
                        TotalCostRe = (TotalCostRe/4).toFixed(2);
                        document.getElementById('page:frm:rptBudgetLine:'+Index+':'+UnitCost).innerHTML = addCommas(TotalCostRe.toString());
                    }            
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':'+TotalUnitCostAll).innerHTML = addCommas(TotalUcost.toString());
                   
                }
            }
            
            function SaveAssumptionRecords(TrId,closeAss){
                
                if(document.getElementById(TrId).style.display == 'none'){
                    actSaveAssumption(closeAss,false);
                    return false;
                }else{
                   // actSaveAssumptionNew(closeAss);
                    actSaveAssumption(closeAss, true);
                    return false;
                }
              
            }
            
            function oncompleteAssumption(){
                document.getElementById('NewAssumptionTR').style.display = 'none';
                document.getElementById('AddButtonTD').style.display = '';
            }
            
            function ChangeCurrencyRate(Code,ChangeIndex,isNew){
            console.log(isNew);
            if(isNew == 'false'){
            actChangeCurrencyRateFromCode(Code,ChangeIndex,isNew);
            }else{
            console.log('in Else Condition');
            actChangeCurrencyRateFromCodeNew(Code,ChangeIndex,isNew);
            }
            return false;
        }
            function ChangeCurrencyRateNew(Code){
                actChangeCurrencyRateFromCodeNew(Code);
                return false;
            }
            function showRows(showNewRow){
            if(showNewRow == true){
                if(globalTR != '')document.getElementById(globalTR).style.display = '';
                document.getElementById(globalAssUnitMeasure).innerHTML = globalBLUnitMeasure;
                if(globalBtn != '')document.getElementById(globalBtn).style.display = 'none';
                if(globalhide != '')document.getElementById(globalhide).style.display = '';
            }else{
                if(globalTR != '')document.getElementById(globalTR).style.display = 'none';
                document.getElementById(globalAssUnitMeasure).innerHTML = globalBLUnitMeasure;
                if(globalBtn != '')document.getElementById(globalBtn).style.display = '';
                if(globalhide != '')document.getElementById(globalhide).style.display = 'none';
                
             } 
            }
            
            function displayApplyButton(AssmptionSet,Index){                
                if(AssmptionSet.value != ''){
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':btnApply').style.display = '';
                }else{
                    document.getElementById('page:frm:rptBudgetLine:'+Index+':btnApply').style.display = 'none';
                }
                return false;
            }
            
            function CalculateFOTotalQuantity(Q1,Q2,Q3,Q4,TotalAmt){
                /*alert('inside '+Q1+Q2+Q3+Q4+TotalAmt);
                var Year1Amt = document.getElementById(Q1).value;   
                var Year2Amt = document.getElementById(Q2).value;
                var Year3Amt = document.getElementById(Q3).value;
                var Year4Amt = document.getElementById(Q4).value;      
                if(Year1Amt == '' || Year1Amt == null) Year1Amt = 0;
                if(Year2Amt == '' || Year2Amt == null) Year2Amt = 0;
                if(Year3Amt == '' || Year3Amt == null) Year3Amt = 0;
                if(Year4Amt == '' || Year4Amt == null) Year4Amt = 0; 
                Year1Amt = RemoveComma(Year1Amt);
                Year2Amt = RemoveComma(Year2Amt);
                Year3Amt = RemoveComma(Year3Amt);
                Year4Amt = RemoveComma(Year4Amt);*/
                document.getElementById(TotalAmt).innerHTML =  addCommas(((parseFloat(CalculateQuantity(Q1)) + parseFloat(CalculateQuantity(Q2)) + parseFloat(CalculateQuantity(Q3)) + parseFloat(CalculateQuantity(Q4))).toFixed(2)).toString());
        //        alert(document.getElementById(TotalAmt).innerHTML);
                return false;
            }
           
            function colorCodeForValueSugg(PRUC,PRUCOut,FOUC,PRAnnualYear,FOAnnualYear,ValueSuggest){
                var PRunitCost
                console.log({!blnEditPRFields});
                if({!blnEditPRFields} == false)
                {
                    PRunitCost = document.getElementById(PRUCOut).innerHTML;
                }
                else
                {
                    PRunitCost = document.getElementById(PRUC).value;
                }
                var FOunitCost = document.getElementById(FOUC).value;
                var PRAnnualYear = document.getElementById(PRAnnualYear).innerHTML;
                var FOAnnualYear = document.getElementById(FOAnnualYear).value;
                if(PRunitCost== null) PRunitCost = 0;
                if(FOunitCost== null) FOunitCost = 0;
                if(PRAnnualYear== null) PRAnnualYear = 0;
                if(FOAnnualYear== null) FOAnnualYear = 0;
                
                if((parseInt(PRunitCost) != parseInt(FOunitCost)) || (parseInt(PRAnnualYear) != parseInt(FOAnnualYear)) ){
                    console.log('Value is not same' +parseInt(PRunitCost)+' '+ parseInt(FOunitCost) +' '+PRAnnualYear+' '+FOAnnualYear);
                    document.getElementById(ValueSuggest).style.backgroundColor = '#FFFFaa';
                }
                else{
                document.getElementById(ValueSuggest).style.backgroundColor= '#f9f9f9';
                }
            }
            function colorCodeForValueSuggGrntTotal(PRGrntTotal,FOGrntTotal,ValueSuggest){
                
                var PRGrantTotal = document.getElementById(PRGrntTotal).innerHTML;
                var FOGrantTotal = document.getElementById(FOGrntTotal).value;
                if(PRGrantTotal== null) PRGrantTotal = 0;
                if(FOGrantTotal== null) FOGrantTotal = 0;
                if((parseInt(PRGrantTotal) != parseInt(FOGrantTotal))){
                    console.log('Value is not same');
                    document.getElementById(ValueSuggest).style.backgroundColor = '#FFFFaa';
                }
                else{
                document.getElementById(ValueSuggest).style.backgroundColor= '#f9f9f9';
                }
            }
            
            function ClosePopupDelAss(popupId,retainPrev,isCostGroupng){
                document.getElementById(popupId).style.display = 'none';
                if(isCostGroupng == 'true'){
                    document.getElementById(retainPrev).value = '{!BLCostGrouping}';
                }else{
                    document.getElementById(retainPrev).value = '{!BlCostInp}';
                }
                return false;
            }
            
            function OpenDeletePopupAss(popupId,Index,Size,isCostGroupng){
                if(Size > 0){
                    document.getElementById(popupId).style.display = '';
                }else{
                    console.log(isCostGroupng);
                    if(isCostGroupng == 'true'){
                        console.log('inside If');
                        actPopulateCostInput(Index);
                        return false;
                    }else{
                         actPopulateCostGrouping(Index);
                         return false;
                    }
                }
                
            }
            
            function CommentPopUp(prComment,TGFComment,index){
                if(document.getElementById(prComment) != null)
                    document.getElementById(prComment).value= document.getElementById(prComment).defaultValue;
                if(document.getElementById(TGFComment) != null)     
                document.getElementById(TGFComment).value= document.getElementById(TGFComment).defaultValue;
                CancelDialogeBox(index);
            }
             //--------------------------------Script for Reference Number Validation Starts Here-------------------------------------------//
        function validateRefNum(refNum1){
            var patt1 = /^B_\d{2,5}[0-9]/g;
            var moduleName = '{!moduleName}';
            console.log('In else return true----');
            var refNum = refNum1.value;
            var duplicateNum = new Array;
            document.getElementById("divProcessing").style.display = 'block';
            var moduleId = '{!strModuleId}';
            var PFId = '{!PF.Id}';
            GMDetailedBudget.checkIfAlreadyPresent(refNum,moduleId, PFId,  function(result, event){
                if (event.status){
                console.log('Result---- '+result);
                    if( result != null && result != ''){
                        var errorMsg = 'This reference code is already used for budget line ';
                        
                        errorMsg += result;
                        errorMsg += ' for the module '+'{!moduleName}'+'. Are you sure you want to reuse this reference code? ';
                    var confirmAns  = confirm(errorMsg);
                        if(confirmAns == false){
                            refNum1.value = '';   
                            document.getElementById("divProcessing").style.display = 'none';
                        }else{  
                          document.getElementById("divProcessing").style.display = 'none';
                          return false;
                        }
                     }
                     document.getElementById("divProcessing").style.display = 'none';
                }
                
            }); 
        }
         
        //--------------------------------Script for Reference Number Validation Starts Here-------------------------------------------//
        function openProcessingWindow(){
            document.getElementById("divProcessing").style.display = 'block';
        }
        function closeProcessingWindow(){
            document.getElementById("divProcessing").style.display = 'none';
          }
        </script>
        
            <style type="text/css">
                 .custAssumptionPopup{
                    background-color: white;
                    border-width: 0px;
                    border-radius:10px;
                    border-style: solid;
                    /*z-index: 9999;*/
                    z-index: 51;
                    left: 6%;
                    padding:10px;
                    position: absolute;
                    top:30%;
                    width:91%;
                   
                }
                .popupAssumptionBackground{
                    background-color:black;
                    opacity: 0.20;
                    filter: alpha(opacity = 20);
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    /*z-index: 9998;*/
                    z-index: 50;
                    top: 0;
                    left: 0;
                   
                }
                .custDialogPopup{
                    background-color: white;
                    border-width: 0px;
                    border-radius:10px;
                    border-style: solid;
                    /*z-index: 9999;*/
                    z-index: 51;
                    left: 6%;
                    padding:10px;
                    position: absolute;
                    top:30%;
                   
                }
                .popupDialogBackground{
                    background-color:black;
                    opacity: 0.20;
                    filter: alpha(opacity = 20);
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    /*z-index: 9998;*/
                    z-index: 50;
                    top: 0;
                    left: 0;
                   
                }
                
        </style>
    </apex:form>
</apex:page>